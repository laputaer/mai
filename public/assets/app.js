(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.mai=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports={clubAddConfirmForm:require("./club-add-confirm-form"),clubAddPostForm:require("./club-add-post-form"),clubEditor:require("./club-editor"),clubNew:require("./club-new"),clubProfile:require("./club-profile"),clubRanking:require("./club-ranking"),clubSearch:require("./club-search"),club:require("./club"),customError:require("./custom-error"),doc:require("./doc"),help:require("./help"),home:require("./home"),login:require("./login"),userProfile:require("./user-profile")}},{"./club":9,"./club-add-confirm-form":2,"./club-add-post-form":3,"./club-editor":4,"./club-new":5,"./club-profile":6,"./club-ranking":7,"./club-search":8,"./custom-error":10,"./doc":11,"./help":12,"./home":13,"./login":15,"./user-profile":16}],2:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){var flash=data.flash;data.title_group=templates.common.formGroup({id:"club-post-title",name:"title",value:flash&&flash.body?flash.body.title:"",error:flash&&flash.attrs&&flash.attrs.indexOf("title")!==-1?".error":"",label:i18n.t("club.post-title"),note:i18n.t("club.post-title-note"),placeholder:i18n.t("club.post-title-placeholder")});data.summary_group=templates.common.formTextArea({id:"club-post-summary",name:"summary",value:flash&&flash.body?flash.body.summary:"",error:flash&&flash.attrs&&flash.attrs.indexOf("summary")!==-1?".error":"",label:i18n.t("club.post-summary"),note:i18n.t("club.post-summary-note"),placeholder:i18n.t("club.post-summary-placeholder")});data.form_submit=templates.common.formSubmit({text:i18n.t("club.confirm-post-submit")});data.form_cancel=templates.common.button({href:"/c/"+data.club.slug,text:i18n.t("club.edit-form-cancel"),type:["cancel"]});data.form_title=i18n.t("club.confirm-post");data.form_intro=i18n.t("club.confirm-post-intro");data.csrf_field=templates.common.csrfField({csrf_token:data.current_user.csrf_token});data.club_form_error=templates.common.formError(data);data.post_preview=templates.club.postPreview(data);data.main=templates.club.addConfirmForm(data);data.page_title=i18n.t("club.confirm-post");return data}},{"../templates/i18n":71,"../templates/index":72}],3:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){var flash=data.flash;data.url_group=templates.common.formGroup({id:"club-post-link",name:"link",value:flash&&flash.body?flash.body.link:"",error:flash&&flash.attrs&&flash.attrs.indexOf("link")!==-1?".error":"",label:i18n.t("club.post-link"),note:i18n.t("club.post-link-note"),placeholder:i18n.t("club.post-link-placeholder")});data.form_submit=templates.common.formSubmit({text:i18n.t("club.new-post-submit")});data.form_cancel=templates.common.button({href:"/c/"+data.club.slug,text:i18n.t("club.edit-form-cancel"),type:["cancel"]});data.form_title=i18n.t("club.new-post");data.form_intro=i18n.t("club.new-post-intro");data.csrf_field=templates.common.csrfField({csrf_token:data.current_user.csrf_token});data.club_form_error=templates.common.formError(data);data.main=templates.club.addPostForm(data);data.page_title=i18n.t("club.new-post");return data}},{"../templates/i18n":71,"../templates/index":72}],4:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){var flash=data.flash;data.title_group=templates.common.formGroup({id:"club-title",name:"title",value:flash&&flash.body?flash.body.title:data.club.title,error:flash&&flash.attrs&&flash.attrs.indexOf("title")!==-1?".error":"",label:i18n.t("club.edit-title"),note:i18n.t("club.edit-title-note"),placeholder:i18n.t("club.edit-title-placeholder")});data.slug_group=templates.common.formGroup({id:"club-slug",name:"slug",value:flash&&flash.body?flash.body.slug:data.club.slug,error:flash&&flash.attrs&&flash.attrs.indexOf("slug")!==-1?".error":"",label:i18n.t("club.edit-slug"),note:i18n.t("club.edit-slug-note"),placeholder:i18n.t("club.edit-slug-placeholder")});data.intro_group=templates.common.formGroup({id:"club-intro",name:"intro",value:flash&&flash.body?flash.body.intro:data.club.intro||"",error:flash&&flash.attrs&&flash.attrs.indexOf("intro")!==-1?".error":"",label:i18n.t("club.edit-intro"),note:i18n.t("club.edit-intro-note"),placeholder:i18n.t("club.edit-intro-placeholder")});data.logo_group=templates.common.formGroup({id:"club-logo",name:"logo",value:flash&&flash.body?flash.body.logo:data.club.logo||"",error:flash&&flash.attrs&&flash.attrs.indexOf("logo")!==-1?".error":"",label:i18n.t("club.edit-logo"),note:i18n.t("club.edit-logo-note"),placeholder:i18n.t("club.edit-logo-placeholder")});data.form_submit=templates.common.formSubmit({text:i18n.t("club.edit-club-submit")});data.form_cancel=templates.common.button({href:"/c/"+data.club.slug,text:i18n.t("club.edit-form-cancel"),type:["cancel"]});data.form_title=i18n.t("club.edit-club");data.form_intro=i18n.t("club.edit-club-intro");data.csrf_field=templates.common.csrfField({csrf_token:data.current_user.csrf_token});data.club_form_error=templates.common.formError(data);data.main=templates.club.editorForm(data);data.page_title=i18n.t("club.edit-club");return data}},{"../templates/i18n":71,"../templates/index":72}],5:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){var flash=data.flash;data.title_group=templates.common.formGroup({id:"club-title",name:"title",value:flash&&flash.body?flash.body.title:"",error:flash&&flash.attrs&&flash.attrs.indexOf("title")!==-1?".error":"",label:i18n.t("club.edit-title"),note:i18n.t("club.edit-title-note"),placeholder:i18n.t("club.edit-title-placeholder")});data.slug_group=templates.common.formGroup({id:"club-slug",name:"slug",value:flash&&flash.body?flash.body.slug:"",error:flash&&flash.attrs&&flash.attrs.indexOf("slug")!==-1?".error":"",label:i18n.t("club.edit-slug"),note:i18n.t("club.edit-slug-note"),placeholder:i18n.t("club.edit-slug-placeholder")});data.form_submit=templates.common.formSubmit({text:i18n.t("club.new-club-submit")});data.form_title=i18n.t("club.new-club");data.form_intro=i18n.t("club.new-club-intro");data.csrf_field=templates.common.csrfField({csrf_token:data.current_user.csrf_token});data.club_form_error=templates.common.formError(data);data.main=templates.club.editorForm(data);data.page_title=i18n.t("club.new-club");return data}},{"../templates/i18n":71,"../templates/index":72}],6:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){if(data.current_user){data.csrf_field=templates.common.csrfField({csrf_token:data.current_user.csrf_token});if(data.current_user.uid===data.club.owner){data.club_management=templates.common.button({href:"/c/"+data.club.slug+"/edit",icon:"setting",text:i18n.t("club.edit-club"),type:["small","highlight"],version:data.version.asset,base_url:data.base_url});data.share_button=templates.common.button({href:"https://twitter.com/intent/tweet?url="+encodeURIComponent(data.current_url)+"&text="+i18n.t("club.share-owner-text",{title:data.club.title}),icon:"twitter",text:i18n.t("club.share-button"),type:["small","twitter"],target:"_blank",version:data.version.asset,base_url:data.base_url})}if(data.current_user.uid!==data.club.owner&&data.membership){data.club_leave=templates.common.formButton({icon:"profile_remove",text:i18n.t("club.leave-button"),version:data.version.asset,type:["small"],name:"leave",value:"1",base_url:data.base_url});data.share_button=templates.common.button({href:"https://twitter.com/intent/tweet?url="+encodeURIComponent(data.current_url)+"&text="+i18n.t("club.share-other-text",{title:data.club.title}),icon:"twitter",text:i18n.t("club.share-button"),type:["small","twitter"],target:"_blank",version:data.version.asset,base_url:data.base_url})}if(data.current_user.uid!==data.club.owner&&!data.membership){data.club_join=templates.common.formButton({icon:"profile_add",text:i18n.t("club.join-button"),type:["small","accept"],version:data.version.asset,name:"join",value:"1",base_url:data.base_url})}data.add_post=templates.common.button({href:"/c/"+data.club.slug+"/p/post-add",icon:"dialogue_add",text:i18n.t("club.post-button"),type:["small","post"],version:data.version.asset,base_url:data.base_url})}data.club_form_error=templates.common.formError(data);data.post_list=data.posts.map(function(post){return templates.club.postItem({post:post})});data.main=templates.club.profile(data);data.page_title=data.club.title+" ("+data.club.slug+")";data.page_description=data.club.intro;data.page_opengraph={title:data.page_title,url:data.canonical_url,image:data.club.full_avatar+"&size=400"};return data}},{"../templates/i18n":71,"../templates/index":72}],7:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){data.ranking_result=data.clubs.map(function(club){return templates.common.clubPreview({club:club})});data.created_result=data.clubs_created.map(function(club){return templates.common.clubPreview({club:club})});data.main=templates.page.ranking(data);data.page_title=i18n.t("menu.nav.ranking");return data}},{"../templates/i18n":71,"../templates/index":72}],8:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){var flash=data.flash;data.search_group=templates.common.formSearch({id:"club-search",name:"q",value:flash&&flash.body?flash.body.q:data.search,error:flash&&flash.attrs&&flash.attrs.indexOf("q")!==-1?".error":""});data.search_result=data.clubs.map(function(club){return templates.common.clubPreview({club:club})});data.club_form_error=templates.common.formError(data);data.main=templates.club.searchClub(data);data.page_title=i18n.t("club.search-club");return data}},{"../templates/i18n":71,"../templates/index":72}],9:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){data.club_create_button=templates.common.button({href:"/c/club-add",icon:"dialogue_add",text:i18n.t("club.create-button"),type:["highlight"],version:data.version.asset,base_url:data.base_url});data.my_club_buttons=data.clubs.map(function(club){return templates.common.clubPreview({club:club})});data.my_joined_club_buttons=data.joined_clubs.map(function(club){return templates.common.clubPreview({club:club})});data.search_group=templates.common.formSearch({id:"club-search",name:"q",value:"",error:""});data.main=templates.club.userHome(data);data.page_title=i18n.t("menu.nav.club");return data}},{"../templates/i18n":71,"../templates/index":72}],10:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.placeholder=templates.common.placeholder({content:templates.common.customError(data)});return data}},{"../templates/index":72}],11:[function(require,module,exports){var templates=require("../templates/index");module.exports=builder;function builder(data){data.header=templates.common.header(data);data.footer=templates.common.footer(data);data.discover=templates.common.discover(data);data.login=templates.common.loginScreen(data);data.page=templates.main(data);if(data.client){return data.page}data.head=templates.head(data);data.body=templates.body(data);return templates.doc(data)}},{"../templates/index":72}],12:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=partial;function partial(data){data.main=templates.page.userManual(data);data.page_title=i18n.t("menu.nav.help");return data}},{"../templates/i18n":71,"../templates/index":72}],13:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.home(data);return data}},{"../templates/index":72}],14:[function(require,module,exports){module.exports=immutable;function immutable(fn,data){if(typeof data!=="object"||!data.client){return fn(data)}var key;if(typeof data==="object"&&data.hasOwnProperty("key")){key=data.key}return new ImmutableThunk(fn,data,key)}function eq(current,previous){try{if(typeof current==="object"&&Object.isFrozen(current)){return current===previous}return false}catch(err){return false}}function ImmutableThunk(fn,data,key){this.fn=fn;this.data=data;this.key=key}ImmutableThunk.prototype.type="Thunk";ImmutableThunk.prototype.render=function(previous){if(!previous||!eq(this.data,previous.data)){return this.fn.call(null,this.data)}else{return previous.vnode}}},{}],15:[function(require,module,exports){var templates=require("../templates/index");var i18n=require("../templates/i18n")();module.exports=renderer;function renderer(data){data.login=[];data.login.push(templates.common.button({type:["medium","twitter"],href:"/connect/twitter",icon:"twitter",text:i18n.t("menu.login.twitter"),version:data.version.asset,base_url:data.base_url}));data.login.push(templates.common.button({type:["medium","github"],href:"/connect/github",icon:"github",text:i18n.t("menu.login.github"),version:data.version.asset,base_url:data.base_url}));data.content=templates.common.login(data);data.placeholder=templates.common.placeholder(data);return data}},{"../templates/i18n":71,"../templates/index":72}],16:[function(require,module,exports){var templates=require("../templates/index");var immutable=require("./immutable");module.exports=renderer;function renderer(data){data.post_list=data.posts.map(function(post){return immutable(templates.common.preview,post)});data.main=templates.user.profile(data);data.page_title=data.user.name+" ("+data.user.login+")";data.page_opengraph={title:data.page_title,url:data.canonical_url,image:data.user.full_avatar+"&size=400"};return data}},{"../templates/index":72,"./immutable":14}],17:[function(require,module,exports){"use strict";var Service=require("./service");var Model=require("./model");var Renderer=require("./renderer");var router=require("./router");module.exports=App;function App(){if(!(this instanceof App)){return new App}this.service=new Service;this.model=new Model;this.renderer=new Renderer}App.prototype.init=function(){var self=this;self.renderer.init({container:document.querySelector(".page")});return self.service.init().then(function(data){self.model.init(data)})};App.prototype.update=function(){var self=this;var name=router(self.model.get());if(!name){return Promise.resolve(null)}return self.service.sync(name).then(function(data){self.model.update(data);self.renderer.update(name,self.model.get())})};App.prototype.refresh=function(){var self=this;var name=router(self.model.get());if(!name){return Promise.resolve(false)}self.renderer.update(name,self.model.get())};App.prototype.read=function(path){var self=this;return self.model.get(path)};App.prototype.modify=function(path,data){var self=this;return self.model.set(path,data)};App.prototype.ready=function(state){this.ready_flag=state};App.prototype.isReady=function(){return this.ready_flag};App.prototype.load=function(name,opts){var self=this;var route=router(self.model.get());if(!route){return Promise.resolve(null)}return self.service.fetch(name,opts.query).then(function(data){if(data.endpoint.ok){self.model.append(name,data.endpoint.data,opts.key)}})};App.prototype.json=function(method,url,opts){var self=this;opts=opts||{};opts.method=method||"GET";return self.service.send(url,opts).then(function(res){if(!res.ok){return{}}return res.json()}).then(function(json){if(!json){return{}}return json})}},{"./model":21,"./renderer":22,"./router":23,"./service":24}],18:[function(require,module,exports){"use strict";var win=window;var noop=function(){};module.exports=Benchmark;function Benchmark(active){if(!(this instanceof Benchmark)){return new Benchmark(active)}if(!active){this.start=noop;this.incr=noop;this.patchFilter=noop;return this}this.active=active||false;this.start=function(name,data){this.first=this._now();this.last=this.first;this._debug(name+": 0ms",data)};this.incr=function(name,data){name=name||"unknown";var current=this._now();this._debug(name+": +"+Math.round(current-this.last)+"ms, "+Math.round(current-this.first)+"ms",data);this.last=current};this.patchFilter=function(data){var output={};for(var p in data){if(data.hasOwnProperty(p)&&data[p]&&data[p].type!==4){output[p]=data[p]}}return output};this._debug=function(){var args=[];for(var i=0;i<arguments.length;i++){if(!arguments[i]){continue}args.push(arguments[i])}console.debug.apply(console,args)};this._now=function(){if(win.performance){return win.performance.now()}else{return win.Date.now()}};this.first=this._now();this.last=this.first;return this}},{}],19:[function(require,module,exports){"use strict";var keys=[37,38,39,40,32,33,34,35,36];var win=window;var doc=document;module.exports=toggleScroll;function toggleScroll(flag){if(flag){enableScroll()}else{disableScroll()}}function disableScroll(){win.onwheel=preventDefault;win.ontouchmove=preventDefault;doc.onkeydown=preventDefaultForScrollKeys}function enableScroll(){win.onwheel=null;win.ontouchmove=null;doc.onkeydown=null}function preventDefaultForScrollKeys(e){if(keys.indexOf(e.keyCode)>-1){preventDefault(e)}}function preventDefault(e){e=e||win.event;if(e.preventDefault){e.preventDefault()}}},{}],20:[function(require,module,exports){"use strict";require("lazysizes/plugins/respimg/ls.respimg.js");require("lazysizes/plugins/bgset/ls.bgset.js");require("lazysizes/plugins/progressive/ls.progressive.js");require("lazysizes");require("./vendor/svg4everybody");require("whatwg-fetch");require("native-promise-only");var toggleScroll=require("./helpers/toggle-body-scroll");var domready=require("domready");var App=require("./app");var app=new App;require("dom-delegator")();var emitter=require("../templates/emitter");domready(init);function init(){app.init().then(function(){return app.update()}).then(function(){app.ready(true)})}emitter.on("page:nav:open",function(){toggleScroll(false);app.modify(["ui","modal"],"nav");app.refresh()});emitter.on("page:nav:close",function(){toggleScroll(true);app.modify(["ui","modal"],false);app.refresh()});emitter.on("page:login:open",function(){toggleScroll(false);app.modify(["ui","modal"],"login");app.refresh()});emitter.on("page:login:close",function(){toggleScroll(true);app.modify(["ui","modal"],false);app.refresh()});emitter.on("page:load:post",function(){var count=app.read(["ui","load_post"])||0;var limit=20;var skip=count+limit;app.modify(["ui","load_post"],skip);app.refresh();app.load("featured_posts",{query:{skip:skip,limit:limit},key:"pid"})});emitter.on("page:favorite:create",function(data){createFavorite(data.order);app.json("PUT","/posts/"+data.id+"/favorite").then(function(res){if(res.ok){return}deleteFavorite(data.order)})});emitter.on("page:favorite:remove",function(data){deleteFavorite(data.order);app.json("DELETE","/posts/"+data.id+"/favorite").then(function(res){if(res.ok){return}createFavorite(data.order)})});function createFavorite(order){var fav_point_path=["featured_posts",order,"fav_point"];var fav_point=app.read(fav_point_path)||0;app.modify(fav_point_path,fav_point+1);app.modify(["featured_posts",order,"current_user_fav"],true);app.refresh()}function deleteFavorite(order){var fav_point_path=["featured_posts",order,"fav_point"];var fav_point=app.read(fav_point_path)||0;app.modify(fav_point_path,fav_point-1);app.modify(["featured_posts",order,"current_user_fav"],false);app.refresh()}},{"../templates/emitter":69,"./app":17,"./helpers/toggle-body-scroll":19,"./vendor/svg4everybody":25,"dom-delegator":86,domready:97,lazysizes:99,"lazysizes/plugins/bgset/ls.bgset.js":100,"lazysizes/plugins/progressive/ls.progressive.js":101,"lazysizes/plugins/respimg/ls.respimg.js":102,"native-promise-only":103,"whatwg-fetch":145}],21:[function(require,module,exports){"use strict";var win=window;var doc=document;var I=require("icepick");var removeTrailingSlash=require("../helpers/remove-trailing-slash");var getVarType=require("../helpers/get-variable-type");module.exports=Model;function Model(){if(!(this instanceof Model)){return new Model}this.store=I.freeze({})}Model.prototype.init=function(data){this.set("client",true);this.set("locale",data.global.data.locale);this.set("version",data.global.data.version);this.set("base_url",data.global.data.base_url);this.set("current_path",removeTrailingSlash(win.location.pathname));this.set("current_url",win.location.href);this.set("ui",{});if(!data.global.data.current_user){return}this.set("current_user",data.global.data.current_user);var crsf_meta=doc.head.querySelector('meta[name="mai:token"]');if(crsf_meta){this.set(["current_user","csrf_token"],crsf_meta.content)}};Model.prototype.update=function(data){for(var prop in data){if(!data.hasOwnProperty(prop)){continue}if(!data[prop].ok){continue}this.set(prop,data[prop].data)}};Model.prototype.set=function(path,data){if(getVarType(path)==="String"){this.store=I.assoc(this.store,path,data);return this.store}else if(getVarType(path)==="Array"){this.store=I.assocIn(this.store,path,data);return this.store}throw new Error("set: invalid path")};Model.prototype.get=function(path){if(!path){return this.store}else if(getVarType(path)==="String"){return this.store[path]}else if(getVarType(path)==="Array"){return I.getIn(this.store,path)}throw new Error("get: invalid path")};Model.prototype.append=function(path,data,key){var arr;if(getVarType(path)==="String"){arr=this.store[path]}else if(getVarType(path)==="Array"){arr=I.getIn(this.store,path)}else{throw new Error("append: invalid path")}if(!Array.isArray(arr)){throw new Error("append: data on path is not an array")}var pos;if(key){arr.some(function(item,i){if(item.hasOwnProperty(key)&&data.hasOwnProperty(key)&&item[key]===data[key]){pos=i;return true}return false})}if(pos!==undefined){this.set(path,I.push(arr,data))}else{var new_path=typeof path==="string"?[path,pos]:path.concat(pos);this.set(new_path,data)}}},{"../helpers/get-variable-type":27,"../helpers/remove-trailing-slash":28,icepick:98}],22:[function(require,module,exports){"use strict";var doc=document;var builders=require("../builders/builders");var bench=require("./benchmark")(true);var extend=require("xtend");var diff=require("virtual-dom/diff");var patch=require("virtual-dom/patch");var parser=require("vdom-parser");module.exports=Renderer;function Renderer(){if(!(this instanceof Renderer)){return new Renderer}this.vdomCache=null;this.nodeCache=null;this.modelCache=null}Renderer.prototype.init=function(opts){if(this.vdomCache&&this.nodeCache){return}opts=opts||{};var container=opts.container||doc.body;bench.start("init");this.vdomCache=parser(container,"id");bench.incr("parser done");this.nodeCache=container};Renderer.prototype.update=function(name,model){if(this.modelCache===model){return}this.modelCache=model;bench.start("update");var data=extend({},model);var vdom;try{bench.incr("copy done");data=builders[name](data);vdom=builders.doc(data)}catch(err){bench.incr("vdom error",err)}if(!vdom){return}bench.incr("vdom done");var patches=diff(this.vdomCache,vdom);bench.incr("diff done",bench.patchFilter(patches));this.nodeCache=patch(this.nodeCache,patches);bench.incr("patch done");this.vdomCache=vdom}},{"../builders/builders":1,"./benchmark":18,"vdom-parser":107,"virtual-dom/diff":110,"virtual-dom/patch":119,xtend:146}],23:[function(require,module,exports){var createRoute=require("../helpers/create-named-route");var routes={home:createRoute("^/$"),help:createRoute("^/help$")};module.exports=router;function router(data){var path=data.current_path;var name;for(var route in routes){if(!routes.hasOwnProperty(route)){continue}if(!routes[route].test(path)){continue}name=route;break}return name}},{"../helpers/create-named-route":26}],24:[function(require,module,exports){"use strict";var prefix="/api/v1";var api={init:{global:"/global"},home:{featured_clubs:"/featured/clubs",featured_posts:"/featured/posts?skip=0&limit=20"},help:{},featured_posts:{endpoint:"/featured/posts"}};module.exports=Service;function Service(){if(!(this instanceof Service)){return new Service}}Service.prototype.init=function(){return this.fetch("init")};Service.prototype.sync=function(name){return this.fetch(name)};Service.prototype.send=function(url,opts){opts=opts||{};if(!opts.credentials){opts.credentials="same-origin"}return fetch(prefix+url,opts)};Service.prototype.fetch=function(name,opts){opts=opts||{};var endpoint=api[name];var results={};var fetches=[];var queries="";for(var query in opts){if(!opts.hasOwnProperty(query)){continue}if(!queries){queries+="?"+query+"="+opts[query]}else{queries+="&"+query+"="+opts[query]}}for(var prop in endpoint){if(!endpoint.hasOwnProperty(prop)){continue}var f=fetch(prefix+endpoint[prop]+queries,{credentials:"same-origin"});deferFetch(fetches,f,results,prop)}return Promise.all(fetches).then(function(){return results})};function deferFetch(ps,p,results,name){results[name]=null;ps.push(p.then(function(res){if(!res.ok){results[name]=null;return null}return res.json()}).then(function(json){if(!json){results[name]=null;return null}results[name]=json}))}},{}],25:[function(require,module,exports){(function(global){var __browserify_shim_require__=require;(function browserifyShim(module,define,require){(function(document,uses,requestAnimationFrame,CACHE,IE9TO11){function embed(svg,g){if(g){var viewBox=g.getAttribute("viewBox"),fragment=document.createDocumentFragment(),clone=g.cloneNode(true);if(viewBox){svg.setAttribute("viewBox",viewBox)}while(clone.childNodes.length){fragment.appendChild(clone.childNodes[0])}svg.appendChild(fragment)}}function onload(){var xhr=this,x=document.createElement("x"),s=xhr.s;x.innerHTML=xhr.responseText;xhr.onload=function(){s.splice(0).map(function(array){embed(array[0],x.querySelector("#"+array[1].replace(/(\W)/g,"\\$1")))})};xhr.onload()}function onframe(){var use;while(use=uses[0]){var svg=use.parentNode,url=use.getAttribute("xlink:href").split("#"),url_root=url[0],url_hash=url[1];svg.removeChild(use);if(url_root.length){var xhr=CACHE[url_root]=CACHE[url_root]||new XMLHttpRequest;if(!xhr.s){xhr.s=[];xhr.open("GET",url_root);xhr.onload=onload;xhr.send()}xhr.s.push([svg,url_hash]);if(xhr.readyState===4){xhr.onload()}}else{embed(svg,document.getElementById(url_hash))}}requestAnimationFrame(onframe)}if(IE9TO11){onframe()}})(document,document.getElementsByTagName("use"),window.requestAnimationFrame||window.setTimeout,{},/Trident\/[567]\b/.test(navigator.userAgent)||(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]<537)}).call(global,module,undefined,undefined)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],26:[function(require,module,exports){module.exports=helper;function helper(route){return new RegExp(route.replace(/:[^\s\$\/]+/g,"([\\w-]+)"))}},{}],27:[function(require,module,exports){module.exports=helper;function helper(input){return Object.prototype.toString.call(input).slice(8,-1)}},{}],28:[function(require,module,exports){module.exports=helper;function helper(path){if(path==="/"){return path}return path.replace(/\/+$/,"")}},{}],29:[function(require,module,exports){module.exports={}},{}],30:[function(require,module,exports){module.exports=Translation;function Translation(i18n,opts){if(!i18n){throw new Error("translator missing")}opts=opts||{};this.i18n=i18n;this.prefix=opts.locale||"zh-cn"}Translation.prototype.locale=function(name){if(!name){return this.prefix}this.prefix=name;return this.prefix};Translation.prototype.t=function(name,data){return this.i18n.t(this.prefix+"."+name,data)}},{}],31:[function(require,module,exports){module.exports={common:{title:"入部么","app-title":"入部么",description:"「入部么」是全球首家关注与支持「小众文化」的社区。欢迎你与我们一道，分享独特的「消费主义」与「文化信仰」。",domain:"rubu.me",tagline:"「与世界一同入迷」","tagline-alt":"「与朋友一起探索」"},menu:{nav:{home:"首页",club:"我的社团",ranking:"排行榜",help:"使用指南",discover:"导航",login:"登录","login-alt":"加入我们"},login:{twitter:"Twitter账号",github:"Github账号",weibo:"新浪微博账号"},footer:{copyright:"© MaiHQ",contact:"联系我们",privacy:"隐私政策",terms:"服务条款"}},section:{titles:{"featured-clubs":"推荐社团","featured-posts":"社区精选"},load:{"featured-post":"载入更多精彩内容"}},placeholder:{apology:"抱歉",explanation:"让你看到了我们还没准备好的页面",suggestion:"如果你认为我们显示了错误的结果","main-feedback":"请联系开发者","secondary-feedback":"或到我们的","secondary-feedback-name":"开放反馈区","secondary-feedback-action":"提交建议",login:"登录社区","image-preview":"的预览图片","avatar-preview":"的预览头像","action-done":"操作完成"},error:{"status-code":"Error %{code}","internal-service-down":"非常抱歉，我们的内部服务出了点问题。如果你正在执行操作，请重新尝试。","access-control":"你没有权限执行这个操作","login-required":"你访问的功能需要登录用户账号","invalid-csrf-token":"你提交的内容缺乏验证用的安全Token，请重新提交，同时检查域名是否为 https://mai3.me/","form-input-invalid":"提交内容的格式不符合要求","insufficient-action-point":"看来你的信仰值不足执行动作，需要 %{required} 点信仰，你目前只有 %{current} 点","not-found-page":"你要找的页面不存在","not-found-user":"你要找的团员不存在","not-found-club":"你要找的社团不存在","not-found-post":"你要找的文章不存在","not-found-favorite":"你要找的收藏不存在","oauth-error-response":"请求 %{provider} 访问权限时发生错误，你允许了我们的请求吗？请再次尝试登陆。","oauth-error-profile":"请求 %{provider} 用户数据时发生错误，如重复出现，请联系我们反馈错误。","oauth-invalid-profile":"请求 %{provider} 时得到了不正确的用户数据，如重复出现，请联系我们反馈错误。","club-already-exist":"同路径的社团已存在，请选择另一个路径。","opengraph-error-response":"请求远端页面时出现了网络错误，可能理由：(1) 该页面不支持站外引用 (2) 暂时的网络错误","opengraph-invalid-profile":"请求远端页面时得到了不正确数据，如重复出现，请联系我们反馈错误。","membership-required-to-post":"你需要先加入社团才能发布分享。","duplicate-action":"你已经执行过这个操作。"},user:{"oauth-origin":"来自站点","current-action-point":"当前信仰","base-action-point":"信仰基数","placeholder-1":"感谢注册，请静候本站的变化。","placeholder-2":"等不及？请到 %{feedback} 或 %{developer} 反馈你的好点子！"},club:{"new-club":"创建社团","new-club-intro":"欢迎创建属于你的社团，如果这是你第一次尝试创建社团，请务必查看「使用帮助」。","new-club-submit":"确认创建","edit-club":"管理社团","edit-club-intro":"欢迎回来，团长。在这里你可以管理社团的各种常见设定：名称、路径、简介、团徽等等。更多功能将随着社团的成长加入。","edit-club-submit":"确认修改","edit-form-cancel":"返回社团","edit-title":"社团名称","edit-title-note":"允许2-16个字符","edit-title-placeholder":"例如：Love Live","edit-slug":"社团路径","edit-slug-note":"允许2-16个字符，仅限小写英文字母、数字和连字符","edit-slug-placeholder":"例如：love-live","edit-intro":"社团简介","edit-intro-note":"允许2-32个字符，可留空","edit-intro-placeholder":"例如：LL大法好！","edit-logo":"社团标志","edit-logo-note":"支持 Flickr / Pixiv / DeviantArt 等图片网址，可留空","edit-logo-placeholder":"例如：http://flic.kr/p/...","search-club":"搜索社团","search-term":"搜索标题和路径","search-term-note":"允许2-32个字符，可使用前缀，例如搜索 im 会返回 imas 社团。","search-term-placeholder":"例如：imas","search-submit":"搜索","search-result":"搜索结果","search-result-intro":"以 %{search} 开头的社团 (%{count})","create-club":"创建社团","create-club-intro":"你有 %{action_point} 点信仰值，创建社团需要 10 点信仰。","create-button":"创建社团","owned-club":"我创建的社团","joined-club":"我加入的社团","welcome-message":"欢迎访问「%{title}」社团。","welcome-intro":"社团简介","owner-intro":"社团口号：%{intro}","message-board":"社团分享",lv0:"组建中",lv1:"新手社团",lv2:"正规社团",lv3:"活跃社团",
lv4:"核心社团",lv5:"偶像社团",lv6:"稀有社团",lv7:"史诗社团",lv8:"%{custom}","member-count":"成员总数","total-point":"累计信仰",level:"社团级别",owner:"社团创始人","image-source":"图片来源","image-source-url":"%{provider}","join-button":"加入社团","leave-button":"退出社团","post-button":"发布新分享","share-button":"分享到 Twitter","new-post":"发布新分享","new-post-intro":"看到或发布了值得分享的内容？只需要输入链接，在下一步你将有机会调整分享内容的细节。","new-post-submit":"进入下一步","confirm-post":"发布内容预览","confirm-post-intro":"在这里你可以给发布的内容加上自定义标题与个人总结。","confirm-post-submit":"确认发布","post-link":"内容地址","post-link-note":"复制内容对应的网址","post-link-placeholder":"例如：http://twitter.com/...","post-title":"自定义标题","post-title-note":"允许2-32个字符","post-title-placeholder":"例如：一句话介绍内容","post-summary":"内容节选、推荐总结","post-summary-note":"允许2-64个字符","post-summary-placeholder":"例如：推荐内容的精彩之处","join-stats":"你有 %{current} 点信仰值，将投入 2 点信仰。","share-owner-text":"我创建了一个叫 %{title} 的社团，需要5人才能存活，你不来帮忙吗？","share-other-text":"我加入了一个叫 %{title} 的社团，据说要5人才能存活，你不来帮忙吗？","activity-item-1":"在社团","activity-item-2":"上分享了","activity-item-3":"的内容","posted-on":"发布在","posted-by":"发布者","ranking-result":"今日社团排名","ranking-created":"新社团列表","home-result":"今日社团更新","user-result":"用户近期更新"},help:{"main-title":"使用帮助","main-title-note":"在这里你可以找到有关「入部么」的功能介绍与常见问题回答。","main-title-suggestion":"未能找到你关心的解答？","about-us-question":"「入部么」是什么？","about-us-answer-1":"我们是一个连接创作者与消费者的社区。","why-us-question":"为什么创建这个社区？","why-us-answer-1":"我们希望给创作者与消费者一片天地，交换有趣的创意，建立友好的关系。","why-us-answer-2":"对于创作者而言：获得更多读者、观众、用户、同路人的建议反馈。","why-us-answer-3":"对于消费者而言：与作者、其他爱好者直接沟通，分享心得与体验。","about-club-question":"「社团」是什么？","about-club-answer-1":"我们认为「社团」是文化的集合。","about-club-answer-2":"我们认为「社团」代表开放、互助、激励的精神。","about-tagline-question":"什么是「产品信仰」和「消费文化」？","about-tagline-answer-1":"简单归纳，「产品信仰」是人们对产品的喜爱，「消费文化」是这些喜爱的集合。","about-tagline-answer-2":"在我们眼中，「产品」是值得消费的文化；组成文化的，是每个产品和它背后的创作者与消费者。","club-guideline-question":"社团组建，便捷教程","club-guideline-answer-1":"创建一个社团只需要填两个输入框，但要维护好一个的社团，却有不少技巧。","club-guideline-naming-question":"社团主题选择","club-guideline-naming-answer-1":"我们鼓励：","club-guideline-naming-answer-2":"(1) 围绕产品成立社团，例如：一部动画、一本小说、一家网站、一款应用。","club-guideline-naming-answer-3":"(2) 围绕文化成立社团，例如：一派风格、一种文体、一套设计、一类服务。","club-guideline-naming-answer-4":"(3) 选择你自身参与或很感兴趣的内容作为主题。","club-guideline-naming-answer-5":"我们不鼓励：","club-guideline-naming-answer-6":"(1) 围绕国家、地域、宗教、党派、性别、年龄等主题组织成立社团。它们不符合社团的开放精神。","club-guideline-naming-answer-7":"(2) 围绕人身攻击、负面情绪的主题成立社团，例如：果黑、FFF团。它们不符合社团的激励精神。","club-guideline-naming-answer-8":"(3) 选择你不了解的流行话题、以任何形式代表产品或作者（除非你是作者）。","club-guideline-naming-answer-9":"别忘了，社团的成功，很大程度上取决于创始人的积极性和主题的专业性。","club-guideline-operation-question":"社团运营建议","club-guideline-operation-answer-1":"确定了名称与路径之后，你的社团就正式开始运作了。但如何让更多同路人、爱好者加入你？","club-guideline-operation-answer-2":"(1) 亲自宣传：将社团分享至社交网络上，召唤朋友为你的社团存亡努力吧！","club-guideline-operation-answer-3":"(2) 独特内容：你希望社团的好名远扬？那分享乃至创作独特的内容必不可少。","club-guideline-operation-answer-4":"(3) 互联互动：如何培养友好的社团气氛？关注好内容的出处、鼓励参与者的协助。","club-guideline-operation-answer-5":"四字总结：身先士卒。从说服自己动作开始，号召更多人参与吧！","club-guideline-content-question":"社团内容限制","club-guideline-content-answer-1":"为了维护一个适合普通大众访问的社区，我们不得不在社团内容上做一定程度的审查与限制。如果你有任何疑问或反馈，请利用顶部的通信方式与我们联系。","club-guideline-content-answer-2":"(1) R18内容：由于缺乏年龄过滤系统与可执行的法律法规，我们不鼓励发布这类内容。它们会被隐藏或删除。","club-guideline-content-answer-3":"(2) 非法下载：这类内容与我们社区尊重创作者的文化背道而驰。它们会被删除。","club-guideline-content-answer-4":"(3) 垃圾广告：一定程度的自我宣传是可以接受的，但干扰他人正常访问的垃圾信息我们肯定会删除。","club-guideline-content-answer-5":"(4) 偏题内容：优秀的社团都有一定的主题，过多与社团主题无关的内容，也可能被我们隐藏或删除。","club-guideline-content-answer-6":"我们会基于社区实际情况与用户反馈，对此列表进行调整。如你认为自己将要发布的内容可能触碰这类条例，请先与我们联系确认。","game-rule-question":"游戏系统，基本介绍","game-rule-answer-1":"等等，为什么一个社区需要游戏系统？","game-rule-answer-2":"因为我们想鼓励有趣的分享与独到的创意，不仅仅是转发和点赞的数量。","game-rule-user-question":"用户信仰","game-rule-user-answer-1":"「信仰」是用户操作的最基本单位，从创建社团到发布内容，都需要使用信仰。","game-rule-user-answer-2":"用户每日可使用的信仰点数由「信仰基数」决定。例如新用户的基数为 15 点，即每天恢复至 15 点可用信仰。","game-rule-user-answer-3":"以下是常见操作需要耗费的信仰：","game-rule-user-answer-4":"(1) 创建社团：10 点。同时每日捐献 2 点信仰给创建的社团。","game-rule-user-answer-5":"(2) 加入社团：2 点。同时每日捐献 1 点信仰给创建的社团。","game-rule-user-answer-6":"(3) 分享内容：1 点","game-rule-user-answer-7":"(4) 推荐内容：1 点","game-rule-user-answer-8":"(5) 补充内容：0 点","game-rule-user-answer-9":"目前没有恢复信仰的操作。「成就功能」推出后，用户将有办法提高自己的信仰基数。","game-rule-club-question":"社团级别与积分","game-rule-club-answer-1":"「级别」由社团的参与人数决定。","game-rule-club-answer-2":"「积分」由社团的参与度与内容质量决定，来源是用户操作消耗的信仰。","game-rule-club-answer-3":"提升社团级别与积分能解锁附加功能；活跃的社团会在排行榜上出现。","game-rule-club-answer-4":"与此同时，如果社团维持在「组建中」级别（不到5位成员）超过一周，则会被系统冻结乃至删除。","game-rule-club-answer-5":"值得一提，级别与积分不是评判社团好坏的客观标准。因为不同主题有不一样的受众量与资讯量。"}}},{}],32:[function(require,module,exports){var $=require("./vdom");module.exports=template;function template(data){var body=$("body",data.page);return body}},{"./vdom":80}],33:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var club=data.club||{};var form=$("div.m-rows",[$("div.m-content.m-row-2",[data.club_form_error,$("div.m-section.yellow.lead",[$("h1.m-subtitle",data.form_title),$("p.m-line",data.form_intro),data.post_preview,$("form.m-form.m-cells",{action:"/c/"+club.slug+"/p/post-add-2",method:"POST"},[data.csrf_field,data.title_group,data.summary_group,data.form_submit]),data.form_cancel])])]);return form}},{"../vdom":80}],34:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var club=data.club||{};var form=$("div.m-rows",[$("div.m-content.m-row-2",[data.club_form_error,$("div.m-section.yellow.lead",[$("h1.m-subtitle",data.form_title),$("p.m-line",data.form_intro),$("form.m-form.m-cells",{action:"/c/"+club.slug+"/p/post-add",method:"POST"},[data.csrf_field,data.url_group,data.form_submit]),data.form_cancel])])]);return form}},{"../vdom":80}],35:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var club=data.club||{};var form=$("div.m-rows",[$("div.m-content.m-row-2",[data.club_form_error,$("div.m-section.yellow.lead",[$("h1.m-subtitle",data.form_title),$("p.m-line",data.form_intro),$("form.m-form.m-cells",{action:club.slug?"/c/"+club.slug:"/c",method:"POST"},[data.csrf_field,data.title_group,data.slug_group,data.intro_group,data.logo_group,data.form_submit]),data.form_cancel])])]);return form}},{"../vdom":80}],36:[function(require,module,exports){module.exports={addConfirmForm:require("./add-confirm-form"),addPostForm:require("./add-post-form"),editorForm:require("./editor-form"),postItem:require("./post-item"),postPreview:require("./post-preview"),profile:require("./profile"),searchClub:require("./search-club"),userHome:require("./user-home")}},{"./add-confirm-form":33,"./add-post-form":34,"./editor-form":35,"./post-item":37,"./post-preview":38,"./profile":39,"./search-club":40,"./user-home":41}],37:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var post=data.post;var embed=post.embed;var images;if(embed&&embed.image){images=embed.image.map(function(url,index){return $("img.lazyload",{src:url+"&size=100",alt:embed.title+i18n.t("placeholder.image-preview")+" 0"+index.toString(),attributes:{"data-srcset":url+"&size=100 100w, "+url+"&size=200 200w, "+url+"&size=400 400w","data-sizes":"auto"}})});images=$("div.m-images",images)}var title;if(post.title){title=$("h2.m-title",post.title)}var summary;if(post.summary){summary=$("p.m-quote",post.summary)}var external;if(embed.url){external=$("p.m-external",[$("a.m-link.external",{href:embed.url,target:"_blank",title:embed.title},[$("span.m-text",embed.domain)]),$("span",embed.title)])}var author;if(post.user){author=$("p.m-author",[$("span",i18n.t("club.posted-by")),$("a.m-link",{href:"/u/"+post.user},[$("span.m-text",post.user_name)])])}var id="#"+post.pid;var item=$("div.m-post"+id,[images,$("div.m-meta",[external,title,summary,author])]);return item}},{"../i18n":71,"../vdom":80}],38:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var embed=data.embed;var user=data.current_user;var images;if(embed&&embed.image){images=embed.image.map(function(url,index){return $("img.lazyload",{src:url+"&size=100",alt:embed.title+i18n.t("placeholder.image-preview")+" 0"+index.toString(),attributes:{"data-srcset":url+"&size=100 100w, "+url+"&size=200 200w, "+url+"&size=400 400w","data-sizes":"auto"}})});images=$("div.m-images",images)}var title=$("h2.m-title",i18n.t("club.post-title"));var summary=$("p.m-quote",i18n.t("club.post-summary"));var external;if(embed.url){external=$("p.m-external",[$("a.m-link.external",{href:embed.url,target:"_blank",title:embed.title},[$("span.m-text",embed.domain)]),$("span",embed.title)])}var author;if(user){author=$("p.m-author",[$("span",i18n.t("club.posted-by")),$("a.m-link",{href:"/u/"+user.uid},[$("span.m-text",user.name)])])}var item=$("div.m-post.preview",[images,$("div.m-meta",[external,title,summary,author])]);return item}},{"../i18n":71,"../vdom":80}],39:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var club=data.club;var owner=data.owner;var user=data.user;var avatar;if(club.full_avatar){avatar=$("img.m-avatar.lazyload",{src:club.full_avatar+"&size=100",alt:club.title+i18n.t("placeholder.avatar-preview"),attributes:{"data-srcset":club.full_avatar+"&size=100 100w, "+club.full_avatar+"&size=200 200w, "+club.full_avatar+"&size=400 400w","data-sizes":"auto"}})}else{avatar=$("div.m-avatar",[$("span.m-letter",club.initials)])}var intro;if(club.intro){intro=$("p.m-line",i18n.t("club.owner-intro",{intro:club.intro}))}var author,license;if(club.embed){author=$("p.m-copyright",[$("span",i18n.t("club.image-source")),$("a.m-link.external",{target:"_blank",href:club.avatar_source},[$("span.m-text",i18n.t("club.image-source-url",{provider:club.avatar_domain}))])])}var action_cost;if(user&&data.club_join){action_cost=$("p.m-line.note",i18n.t("club.join-stats",{current:user.action_point,base:user.action_base}))}var container=$("div.m-rows",[$("div.m-profile.m-row-1",[avatar,$("div.m-info",[$("p.m-title",club.title),$("p.m-owner",[$("span",i18n.t("club.owner")),$("a.m-link",{href:"/u/"+owner.uid},[$("span.m-text",owner.login)])]),$("p.m-stat",[$("span",i18n.t("club.level",{custom:club.custom})),$("span.m-stat-value",i18n.t("club.lv"+club.level))]),$("p.m-stat",[$("span",i18n.t("club.member-count")),$("span.m-stat-value",club.members.toString())]),$("p.m-stat",[$("span",i18n.t("club.total-point")),$("span.m-stat-value",club.points.toString())]),author,license])]),$("div.m-content.m-row-2",[data.club_form_error,$("div.m-section.yellow.lead",[$("h2.m-subtitle",i18n.t("club.welcome-intro")),$("p.m-line",i18n.t("club.welcome-message",{title:club.title})),intro,data.club_management,data.share_button,$("form.m-form",{action:"/c/"+club.slug+"/memberships",method:"POST"},[data.csrf_field,data.club_join,data.club_leave]),action_cost]),$("div.m-section.green",[$("h2.m-subtitle",i18n.t("club.message-board")),data.add_post,$("div.m-list",data.post_list)])])]);return container}},{"../i18n":71,"../vdom":80}],40:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var search=$("div.m-rows",[$("div.m-content.m-row-2",[data.club_form_error,$("div.m-section.blue.lead",[$("h1.m-subtitle",i18n.t("club.search-club")),$("form.m-form",{action:"/c/club-search",method:"GET"},[data.search_group])]),$("div.m-section.green",[$("h1.m-subtitle",i18n.t("club.search-result")),$("p.m-line",i18n.t("club.search-result-intro",{search:data.search,count:data.search_result.length||0})),$("div.m-list",data.search_result)])])]);return search}},{"../i18n":71,"../vdom":80}],41:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var search=$("div.m-rows",[$("div.m-content.m-row-2",[$("div.m-section.yellow.lead",[$("h1.m-subtitle",i18n.t("club.create-club")),$("p.m-line",i18n.t("club.create-club-intro",data.user)),data.club_create_button]),$("div.m-section.blue",[$("h1.m-subtitle",i18n.t("club.search-club")),$("form.m-form",{action:"/c/club-search",method:"GET"},[data.search_group])]),$("div.m-section.green",[$("h1.m-subtitle",i18n.t("club.owned-club")),$("div.m-list",data.my_club_buttons)]),$("div.m-section.green",[$("h1.m-subtitle",i18n.t("club.joined-club")),$("div.m-list",data.my_joined_club_buttons)])])]);return search}},{"../i18n":71,"../vdom":80}],42:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var icon,text,buttonOpt;buttonOpt={href:data.href||"#",target:data.target||undefined,className:data.className||""};if(data.eventName&&data.eventHandler){buttonOpt[data.eventName]=data.eventHandler}if(data.icon&&data.version){icon=$("svg",{"class":"m-icon"},[$("use",{"xlink:href":"/assets/icons.svg?"+data.version+"#"+data.icon})])}if(data.text!==undefined){text=$("span.m-text",i18n.t(data.text))}if(data.value!==undefined){text=$("span.m-text",data.value.toString())}var button=$("a.m-button",buttonOpt,[icon,text]);return button}},{"../i18n":71,"../vdom":80}],43:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var club=data.club;var embed=club.embed;var image;if(embed&&embed.image){image=$("div.m-image",[$("img.lazyload",{src:embed.image.url+"&size=100",alt:embed.title+i18n.t("placeholder.image-preview"),attributes:{"data-srcset":embed.image.url+"&size=100 100w, "+embed.image.url+"&size=200 200w, "+embed.image.url+"&size=400 400w","data-sizes":"auto"}})])}else{image=$("div.m-image.initials",[$("span.m-letter",club.initials)])}var title;if(club.title){title=$("h2.m-title",[$("a.m-link",{href:"/c/"+club.slug},[$("span.m-text",club.title)])])}var stat;if(club.points){stat=$("p.m-stat",[$("span",i18n.t("club.total-point")),$("span.m-stat-value",club.points.toString())])}var item=$("div.m-club-preview",[image,$("div.m-meta",[title,stat])]);return item}},{"../i18n":71,"../vdom":80}],44:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var csrf=$("input.m-csrf-token",{type:"hidden",value:data.csrf_token,name:"csrf_token"});return csrf}},{"../vdom":80}],45:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var error=$("div.m-section",[$("p.m-subtitle",data.error_status),$("p.m-line",data.error_message),$("p.m-line",i18n.t("placeholder.suggestion")),$("p.m-line",[$("span",i18n.t("placeholder.main-feedback")),$("a.m-link",{href:"https://twitter.com/bitinn",target:"_blank"},[$("span.m-text","@bitinn")])]),$("p.m-line",[$("span",i18n.t("placeholder.secondary-feedback")),$("a.m-link",{href:"https://github.com/maihq/feedbacks",target:"_blank"},[$("span.m-text",i18n.t("placeholder.secondary-feedback-name"))]),$("span",i18n.t("placeholder.secondary-feedback-action"))])]);return error}},{"../i18n":71,"../vdom":80}],46:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var buttonTemplate=require("./button");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var discoverOpts={key:"discover",id:"discover",className:"page-menu"};if(data.ui.modal==="nav"){discoverOpts.className+=" active"}var titleOpts={href:"#",className:"plain title",text:"menu.nav.discover",icon:"compass",version:data.version.asset,eventName:"ev-click",eventHandler:emitter.capture("page:nav:close")};var titleButton=buttonTemplate(titleOpts);var closeOpts={href:"#",className:"plain close",icon:"delete",version:data.version.asset,eventName:"ev-click",eventHandler:emitter.capture("page:nav:close")};var closeButton=buttonTemplate(closeOpts);var homeOpts={href:"/",className:"plain discover home",text:"menu.nav.home",icon:"squares",version:data.version.asset};var homeButton=navButtonTemplate(homeOpts);var clubOpts={href:"/c/club-home",className:"plain discover club",text:"menu.nav.club",icon:"share",version:data.version.asset};var clubButton=navButtonTemplate(clubOpts);var profileOpts={href:"#",className:"plain discover login",text:"menu.nav.login",icon:"upload",version:data.version.asset};var profileButton=navButtonTemplate(profileOpts);var rankingOpts={href:"/c/club-ranking",className:"plain discover ranking",text:"menu.nav.ranking",icon:"graph_rising",version:data.version.asset};var rankingButton=navButtonTemplate(rankingOpts);var helpOpts={href:"/help",className:"plain discover help",text:"menu.nav.help",icon:"life_buoy",version:data.version.asset};var helpButton=navButtonTemplate(helpOpts);var discover=$("div",discoverOpts,$("div.wrapper",[titleButton,closeButton,$("ul.navigation",[$("li.item",homeButton),$("li.item",clubButton),$("li.item",profileButton),$("li.item",rankingButton),$("li.item",helpButton)])]));return discover}},{"../emitter":69,"../vdom":80,"./button":42,"./navigation-button":62}],47:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var clubOpt={id:data.slug,key:data.slug,className:"featured-club"};var imageOpts,clubImage;if(data.image){imageOpts={attributes:{"data-srcset":data.image+"&size=ls-small 320w, "+data.image+"&size=ls-medium 640w, "+data.image+"&size=ls-large 960w","data-sizes":"auto"},src:data.image+"&size=ls-small",alt:data.title+i18n.t("placeholder.image-preview"),className:"lazyload"};clubImage=$("img",imageOpts)}var wrapperOpts={className:"wrapper"};if(data.num===0){wrapperOpts.className+=" section-inset"}var titleLink=$("a",{href:"/c/"+data.slug,title:data.intro},data.title);var club=$("div",clubOpt,[$("div.image",clubImage),$("div",wrapperOpts,[$("h1.title",titleLink)])]);return club}},{"../i18n":71,"../vdom":80}],48:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var buttonTemplate=require("./button");var postButtonTemplate=require("./post-button");module.exports=template;function template(data){var postOpts={id:data.pid,key:data.pid,className:"featured-post"};if(data.num===0){postOpts.className+=" section-inset"}var image,user,club;if(data.image){image=$("img.thumbnail.lazyload",{attributes:{"data-srcset":data.image+"&size=sq-small 80w, "+data.image+"&size=sq-medium 100w, "+data.image+"&size=sq-large 200w","data-sizes":"auto"},src:data.image+"&size=sq-small",alt:data.title+i18n.t("placeholder.image-preview")});image=$("div.image-column",image)}var link=$("p.link",$("a",{href:data.url,target:"_blank",title:data.doc_title},data.domain));var title=$("p.title",data.title||data.doc_title);if(data.user){user=postButtonTemplate({href:"/u/"+data.user,className:"plain internal",text:data.user_login,icon:data.user_avatar,title:data.user_name})}if(data.club){club=postButtonTemplate({href:"/c/"+data.club,className:"plain internal",text:data.club_name,icon:data.club_image,title:data.club_intro})}var favoriteOpts={id:data.pid,order:data.num};var favorite=buttonTemplate({href:"#",className:data.current_user_fav?"plain action active":"plain action",value:data.fav_point||"0",icon:"heart",version:data.version,eventName:"ev-click",eventHandler:data.current_user_fav?emitter.capture("page:favorite:remove",favoriteOpts):emitter.capture("page:favorite:create",favoriteOpts)});var post=$("div",postOpts,[$("div.wrapper",[image,$("div.text-column",[link,title])]),$("div.action-block",[user,club,favorite])]);return post}},{"../emitter":69,"../i18n":71,"../vdom":80,"./button":42,"./post-button":64}],49:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var buttonTemplate=require("./button");module.exports=template;function template(data){var footerOpts={id:"footer",key:"footer",className:"page-footer lazyload",attributes:{"data-bgset":data.base_url+"/images/footer-320.jpg?"+data.version.asset+" 320w, "+data.base_url+"/images/footer-640.jpg?"+data.version.asset+" 640w, "+data.base_url+"/images/footer-960.jpg?"+data.version.asset+" 960w, "+data.base_url+"/images/footer-1280.jpg?"+data.version.asset+" 1280w","data-sizes":"auto"}};var tagline=$("p.tagline",i18n.t("common.tagline-alt"));var loginButton=buttonTemplate({href:"#",className:"rounded nav",text:"menu.nav.login-alt",icon:"dialogue_happy",version:data.version.asset,base_url:data.base_url,eventName:"ev-click",eventHandler:emitter.capture("page:login:open")});var copyrightLink=$("a",{href:"https://github.com/maihq",target:"_blank"},i18n.t("menu.footer.copyright"));var contactLink=$("a",{href:"/contact"},i18n.t("menu.footer.contact"));var privacyLink=$("a",{href:"/privacy"},i18n.t("menu.footer.privacy"));var termsLink=$("a",{href:"/terms"},i18n.t("menu.footer.terms"));var footer=$("div",footerOpts,$("div.wrapper",[tagline,loginButton,$("ul.navigation",[$("li.item",copyrightLink),$("li.item",contactLink),$("li.item",privacyLink),$("li.item",termsLink)])]));return footer}},{"../emitter":69,"../i18n":71,"../vdom":80,"./button":42}],50:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var button_type="";if(data.type&&data.type.length>0){button_type="."+data.type.join(".")}var base_url="";var button=$("button.m-button"+button_type,{type:"submit",name:data.name||"",value:data.value||""},[$("svg.m-icon",[$("use",{"xlink:href":base_url+"/assets/icons.svg?"+data.version+"#"+data.icon})]),$("span.m-text",data.text)]);return button}},{"../vdom":80}],51:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var flash=data.flash||{};var error;if(flash.message){error=$("div.m-section.error",[$("p.m-line",flash.message)])}return error}},{"../vdom":80}],52:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var group=$("div.m-group.m-cell",[$("label.m-label"+data.error,{attributes:{"for":data.id}},data.label),$("input.m-field"+data.error,{placeholder:data.placeholder,name:data.name,id:data.id,value:data.value}),$("span.m-note",data.note)]);return group}},{"../vdom":80}],53:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var search=$("div.m-search",[$("label.m-label"+data.error,{attributes:{"for":data.id}},i18n.t("club.search-term")),$("input.m-field"+data.error,{placeholder:i18n.t("club.search-term-placeholder"),name:data.name,value:data.value}),$("button.m-submit",{type:"submit"},i18n.t("club.search-submit")),$("span.m-note",i18n.t("club.search-term-note"))]);return search}},{"../i18n":71,"../vdom":80}],54:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var group=$("div.m-group.m-full-cell",[$("button.m-submit",{type:"submit"},data.text)]);return group}},{"../vdom":80}],55:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var group=$("div.m-group.m-cell",[$("label.m-label"+data.error,{attributes:{"for":data.id}},data.label),$("textarea.m-field"+data.error,{placeholder:data.placeholder,name:data.name,id:data.id},data.value),$("span.m-note",data.note)]);return group}},{"../vdom":80}],56:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(){var welcome=$("div.m-section",[$("p.m-subtitle",i18n.t("placeholder.apology")),$("p.m-line",i18n.t("placeholder.explanation")),$("p.m-line",i18n.t("placeholder.suggestion")),$("p.m-line",[$("span",i18n.t("placeholder.main-feedback")),$("a.m-link",{href:"https://twitter.com/bitinn",target:"_blank"},[$("span.m-tex","@bitinn")])]),$("p.m-line",[$("span",i18n.t("placeholder.secondary-feedback")),$("a.m-link",{href:"https://github.com/maihq/feedbacks",target:"_blank"},[$("span.m-text",i18n.t("placeholder.secondary-feedback-name"))]),$("span",i18n.t("placeholder.secondary-feedback-action"))])]);return welcome}},{"../i18n":71,"../vdom":80}],57:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var buttonTemplate=require("./button");var userButtonTemplate=require("./user-button");module.exports=template;function template(data){var discoverButton=buttonTemplate({href:"#",className:"rounded nav",text:"menu.nav.discover",icon:"compass",version:data.version.asset,eventName:"ev-click",eventHandler:emitter.capture("page:nav:open")});var clubOpt={href:"/c/club-home",className:"rounded nav tablet",text:"menu.nav.club",icon:"share",version:data.version.asset};if(data.current_path===clubOpt.href){clubOpt.className+=" active"}var clubButton=buttonTemplate(clubOpt);var rankingOpt={href:"/c/club-ranking",className:"rounded nav tablet",text:"menu.nav.ranking",icon:"graph_rising",version:data.version.asset};if(data.current_path===rankingOpt.href){rankingOpt.className+=" active"}var rankingButton=buttonTemplate(rankingOpt);var helpOpt={href:"/help",className:"rounded nav tablet",text:"menu.nav.help",icon:"life_buoy",version:data.version.asset};if(data.current_path===helpOpt.href){helpOpt.className+=" active"}var helpButton=buttonTemplate(helpOpt);var userButton;if(data.current_user){userButton=userButtonTemplate({href:"/u/"+data.current_user.uid,className:"rounded nav",text:data.current_user.login,icon:data.current_user.avatar})}else{userButton=buttonTemplate({href:"#",className:"rounded nav",text:"menu.nav.login",icon:"upload",version:data.version.asset,eventName:"ev-click",eventHandler:emitter.capture("page:login:open")})}var headerOpts={id:"header",key:"header",className:"page-header"};var imageOpts={attributes:{role:"presentation","data-srcset":data.base_url+"/images/header-320.jpg?"+data.version.asset+" 320w, "+data.base_url+"/images/header-640.jpg?"+data.version.asset+" 640w, "+data.base_url+"/images/header-960.jpg?"+data.version.asset+" 960w, "+data.base_url+"/images/header-1280.jpg?"+data.version.asset+" 1280w","data-sizes":"auto"},src:data.base_url+"/images/header-320.jpg?"+data.version.asset,alt:"",className:"lazyload"};var heroImage=$("img",imageOpts);var titleLink=$("a",{href:"/"},i18n.t("common.domain"));var taglineLink=$("a",{href:"/"},i18n.t("common.tagline"));var header=$("div",headerOpts,[$("div.image",heroImage),$("div.wrapper",[$("h1.title",titleLink),$("p.tagline",taglineLink),$("ul.navigation",[$("li.item",discoverButton),$("li.item",clubButton),$("li.item",rankingButton),$("li.item",helpButton)]),$("ul.login",[$("li.item",userButton)])])]);return header}},{"../emitter":69,"../i18n":71,"../vdom":80,"./button":42,"./user-button":67}],58:[function(require,module,exports){module.exports={button:require("./button"),clubPreview:require("./club-preview"),csrfField:require("./csrf-field"),customError:require("./custom-error"),discover:require("./discover"),featuredClub:require("./featured-club"),footer:require("./footer"),formButton:require("./form-button"),formError:require("./form-error"),formGroup:require("./form-group"),formSubmit:require("./form-submit"),formSearch:require("./form-search"),formTextArea:require("./form-textarea"),genericMessage:require("./generic-message"),header:require("./header"),loadButton:require("./load-button"),loginScreen:require("./login-screen"),login:require("./login"),navigationButton:require("./navigation-button"),placeholder:require("./placeholder"),postButton:require("./post-button"),preview:require("./preview"),sectionTitle:require("./section-title"),userButton:require("./user-button")}},{"./button":42,"./club-preview":43,"./csrf-field":44,"./custom-error":45,"./discover":46,"./featured-club":47,"./footer":49,"./form-button":50,"./form-error":51,"./form-group":52,"./form-search":53,"./form-submit":54,"./form-textarea":55,"./generic-message":56,"./header":57,"./load-button":59,"./login":61,"./login-screen":60,"./navigation-button":62,"./placeholder":63,"./post-button":64,"./preview":65,"./section-title":66,"./user-button":67}],59:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var buttonOpts={id:data.key,key:data.key,className:"page-load-button"};var linkOpts={href:"#"};if(data.eventName&&data.eventHandler){linkOpts[data.eventName]=data.eventHandler}if(data.base_url&&data.image){linkOpts.className="wrapper lazyload";linkOpts.attributes={"data-bgset":data.base_url+data.image+"?"+data.version+" 400w","data-sizes":"auto"}}var load=$("div",buttonOpts,$("a",linkOpts,i18n.t(data.title)));return load}},{"../i18n":71,"../vdom":80}],60:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var buttonTemplate=require("./button");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var loginOpts={id:"login-screen",key:"login-screen",className:"page-menu"};if(data.ui.modal==="login"){loginOpts.className+=" active"}var titleOpts={href:"#",className:"plain title",text:"menu.nav.login",icon:"compass",version:data.version.asset,eventName:"ev-click",eventHandler:emitter.capture("page:login:close")};var titleButton=buttonTemplate(titleOpts);var closeOpts={href:"#",className:"plain close",icon:"delete",version:data.version.asset,eventName:"ev-click",eventHandler:emitter.capture("page:login:close")};var closeButton=buttonTemplate(closeOpts);var twitterOpts={href:"/connect/twitter",className:"plain login twitter",text:"menu.login.twitter",icon:"twitter",version:data.version.asset};var twitterButton=navButtonTemplate(twitterOpts);var githubOpts={href:"/connect/github",className:"plain login github",text:"menu.login.github",icon:"github",version:data.version.asset};var githubButton=navButtonTemplate(githubOpts);var weiboOpts={href:"/connect/weibo",className:"plain login weibo",text:"menu.login.weibo",image:"/images/weibo-logo-64.png",version:data.version.asset};var weiboButton=navButtonTemplate(weiboOpts);var login=$("div",loginOpts,$("div.wrapper",[titleButton,closeButton,$("ul.navigation",[$("li.item",twitterButton),$("li.item",githubButton),$("li.item",weiboButton)])]));return login}},{"../emitter":69,"../vdom":80,"./button":42,"./navigation-button":62}],61:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var login=$("div.m-section",[$("p.m-subtitle",i18n.t("placeholder.login")),$("p.m-line",i18n.t("error.login-required")),$("p.m-line",data.login)]);return login}},{"../i18n":71,"../vdom":80}],62:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var icon,image,text,buttonOpt;buttonOpt={href:data.href||"#",className:data.className||""};if(data.eventName&&data.eventHandler){buttonOpt[data.eventName]=data.eventHandler}if(data.icon&&data.version){icon=$("svg",{"class":"m-icon"},[$("use",{"xlink:href":"/assets/icons.svg?"+data.version+"#"+data.icon})])}if(data.image&&data.version){image=$("div.m-icon.m-avatar",{style:{"background-image":"url("+data.image+"?"+data.version+")"}})}if(data.text!==undefined){text=$("span.m-text",i18n.t(data.text))}var button=$("a.m-button",buttonOpt,[icon,image,text]);return button}},{"../i18n":71,"../vdom":80}],63:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var placeholder=$("div.m-rows",[$("div.m-row-2.m-content.placeholder",data.content)]);return placeholder}},{"../vdom":80}],64:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var avatar,text,buttonOpts,avatarOpts;buttonOpts={href:data.href||"#",className:data.className||"",title:data.title||undefined
};if(data.eventName&&data.eventHandler){buttonOpts[data.eventName]=data.eventHandler}avatarOpts={};if(data.icon){avatarOpts.style={"background-image":"url("+data.icon+"&size=sq-tiny)"}}avatar=$("div.m-icon.m-avatar",avatarOpts);text=$("span.m-text",data.text);var button=$("a.m-button",buttonOpts,[avatar,text]);return button}},{"../vdom":80}],65:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var embed=data.embed;var type;if(data.title&&data.summary){type=".large"}else if(!data.title&&!data.summary){type=".small"}else{type=""}var image;if(embed.image){image=$("div.m-image",[$("img.lazyload",{src:embed.image.url+"&size=100",alt:embed.title+i18n.t("placeholder.image-preview"),attributes:{"data-srcset":embed.image.url+"&size=100 100w, "+embed.image.url+"&size=200 200w, "+embed.image.url+"&size=400 400w","data-sizes":"auto"}})])}var title;if(data.title){title=$("h2.m-title",data.title)}var summary;if(data.summary){summary=$("p.m-quote",data.summary)}var external;if(embed.url){external=$("p.m-external",[$("a.m-link.external",{href:embed.url,target:"_blank",title:embed.title},[$("span.m-text",embed.domain)])])}var author;if(data.user){author=$("p.m-author",[$("a.m-link",{href:"/u/"+data.user},[$("span.m-text",data.user_name)]),$("span",i18n.t("club.posted-on")),$("a.m-link",{href:"/c/"+data.club},[$("span.m-text",data.club_name)])])}var item=$("div.m-preview"+type,[image,$("div.m-meta",[external,title,summary,author])]);return item}},{"../i18n":71,"../vdom":80}],66:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var sectionOpts={};if(data.key){sectionOpts.id=data.key;sectionOpts.key=data.key}var title=$("div.page-section-title",sectionOpts,$("div.wrapper",[$("h2.title",i18n.t(data.title))]));return title}},{"../i18n":71,"../vdom":80}],67:[function(require,module,exports){var $=require("../vdom");module.exports=template;function template(data){var avatar,text,buttonOpt;buttonOpt={href:data.href||"#",className:data.className||""};if(data.eventName&&data.eventHandler){buttonOpt[data.eventName]=data.eventHandler}avatar=$("div.m-icon.m-avatar",{style:{"background-image":"url("+data.icon+"&size=sq-tiny)"}});text=$("span.m-text",data.text);var button=$("a.m-button",buttonOpt,[avatar,text]);return button}},{"../vdom":80}],68:[function(require,module,exports){var $=require("./vdom");module.exports=template;function template(data){var html=$("html",{lang:data.locale},[data.head,data.body]);return html}},{"./vdom":80}],69:[function(require,module,exports){"use strict";var Emitter=require("tiny-emitter");var emitter=new Emitter;emitter.fire=function(name,data){var self=this;return function(){self.emit(name,data)}};emitter.capture=function(name,data){var self=this;return function(ev){ev.preventDefault();self.emit(name,data)}};module.exports=emitter},{"tiny-emitter":106}],70:[function(require,module,exports){var $=require("./vdom");var i18n=require("./i18n")();module.exports=template;function template(data){var base_url=data.base_url;var title=data.page_title?data.page_title+" - ":"";var description=data.page_description?data.page_description:i18n.t("common.description");var og_title,og_url,og_image,og_type,og_site_name,og_description;var t_card,t_site,t_title,t_description,t_image;var vendor,prefetch_cdn,prefetch_gs,prefetch_gs_1,prefetch_gs_2;var csrf_token,inline_css,dev_css;var main_css_file=data.production?"/assets/app.css":"/dev/app.css";var main_js_file=data.production?"/assets/app.js":"/dev/app.js";if(data.page_opengraph){og_title=$("meta",{property:"og:title",content:data.page_opengraph.title+" - "+i18n.t("common.title")});og_url=$("meta",{property:"og:url",content:data.page_opengraph.url});og_image=$("meta",{property:"og:image",content:data.page_opengraph.image});og_type=$("meta",{property:"og:type",content:"website"});og_site_name=$("meta",{property:"og:site_name",content:i18n.t("common.title")});og_description=$("meta",{property:"og:description",content:description});t_card=$("meta",{name:"twitter:card",content:"summary"});t_site=$("meta",{name:"twitter:site",content:"@bitinn"});t_title=$("meta",{name:"twitter:title",content:data.page_opengraph.title+" - "+i18n.t("common.title")});t_description=$("meta",{name:"twitter:description",content:description});t_image=$("meta",{name:"twitter:image",content:data.page_opengraph.image})}if(data.production){vendor=$("script",{src:base_url+"/assets/vendor.js?"+data.version.js,async:"async"});prefetch_cdn=$("link",{rel:"dns-prefetch",href:"//rubu-maihq.netdna-ssl.com"});prefetch_gs=$("link",{rel:"dns-prefetch",href:"//d1l6p2sc9645hc.cloudfront.net"});prefetch_gs_1=$("link",{rel:"dns-prefetch",href:"//data.gosquared.com"});prefetch_gs_2=$("link",{rel:"dns-prefetch",href:"//data2.gosquared.com"});inline_css=$("style",{innerHTML:data.inline_css})}else{dev_css=$("link",{rel:"stylesheet",href:base_url+"/dev/inline.css?"+data.version.js})}if(data.current_user){csrf_token=$("meta",{name:"mai:token",content:data.current_user.csrf_token})}var headers=[$("meta",{charset:"UTF-8"}),$("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),$("meta",{name:"referrer",content:"no-referrer"}),$("title",title+i18n.t("common.title")),$("meta",{name:"description",content:description}),$("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),$("meta",{name:"apple-mobile-web-app-title",content:i18n.t("common.app-title")}),$("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png?"+data.version.asset}),$("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"/android-chrome.png?"+data.version.asset}),$("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon.png?"+data.version.asset}),dev_css,csrf_token,og_title,og_url,og_image,og_type,og_site_name,og_description,t_card,t_site,t_title,t_description,t_image,prefetch_cdn,prefetch_gs,prefetch_gs_1,prefetch_gs_2,inline_css,$("script#css-loader",{innerHTML:data.inline_js+';var l=document.getElementById("css-loader");'+'loadCSS("'+base_url+main_css_file+"?"+data.version.css+'", l);'+'loadCSS("'+base_url+"/fonts/webfont.css?"+data.version.css+'", l);'}),$("noscript",[$("link",{rel:"stylesheet",href:base_url+main_css_file+"?"+data.version.css}),$("link",{rel:"stylesheet",href:base_url+"/fonts/webfont.css?"+data.version.css})]),$("script",{src:base_url+main_js_file+"?"+data.version.js,async:"async"}),vendor];var head=$("head",headers);return head}},{"./i18n":71,"./vdom":80}],71:[function(require,module,exports){var Polyglot=require("node-polyglot");var polyglot=new Polyglot;polyglot.extend(require("../i18n/en-US"),"en-us");polyglot.extend(require("../i18n/zh-CN"),"zh-cn");polyglot.locale("zh");var Translation=require("../i18n/translation");var i18n={};i18n["zh-cn"]=new Translation(polyglot,{locale:"zh-cn"});i18n["en-us"]=new Translation(polyglot,{locale:"en-us"});module.exports=factory;function factory(locale){if(!locale){return i18n["zh-cn"]}return i18n[locale]}},{"../i18n/en-US":29,"../i18n/translation":30,"../i18n/zh-CN":31,"node-polyglot":104}],72:[function(require,module,exports){module.exports={doc:require("./doc"),head:require("./head"),body:require("./body"),main:require("./main"),common:require("./common/index"),user:require("./user/index"),club:require("./club/index"),page:require("./page/index")}},{"./body":32,"./club/index":36,"./common/index":58,"./doc":68,"./head":70,"./main":73,"./page/index":75,"./user/index":78}],73:[function(require,module,exports){var $=require("./vdom");module.exports=template;function template(data){var main=$("div.page",[data.header,data.main,data.placeholder,data.footer,data.discover,data.login]);return main}},{"./vdom":80}],74:[function(require,module,exports){var I=require("icepick");var $=require("../vdom");var emitter=require("../emitter");var clubTemplate=require("../common/featured-club");var postTemplate=require("../common/featured-post");var sectionTitleTemplate=require("../common/section-title");var loadButtonTemplate=require("../common/load-button");module.exports=template;function template(data){var section_title_1=sectionTitleTemplate({title:"section.titles.featured-clubs",key:"featured-clubs"});var section_title_2=sectionTitleTemplate({title:"section.titles.featured-posts",key:"featured-posts"});var featured_clubs=data.featured_clubs;var featured_posts=data.featured_posts;if(!data.ui.load_post){featured_posts=featured_posts.slice(0,8)}else if(data.ui.load_post>0){featured_posts=featured_posts.slice(0,data.ui.load_post)}featured_clubs=featured_clubs.map(function(club,i){club=I.assoc(club,"num",i);return clubTemplate(club)});featured_posts=featured_posts.map(function(post,i){post=I.assoc(post,"num",i);post=I.assoc(post,"version",data.version.asset);return postTemplate(post)});var load_more=loadButtonTemplate({title:"section.load.featured-post",key:"load-button",image:"/images/load-bg-400.jpg",version:data.version.asset,base_url:data.base_url,eventName:"ev-click",eventHandler:emitter.capture("page:load:post")});var home=$("div.page-content",[section_title_1,featured_clubs,section_title_2,featured_posts,load_more]);return home}},{"../common/featured-club":47,"../common/featured-post":48,"../common/load-button":59,"../common/section-title":66,"../emitter":69,"../vdom":80,icepick:98}],75:[function(require,module,exports){module.exports={userManual:require("./user-manual"),home:require("./home"),ranking:require("./ranking")}},{"./home":74,"./ranking":76,"./user-manual":77}],76:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var search=$("div.m-rows",[$("div.m-content.m-row-2",[$("div.m-section.green.lead",[$("h1.m-subtitle",i18n.t("club.ranking-result")),$("div.m-list",data.ranking_result)]),$("div.m-section.green",[$("h1.m-subtitle",i18n.t("club.ranking-created")),$("div.m-list",data.created_result)])])]);return search}},{"../i18n":71,"../vdom":80}],77:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(){var placeholder=$("div.m-rows",[$("div.m-row-2.m-content",[$("div.m-section.blue.lead#intro",{key:"intro"},[$("h1.m-subtitle",i18n.t("help.main-title")),$("p.m-line",i18n.t("help.main-title-note")),$("p.m-line",i18n.t("help.main-title-suggestion")),$("p.m-line",[$("span",i18n.t("placeholder.main-feedback")),$("a.m-link",{href:"https://twitter.com/bitinn",target:"_blank"},[$("span.m-text","@bitinn")]),$("span",i18n.t("placeholder.secondary-feedback")),$("a.m-link",{href:"https://github.com/maihq/feedbacks",target:"_blank"},[$("span.m-text",i18n.t("placeholder.secondary-feedback-name"))]),$("span",i18n.t("placeholder.secondary-feedback-action"))])]),$("div.m-section.green#about-us",{key:"about-us"},[$("h2.m-subtitle",i18n.t("help.about-us-question")),$("p.m-line",i18n.t("help.about-us-answer-1"))]),$("div.m-section.green#why-us",{key:"why-us"},[$("h2.m-subtitle",i18n.t("help.why-us-question")),$("p.m-line",i18n.t("help.why-us-answer-1")),$("p.m-line",i18n.t("help.why-us-answer-2")),$("p.m-line",i18n.t("help.why-us-answer-3"))]),$("div.m-section.green#about-club",{key:"about-club"},[$("h2.m-subtitle",i18n.t("help.about-club-question")),$("p.m-line",i18n.t("help.about-club-answer-1")),$("p.m-line",i18n.t("help.about-club-answer-2"))]),$("div.m-section.green#about-tagline",{key:"about-tagline"},[$("h2.m-subtitle",i18n.t("help.about-tagline-question")),$("p.m-line",i18n.t("help.about-tagline-answer-1")),$("p.m-line",i18n.t("help.about-tagline-answer-2"))]),$("div.m-section.blue#club-guideline",{key:"club-guideline"},[$("h2.m-subtitle",i18n.t("help.club-guideline-question")),$("p.m-line",i18n.t("help.club-guideline-answer-1"))]),$("div.m-section.green#club-naming",{key:"club-naming"},[$("h2.m-subtitle",i18n.t("help.club-guideline-naming-question")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-1")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-2")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-3")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-4")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-5")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-6")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-7")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-8")),$("p.m-line",i18n.t("help.club-guideline-naming-answer-9"))]),$("div.m-section.green#club-operation",{key:"club-operation"},[$("h2.m-subtitle",i18n.t("help.club-guideline-operation-question")),$("p.m-line",i18n.t("help.club-guideline-operation-answer-1")),$("p.m-line",i18n.t("help.club-guideline-operation-answer-2")),$("p.m-line",i18n.t("help.club-guideline-operation-answer-3")),$("p.m-line",i18n.t("help.club-guideline-operation-answer-4")),$("p.m-line",i18n.t("help.club-guideline-operation-answer-5"))]),$("div.m-section.green#club-content-policy",{key:"club-content-policy"},[$("h2.m-subtitle",i18n.t("help.club-guideline-content-question")),$("p.m-line",i18n.t("help.club-guideline-content-answer-1")),$("p.m-line",i18n.t("help.club-guideline-content-answer-2")),$("p.m-line",i18n.t("help.club-guideline-content-answer-3")),$("p.m-line",i18n.t("help.club-guideline-content-answer-4")),$("p.m-line",i18n.t("help.club-guideline-content-answer-5")),$("p.m-line",i18n.t("help.club-guideline-content-answer-6"))]),$("div.m-section.blue#game-rule",{key:"game-rule"},[$("h2.m-subtitle",i18n.t("help.game-rule-question")),$("p.m-line",i18n.t("help.game-rule-answer-1")),$("p.m-line",i18n.t("help.game-rule-answer-2"))]),$("div.m-section.green#user-rule",{key:"user-rule"},[$("h2.m-subtitle",i18n.t("help.game-rule-user-question")),$("p.m-line",i18n.t("help.game-rule-user-answer-1")),$("p.m-line",i18n.t("help.game-rule-user-answer-2")),$("p.m-line",i18n.t("help.game-rule-user-answer-3")),$("p.m-line",i18n.t("help.game-rule-user-answer-4")),$("p.m-line",i18n.t("help.game-rule-user-answer-5")),$("p.m-line",i18n.t("help.game-rule-user-answer-6")),$("p.m-line",i18n.t("help.game-rule-user-answer-7")),$("p.m-line",i18n.t("help.game-rule-user-answer-8")),$("p.m-line",i18n.t("help.game-rule-user-answer-9"))]),$("div.m-section.green#club-rule",{key:"club-rule"},[$("h2.m-subtitle",i18n.t("help.game-rule-club-question")),$("p.m-line",i18n.t("help.game-rule-club-answer-1")),$("p.m-line",i18n.t("help.game-rule-club-answer-2")),$("p.m-line",i18n.t("help.game-rule-club-answer-3")),$("p.m-line",i18n.t("help.game-rule-club-answer-4")),$("p.m-line",i18n.t("help.game-rule-club-answer-5"))])])]);return placeholder}},{"../i18n":71,"../vdom":80}],78:[function(require,module,exports){module.exports={profile:require("./profile")}},{"./profile":79}],79:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var user=data.user;var profile=$("div.m-rows",[$("div.m-profile.m-row-1",[$("img.m-avatar.lazyload",{src:user.full_avatar+"&size=100",alt:user.name+i18n.t("placeholder.avatar-preview"),attributes:{"data-srcset":user.full_avatar+"&size=100 100w, "+user.full_avatar+"&size=200 200w, "+user.full_avatar+"&size=400 400w","data-sizes":"auto"}}),$("div.m-info",[$("p.m-title",user.name),$("p.m-owner",[$("span",i18n.t("user.oauth-origin")),$("a.m-link.external",{href:user.user_origin,target:"_blank"},[$("span.m-text.m-cap",user.provider)])]),$("p.m-stat",[$("span",i18n.t("user.current-action-point")),$("span.m-stat-value",user.action_point.toString())]),$("p.m-stat",[$("span",i18n.t("user.base-action-point")),$("span.m-stat-value",user.action_base.toString())])])]),$("div.m-content.m-row-2",[$("div.m-section.green.lead",[$("h2.m-subtitle",i18n.t("club.user-result")),$("div.m-list",data.post_list)])])]);return profile}},{"../i18n":71,"../vdom":80}],80:[function(require,module,exports){var h=require("virtual-dom/h");var svg=require("virtual-dom/virtual-hyperscript/svg");var svg_tags=["svg","use"];module.exports=vdom;function vdom(el,props,children){var vnode;var hint=el.split(/(\.|#)+/);if(svg_tags.indexOf(hint[0])!==-1){vnode=svg}else{vnode=h}return vnode(el,props,children)}},{"virtual-dom/h":111,"virtual-dom/virtual-hyperscript/svg":132}],81:[function(require,module,exports){},{}],82:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){currentQueue[queueIndex].run()}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],83:[function(require,module,exports){(function(app){"use strict";var namespace="cuid",c=0,blockSize=4,base=36,discreteValues=Math.pow(base,blockSize),pad=function pad(num,size){var s="000000000"+num;return s.substr(s.length-size)},randomBlock=function randomBlock(){return pad((Math.random()*discreteValues<<0).toString(base),blockSize)},safeCounter=function(){c=c<discreteValues?c:0;c++;return c-1},api=function cuid(){var letter="c",timestamp=(new Date).getTime().toString(base),counter,fingerprint=api.fingerprint(),random=randomBlock()+randomBlock();counter=pad(safeCounter().toString(base),blockSize);return letter+timestamp+counter+fingerprint+random};api.slug=function slug(){var date=(new Date).getTime().toString(36),counter,print=api.fingerprint().slice(0,1)+api.fingerprint().slice(-1),random=randomBlock().slice(-2);counter=safeCounter().toString(36).slice(-4);return date.slice(-2)+counter+print+random};api.globalCount=function globalCount(){var cache=function calc(){var i,count=0;for(i in window){count++}return count}();api.globalCount=function(){return cache};return cache};api.fingerprint=function browserPrint(){return pad((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+api.globalCount().toString(36),4)};if(app.register){app.register(namespace,api)}else if(typeof module!=="undefined"){module.exports=api}else{app[namespace]=api}})(this.applitude||this)},{}],84:[function(require,module,exports){var EvStore=require("ev-store");module.exports=addEvent;function addEvent(target,type,handler){var events=EvStore(target);var event=events[type];if(!event){events[type]=handler}else if(Array.isArray(event)){if(event.indexOf(handler)===-1){event.push(handler)}}else if(event!==handler){events[type]=[event,handler]}}},{"ev-store":87}],85:[function(require,module,exports){var globalDocument=require("global/document");var EvStore=require("ev-store");var createStore=require("weakmap-shim/create-store");var addEvent=require("./add-event.js");var removeEvent=require("./remove-event.js");var ProxyEvent=require("./proxy-event.js");var HANDLER_STORE=createStore();module.exports=DOMDelegator;function DOMDelegator(document){if(!(this instanceof DOMDelegator)){return new DOMDelegator(document)}document=document||globalDocument;this.target=document.documentElement;this.events={};this.rawEventListeners={};this.globalListeners={}}DOMDelegator.prototype.addEventListener=addEvent;DOMDelegator.prototype.removeEventListener=removeEvent;DOMDelegator.allocateHandle=function allocateHandle(func){var handle=new Handle;HANDLER_STORE(handle).func=func;return handle};DOMDelegator.transformHandle=function transformHandle(handle,broadcast){var func=HANDLER_STORE(handle).func;return this.allocateHandle(function(ev){broadcast(ev,func)})};DOMDelegator.prototype.addGlobalEventListener=function addGlobalEventListener(eventName,fn){var listeners=this.globalListeners[eventName]||[];if(listeners.indexOf(fn)===-1){listeners.push(fn)}this.globalListeners[eventName]=listeners};DOMDelegator.prototype.removeGlobalEventListener=function removeGlobalEventListener(eventName,fn){var listeners=this.globalListeners[eventName]||[];var index=listeners.indexOf(fn);if(index!==-1){listeners.splice(index,1)}};DOMDelegator.prototype.listenTo=function listenTo(eventName){if(!(eventName in this.events)){this.events[eventName]=0}this.events[eventName]++;if(this.events[eventName]!==1){return}var listener=this.rawEventListeners[eventName];if(!listener){listener=this.rawEventListeners[eventName]=createHandler(eventName,this)}this.target.addEventListener(eventName,listener,true)};DOMDelegator.prototype.unlistenTo=function unlistenTo(eventName){if(!(eventName in this.events)){this.events[eventName]=0}if(this.events[eventName]===0){throw new Error("already unlistened to event.")}this.events[eventName]--;if(this.events[eventName]!==0){return}var listener=this.rawEventListeners[eventName];if(!listener){throw new Error("dom-delegator#unlistenTo: cannot "+"unlisten to "+eventName)}this.target.removeEventListener(eventName,listener,true)};function createHandler(eventName,delegator){var globalListeners=delegator.globalListeners;var delegatorTarget=delegator.target;return handler;function handler(ev){var globalHandlers=globalListeners[eventName]||[];if(globalHandlers.length>0){var globalEvent=new ProxyEvent(ev);globalEvent.currentTarget=delegatorTarget;callListeners(globalHandlers,globalEvent)}findAndInvokeListeners(ev.target,ev,eventName)}}function findAndInvokeListeners(elem,ev,eventName){var listener=getListener(elem,eventName);if(listener&&listener.handlers.length>0){var listenerEvent=new ProxyEvent(ev);listenerEvent.currentTarget=listener.currentTarget;callListeners(listener.handlers,listenerEvent);if(listenerEvent._bubbles){var nextTarget=listener.currentTarget.parentNode;findAndInvokeListeners(nextTarget,ev,eventName)}}}function getListener(target,type){if(target===null||typeof target==="undefined"){return null}var events=EvStore(target);var handler=events[type];var allHandler=events.event;if(!handler&&!allHandler){return getListener(target.parentNode,type)}var handlers=[].concat(handler||[],allHandler||[]);return new Listener(target,handlers)}function callListeners(handlers,ev){handlers.forEach(function(handler){if(typeof handler==="function"){handler(ev)}else if(typeof handler.handleEvent==="function"){handler.handleEvent(ev)}else if(handler.type==="dom-delegator-handle"){HANDLER_STORE(handler).func(ev)}else{throw new Error("dom-delegator: unknown handler "+"found: "+JSON.stringify(handlers))}})}function Listener(target,handlers){this.currentTarget=target;this.handlers=handlers}function Handle(){this.type="dom-delegator-handle"}},{"./add-event.js":84,"./proxy-event.js":95,"./remove-event.js":96,"ev-store":87,"global/document":90,"weakmap-shim/create-store":93}],86:[function(require,module,exports){var Individual=require("individual");var cuid=require("cuid");var globalDocument=require("global/document");var DOMDelegator=require("./dom-delegator.js");var versionKey="13";var cacheKey="__DOM_DELEGATOR_CACHE@"+versionKey;var cacheTokenKey="__DOM_DELEGATOR_CACHE_TOKEN@"+versionKey;var delegatorCache=Individual(cacheKey,{delegators:{}});var commonEvents=["blur","change","click","contextmenu","dblclick","error","focus","focusin","focusout","input","keydown","keypress","keyup","load","mousedown","mouseup","resize","select","submit","touchcancel","touchend","touchstart","unload"];module.exports=Delegator;function Delegator(opts){opts=opts||{};var document=opts.document||globalDocument;var cacheKey=document[cacheTokenKey];if(!cacheKey){cacheKey=document[cacheTokenKey]=cuid()}var delegator=delegatorCache.delegators[cacheKey];if(!delegator){delegator=delegatorCache.delegators[cacheKey]=new DOMDelegator(document)}if(opts.defaultEvents!==false){for(var i=0;i<commonEvents.length;i++){delegator.listenTo(commonEvents[i])}}return delegator}Delegator.allocateHandle=DOMDelegator.allocateHandle;Delegator.transformHandle=DOMDelegator.transformHandle},{"./dom-delegator.js":85,cuid:83,"global/document":90,individual:91}],87:[function(require,module,exports){"use strict";var OneVersionConstraint=require("individual/one-version");var MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION;module.exports=EvStore;function EvStore(elem){var hash=elem[hashKey];if(!hash){hash=elem[hashKey]={}}return hash}},{"individual/one-version":89}],88:[function(require,module,exports){(function(global){"use strict";var root=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};module.exports=Individual;function Individual(key,value){if(key in root){return root[key]}root[key]=value;return value}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],89:[function(require,module,exports){"use strict";var Individual=require("./index.js");module.exports=OneVersion;function OneVersion(moduleName,version,defaultValue){var key="__INDIVIDUAL_ONE_VERSION_"+moduleName;var enforceKey=key+"_ENFORCE_SINGLETON";var versionValue=Individual(enforceKey,version);if(versionValue!==version){throw new Error("Can only have one copy of "+moduleName+".\n"+"You already have version "+versionValue+" installed.\n"+"This means you cannot install version "+version)}return Individual(key,defaultValue)}},{"./index.js":88}],90:[function(require,module,exports){(function(global){var topLevel=typeof global!=="undefined"?global:typeof window!=="undefined"?window:{};var minDoc=require("min-document");if(typeof document!=="undefined"){module.exports=document}else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}module.exports=doccy}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":81}],91:[function(require,module,exports){(function(global){var root=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};module.exports=Individual;function Individual(key,value){if(root[key]){return root[key]}Object.defineProperty(root,key,{value:value,configurable:true});return value}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],92:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],93:[function(require,module,exports){var hiddenStore=require("./hidden-store.js");module.exports=createStore;function createStore(){var key={};return function(obj){if((typeof obj!=="object"||obj===null)&&typeof obj!=="function"){throw new Error("Weakmap-shim: Key must be object")}var store=obj.valueOf(key);return store&&store.identity===key?store:hiddenStore(obj,key)}}},{"./hidden-store.js":94}],94:[function(require,module,exports){module.exports=hiddenStore;function hiddenStore(obj,key){var store={identity:key};var valueOf=obj.valueOf;Object.defineProperty(obj,"valueOf",{value:function(value){return value!==key?valueOf.apply(this,arguments):store},writable:true});return store}},{}],95:[function(require,module,exports){var inherits=require("inherits");var ALL_PROPS=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var KEY_PROPS=["char","charCode","key","keyCode"];var MOUSE_PROPS=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var rkeyEvent=/^key|input/;var rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/;module.exports=ProxyEvent;function ProxyEvent(ev){if(!(this instanceof ProxyEvent)){return new ProxyEvent(ev)}if(rkeyEvent.test(ev.type)){return new KeyEvent(ev)}else if(rmouseEvent.test(ev.type)){return new MouseEvent(ev)}for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}this._rawEvent=ev;this._bubbles=false}ProxyEvent.prototype.preventDefault=function(){this._rawEvent.preventDefault()};ProxyEvent.prototype.startPropagation=function(){this._bubbles=true};function MouseEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<MOUSE_PROPS.length;j++){var mousePropKey=MOUSE_PROPS[j];this[mousePropKey]=ev[mousePropKey]}this._rawEvent=ev}inherits(MouseEvent,ProxyEvent);function KeyEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<KEY_PROPS.length;j++){var keyPropKey=KEY_PROPS[j];this[keyPropKey]=ev[keyPropKey]}this._rawEvent=ev}inherits(KeyEvent,ProxyEvent)},{inherits:92}],96:[function(require,module,exports){var EvStore=require("ev-store");module.exports=removeEvent;function removeEvent(target,type,handler){var events=EvStore(target);var event=events[type];if(!event){return}else if(Array.isArray(event)){var index=event.indexOf(handler);if(index!==-1){event.splice(index,1)}}else if(event===handler){events[type]=null}}},{"ev-store":87}],97:[function(require,module,exports){!function(name,definition){if(typeof module!="undefined")module.exports=definition();else if(typeof define=="function"&&typeof define.amd=="object")define(definition);else this[name]=definition()}("domready",function(){var fns=[],listener,doc=document,hack=doc.documentElement.doScroll,domContentLoaded="DOMContentLoaded",loaded=(hack?/^loaded|^c/:/^loaded|^i|^c/).test(doc.readyState);if(!loaded)doc.addEventListener(domContentLoaded,listener=function(){doc.removeEventListener(domContentLoaded,listener);loaded=1;while(listener=fns.shift())listener()});return function(fn){loaded?setTimeout(fn,0):fns.push(fn)}})},{}],98:[function(require,module,exports){(function(process){"use strict";var i=exports;function weCareAbout(val){return null!==val&&(Array.isArray(val)||isObjectLike(val))}function isObjectLike(val){return typeof val==="object"&&val.constructor===Object}exports._weCareAbout=weCareAbout;function arrayClone(arr){var index=0,length=arr.length,result=Array(length);for(;index<length;index+=1){result[index]=arr[index]}return result}function objClone(obj){var index=0,keys=Object.keys(obj),length=keys.length,key,result={};for(;index<length;index+=1){key=keys[index];result[key]=obj[key]}return result}function clone(coll){if(Array.isArray(coll)){return arrayClone(coll)}else{return objClone(coll)}}function freezeIfNeeded(coll){if(weCareAbout(coll)&&(!Object.isFrozen(coll)&&process.env.NODE_ENV!=="production")){return baseFreeze(coll,[])}return coll}function _freeze(coll){if(process.env.NODE_ENV==="production"){return coll}return Object.freeze(coll)}function baseFreeze(coll,prevNodes){if(prevNodes.some(function(node){return node===coll})){throw new Error("object has a reference cycle")}Object.freeze(coll);prevNodes.push(coll);Object.keys(coll).forEach(function(key){var prop=coll[key];
if(weCareAbout(prop)){baseFreeze(prop,prevNodes)}});prevNodes.pop();return coll}exports.freeze=function freeze(coll){if(process.env.NODE_ENV==="production"){return coll}return baseFreeze(coll,[])};exports.thaw=function thaw(coll){if(weCareAbout(coll)&&Object.isFrozen(coll)){var newColl=clone(coll);Object.keys(newColl).forEach(function(key){newColl[key]=thaw(newColl[key])});return newColl}return coll};exports.assoc=function assoc(coll,key,value){var newObj=clone(coll);newObj[key]=freezeIfNeeded(value);return _freeze(newObj)};exports.dissoc=function dissoc(coll,key){var newObj=clone(coll);delete newObj[key];return _freeze(newObj)};exports.assocIn=function assocIn(coll,path,value){var key0=path[0];if(path.length===1){return i.assoc(coll,key0,value)}else{return i.assoc(coll,key0,assocIn(coll[key0]||{},path.slice(1),value))}};function baseGet(coll,path){return(path||[]).reduce(function(curr,key){if(!curr){return}return curr[key]},coll)}exports.getIn=baseGet;exports.updateIn=function updateIn(coll,path,callback){var existingVal=baseGet(coll,path);return i.assocIn(coll,path,callback(existingVal))};["push","unshift","pop","shift","reverse","sort"].forEach(function(methodName){exports[methodName]=function(arr,val){var newArr=arrayClone(arr);newArr[methodName](val);return _freeze(newArr)};exports[methodName].displayName="icepick."+methodName});exports.splice=function splice(arr){var newArr=arrayClone(arr),args=rest(arguments);newArr.splice.apply(newArr,args);return _freeze(newArr)};exports.slice=function slice(arr,arg1,arg2){var newArr=arr.slice(arg1,arg2);return _freeze(newArr)};["map","filter"].forEach(function(methodName){exports[methodName]=function(fn,arr){var newArr=arr[methodName](fn);return _freeze(newArr)};exports[methodName].displayName="icepick."+methodName});exports.extend=exports.assign=function assign(){var newObj=_slice(arguments).reduce(singleAssign,{});return _freeze(newObj)};function singleAssign(obj1,obj2){return Object.keys(obj2).reduce(function(obj,key){obj[key]=freezeIfNeeded(obj2[key]);return obj},obj1)}exports.merge=merge;function merge(target,source){if(target==null||source==null){return target}return Object.keys(source).reduce(function(obj,key){var sourceVal=source[key];var targetVal=obj[key];if(weCareAbout(sourceVal)&&weCareAbout(targetVal)){if((Object.isFrozen(sourceVal)&&Object.isFrozen(targetVal)||process.env.NODE_ENV==="production")&&sourceVal===targetVal){return obj}if(Array.isArray(sourceVal)){return i.assoc(obj,key,sourceVal)}return assocIfDifferent(obj,key,merge(targetVal,sourceVal))}return assocIfDifferent(obj,key,sourceVal)},target)}function assocIfDifferent(target,key,value){if(target[key]===value){return target}return i.assoc(target,key,value)}function _slice(array,start){var begin=start||0;var len=array.length;len-=begin;len=len<0?0:len;var result=new Array(len);for(var i=0;i<len;i+=1){result[i]=array[i+begin]}return result}exports._slice=_slice;function rest(args){return _slice(args,1)}}).call(this,require("_process"))},{_process:82}],99:[function(require,module,exports){!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.addEventListener,f=a.setTimeout,g=a.requestAnimationFrame||f,h=a.setImmediate||f,i=/^picture$/i,j=["load","error","lazyincluded","_lazyloaded"],k=function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");return a.className.match(c)&&c},l=function(a,b){k(a,b)||(a.className+=" "+b)},m=function(a,b){var c;(c=k(a,b))&&(a.className=a.className.replace(c," "))},n=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&n(a,b),j.forEach(function(c){a[d](c,b)})},o=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},p=function(b,d){var e;a.HTMLPictureElement||((e=a.picturefill||a.respimage||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src))},q=function(a,b){return(getComputedStyle(a,null)||{})[b]},r=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},s=function(b){var d,e=0,i=a.Date,j=function(){d=!1,e=i.now(),b()},k=function(){h(j)},l=function(){g(k)};return function(){if(!d){var a=c.throttle-(i.now()-e);d=!0,6>a&&(a=6),f(l,a)}}},t=function(){var h,j,r,t,v,w,x,y,z,A,B,C,D,E=/^img$/i,F=/^iframe$/i,G="onscroll"in a&&!/glebot/.test(navigator.userAgent),H=0,I=0,J=0,K=0,L=function(a){J--,a&&a.target&&n(a.target,L),(!a||0>J||!a.target)&&(J=0)},M=function(a,b){var c,d=a,e="hidden"!=q(a,"visibility");for(y-=b,B+=b,z-=b,A+=b;e&&(d=d.offsetParent);)e=(q(d,"opacity")||1)>0,e&&"visible"!=q(d,"overflow")&&(c=d.getBoundingClientRect(),e=A>c.left&&z<c.right&&B>c.top-1&&y<c.bottom+1);return e},N=function(){var a,b,d,e,f,g,i,k,l;if((v=c.loadMode)&&8>J&&(a=h.length)){for(b=0,K++,D>I&&1>J&&K>3&&v>2?(I=D,K=0):I=I!=C&&v>1&&K>2&&6>J?C:H;a>b;b++)if(h[b]&&!h[b]._lazyRace)if(G)if((k=h[b].getAttribute("data-expand"))&&(g=1*k)||(g=I),l!==g&&(w=innerWidth+g,x=innerHeight+g,i=-1*g,l=g),d=h[b].getBoundingClientRect(),(B=d.bottom)>=i&&(y=d.top)<=x&&(A=d.right)>=i&&(z=d.left)<=w&&(B||A||z||y)&&(r&&3>J&&!k&&(3>v||4>K)||M(h[b],g))){if(S(h[b],d.width),f=!0,J>9)break}else!f&&r&&!e&&3>J&&4>K&&v>2&&(j[0]||c.preloadAfterLoad)&&(j[0]||!k&&(B||A||z||y||"auto"!=h[b].getAttribute(c.sizesAttr)))&&(e=j[0]||h[b]);else S(h[b]);e&&!f&&S(e)}},O=s(N),P=function(a){l(a.target,c.loadedClass),m(a.target,c.loadingClass),n(a.target,P)},Q=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.setAttribute("src",b)}},R=function(){var a,b=[],c=function(){for(;b.length;)b.shift()();a=!1};return function(d){b.push(d),a||(a=!0,g(c))}}(),S=function(a,b){var d,e,g,h,j,q,s,v,w,x,y,z=E.test(a.nodeName),A=z&&(a.getAttribute(c.sizesAttr)||a.getAttribute("sizes")),B="auto"==A;(!B&&r||!z||!a.src&&!a.srcset||a.complete||k(a,c.errorClass))&&(a._lazyRace=!0,J++,R(function(){if(a._lazyRace&&delete a._lazyRace,m(a,c.lazyClass),!(w=o(a,"lazybeforeunveil")).defaultPrevented){if(A&&(B?(u.updateElem(a,!0,b),l(a,c.autosizesClass)):a.setAttribute("sizes",A)),q=a.getAttribute(c.srcsetAttr),j=a.getAttribute(c.srcAttr),z&&(s=a.parentNode,v=s&&i.test(s.nodeName||"")),x=w.detail.firesLoad||"src"in a&&(q||j||v),w={target:a},x&&(n(a,L,!0),clearTimeout(t),t=f(L,2500),l(a,c.loadingClass),n(a,P,!0)),v)for(d=s.getElementsByTagName("source"),e=0,g=d.length;g>e;e++)(y=c.customMedia[d[e].getAttribute("data-media")||d[e].getAttribute("media")])&&d[e].setAttribute("media",y),h=d[e].getAttribute(c.srcsetAttr),h&&d[e].setAttribute("srcset",h);q?a.setAttribute("srcset",q):j&&(F.test(a.nodeName)?Q(a,j):a.setAttribute("src",j)),(q||v)&&p(a,{src:j})}(!x||a.complete)&&(x?L(w):J--,P(w))}))},T=function(){var a,b=function(){c.loadMode=3,O()};r=!0,K+=8,c.loadMode=3,e("scroll",function(){3==c.loadMode&&(c.loadMode=2),clearTimeout(a),a=f(b,99)},!0)};return{_:function(){h=b.getElementsByClassName(c.lazyClass),j=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),C=c.expand,D=Math.round(C*c.expFactor),e("scroll",O,!0),e("resize",O,!0),a.MutationObserver?new MutationObserver(O).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d.addEventListener("DOMNodeInserted",O,!0),d.addEventListener("DOMAttrModified",O,!0),setInterval(O,999)),e("hashchange",O,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b.addEventListener(a,O,!0)}),/d$|^c/.test(b.readyState)?T():(e("load",T),b.addEventListener("DOMContentLoaded",O)),O()},checkElems:O,unveil:S}}(),u=function(){var a,d=function(a,b,c){var d,e,f,g,h=a.parentNode;if(h&&(c=r(a,h,c),g=o(a,"lazybeforesizes",{width:c,dataAttr:!!b}),!g.defaultPrevented&&(c=g.detail.width,c&&c!==a._lazysizesWidth))){if(a._lazysizesWidth=c,c+="px",a.setAttribute("sizes",c),i.test(h.nodeName||""))for(d=h.getElementsByTagName("source"),e=0,f=d.length;f>e;e++)d[e].setAttribute("sizes",c);g.detail.dataAttr||p(a,g.detail)}},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)d(a[b])},g=s(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),e("resize",g)},checkElems:g,updateElem:d}}(),v=function(){v.i||(v.i=!0,u._(),t._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:2,expand:359,loadMode:2,throttle:125};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,f(function(){c.init&&v()})}(),{cfg:c,autoSizer:u,loader:t,init:v,uP:p,aC:l,rC:m,hC:k,fire:o,gW:r}}})},{}],100:[function(require,module,exports){(function(){"use strict";if(!window.addEventListener){return}var regSplitSet=/\s*\|\s+|\s+\|\s*/g;var regSource=/^(.+?)(?:\s+\[\s*(.+?)\s*\])?$/;var allowedBackgroundSize={contain:1,cover:1};var proxyWidth=function(elem){var width=lazySizes.gW(elem,elem.parentNode);if(!elem._lazysizesWidth||width>elem._lazysizesWidth){elem._lazysizesWidth=width}return elem._lazysizesWidth};var createPicture=function(sets,elem,img){var bgSize;var picture=document.createElement("picture");var sizes=elem.getAttribute(lazySizesConfig.sizesAttr);var optimumx=elem.getAttribute("data-optimumx");if(elem._lazybgset&&elem._lazybgset.parentNode==elem){elem.removeChild(elem._lazybgset)}Object.defineProperty(img,"_lazybgset",{value:elem,writable:true});Object.defineProperty(elem,"_lazybgset",{value:picture,writable:true});sets=sets.split(regSplitSet);picture.style.display="none";img.className=lazySizesConfig.lazyClass;if(sets.length==1&&!sizes){sizes="auto"}sets.forEach(function(set){var source=document.createElement("source");if(sizes&&sizes!="auto"){source.setAttribute("sizes",sizes)}if(set.match(regSource)){source.setAttribute(lazySizesConfig.srcsetAttr,RegExp.$1);if(RegExp.$2){source.setAttribute("media",lazySizesConfig.customMedia[RegExp.$2]||RegExp.$2)}}picture.appendChild(source)});if(sizes){img.setAttribute(lazySizesConfig.sizesAttr,sizes);elem.removeAttribute(lazySizesConfig.sizesAttr);elem.removeAttribute("sizes");bgSize=(getComputedStyle(elem)||{getPropertyValue:function(){}}).getPropertyValue("background-size");if(lazySizes.parentFit&&sizes=="auto"&&allowedBackgroundSize[bgSize]){img.setAttribute("data-parent-fit",bgSize)}}if(optimumx){img.setAttribute("data-optimumx",optimumx)}picture.appendChild(img);elem.appendChild(picture)};var proxyLoad=function(e){if(!e.target._lazybgset){return}var image=e.target;var elem=image._lazybgset;var bg=image.currentSrc||image.src;if(bg){elem.style.backgroundImage="url("+bg+")"}if(image._lazybgsetLoading){lazySizes.fire(elem,"_lazyloaded",{},false,true);delete image._lazybgsetLoading}};addEventListener("lazybeforeunveil",function(e){var set,image,elem;if(e.defaultPrevented||!(set=e.target.getAttribute("data-bgset"))){return}elem=e.target;image=document.createElement("img");image._lazybgsetLoading=true;e.detail.firesLoad=true;createPicture(set,elem,image);lazySizes.loader.unveil(image);lazySizes.fire(image,"_lazyloaded",{},true,true);setTimeout(function(){if(image.complete){proxyLoad({target:image})}})});document.addEventListener("load",proxyLoad,true);document.documentElement.addEventListener("lazybeforesizes",function(e){if(e.defaultPrevented||!e.target._lazybgset){return}e.detail.width=proxyWidth(e.target._lazybgset)})})()},{}],101:[function(require,module,exports){(function(document){"use strict";var regImg,onLoad;if("srcset"in document.createElement("img")){regImg=/^img$/i;onLoad=function(e){e.target.style.backgroundSize="";e.target.style.backgroundImage="";e.target.removeEventListener(e.type,onLoad)};document.addEventListener("lazybeforeunveil",function(e){var img=e.target;if(!regImg.test(img.nodeName)){return}var src=img.getAttribute("src");if(src){img.style.backgroundSize="100% 100%";img.style.backgroundImage="url("+src+")";img.removeAttribute("src");img.addEventListener("load",onLoad)}},false)}})(document)},{}],102:[function(require,module,exports){(function(window,document,undefined){"use strict";var polyfill;var config=window.lazySizes&&lazySizes.cfg||window.lazySizesConfig;if(!config){config={};window.lazySizesConfig=config}if(!config.supportsType){config.supportsType=function(type){return!type}}if(window.picturefill||window.respimage||config.pf){return}config.pf=function(options){var i,len;if(window.picturefill||window.respimage){return}for(i=0,len=options.elements.length;i<len;i++){polyfill(options.elements[i])}};polyfill=function(){var ascendingSort=function(a,b){return a.w-b.w};var regPxLength=/^\s*\d+px\s*$/;var reduceCandidate=function(srces){var lowerCandidate,bonusFactor;var len=srces.length;var candidate=srces[len-1];var i=0;for(i;i<len;i++){candidate=srces[i];candidate.d=candidate.w/srces.w;if(candidate.d>=srces.d){if(!candidate.cached&&(lowerCandidate=srces[i-1])&&lowerCandidate.d>srces.d-.13*Math.pow(srces.d,2.2)){bonusFactor=Math.pow(lowerCandidate.d-.6,1.6);if(lowerCandidate.cached){lowerCandidate.d+=.15*bonusFactor}if(lowerCandidate.d+(candidate.d-srces.d)*bonusFactor>srces.d){candidate=lowerCandidate}}break}}return candidate};var parseWsrcset=function(){var candidates;var regWCandidates=/(([^,\s].[^\s]+)\s+(\d+)w)/g;var regHDesc=/\s+\d+h/g;var regMultiple=/\s/;var addCandidate=function(match,candidate,url,wDescriptor){candidates.push({c:candidate,u:url,w:wDescriptor*1})};return function(input){candidates=[];input=input.trim();input.replace(regHDesc,"").replace(regWCandidates,addCandidate);if(!candidates.length&&input&&!regMultiple.test(input)){candidates.push({c:input,u:input,w:99})}return candidates}}();var runMatchMedia=function(){if(runMatchMedia.init){return}runMatchMedia.init=true;addEventListener("resize",function(){var timer;var matchMediaElems=document.getElementsByClassName("lazymatchmedia");var run=function(){var i,len;for(i=0,len=matchMediaElems.length;i<len;i++){polyfill(matchMediaElems[i])}};return function(){clearTimeout(timer);timer=setTimeout(run,66)}}())};var createSrcset=function(elem,isImage){var parsedSet;var srcSet=elem.getAttribute("srcset")||elem.getAttribute(config.srcsetAttr);if(!srcSet&&isImage){srcSet=!elem._lazypolyfill?elem.getAttribute("src")||elem.getAttribute(config.srcAttr):elem._lazypolyfill._set}if(!elem._lazypolyfill||elem._lazypolyfill._set!=srcSet){parsedSet=parseWsrcset(srcSet||"");if(isImage&&elem.parentNode){parsedSet.isPicture=elem.parentNode.nodeName.toUpperCase()=="PICTURE";if(parsedSet.isPicture&&elem.getAttribute(config.sizesAttr)!="auto"){if(window.matchMedia||window.Modernizr&&Modernizr.mq){lazySizes.aC(elem,"lazymatchmedia");runMatchMedia()}}}parsedSet._set=srcSet;Object.defineProperty(elem,"_lazypolyfill",{value:parsedSet,writable:true})}};var getX=function(elem){var dpr=window.devicePixelRatio||1;var optimum=lazySizes.getX&&lazySizes.getX(elem);return Math.min(optimum||dpr,2.5,dpr)};var matchesMedia=function(media){if(window.matchMedia){matchesMedia=function(media){return!media||(matchMedia(media)||{}).matches}}else if(window.Modernizr&&Modernizr.mq){return!media||Modernizr.mq(media)}else{return!media}return matchesMedia(media)};var getCandidate=function(elem){var sources,i,len,media,source,srces,src,width;source=elem;createSrcset(source,true);srces=source._lazypolyfill;if(srces.isPicture){for(i=0,sources=elem.parentNode.getElementsByTagName("source"),len=sources.length;i<len;i++){if(config.supportsType(sources[i].getAttribute("type"),elem)&&matchesMedia(sources[i].getAttribute("media"))){source=sources[i];createSrcset(source);srces=source._lazypolyfill;break}}}if(srces.length>1){width=source.getAttribute("sizes")||"";width=regPxLength.test(width)&&parseInt(width,10)||lazySizes.gW(elem,elem.parentNode);srces.d=getX(elem);if(!srces.w||srces.w<width){srces.w=width;src=reduceCandidate(srces.sort(ascendingSort))}}else{src=srces[0]}return src};var p=function(elem){var candidate=getCandidate(elem);if(candidate&&candidate.u&&elem._lazypolyfill.cur!=candidate.u){elem._lazypolyfill.cur=candidate.u;candidate.cached=true;elem.setAttribute(config.srcAttr,candidate.u);elem.setAttribute("src",candidate.u)}};p.parse=parseWsrcset;return p}();if(window.HTMLPictureElement){return}if(config.loadedClass&&config.loadingClass){(function(){var sels=[];['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(sel){sels.push(sel+config.loadedClass);sels.push(sel+config.loadingClass)});config.pf({elements:document.querySelectorAll(sels.join(", "))})})()}})(window,document);(function(document){"use strict";var regPicture;var img=document.createElement("img");if("srcset"in img&&!("sizes"in img)){regPicture=/^picture$/i;document.addEventListener("lazybeforeunveil",function(e){var elem,parent,srcset,sizes,isPicture;var picture,source;if(e.defaultPrevented||lazySizesConfig.noIOSFix||!(elem=e.target)||!(srcset=elem.getAttribute(lazySizesConfig.srcsetAttr))||!(parent=elem.parentNode)||!(isPicture=regPicture.test(parent.nodeName||""))&&!(sizes=elem.getAttribute("sizes")||elem.getAttribute(lazySizesConfig.sizesAttr))){return}picture=isPicture?parent:document.createElement("picture");if(!elem._lazyImgSrc){Object.defineProperty(elem,"_lazyImgSrc",{value:document.createElement("source"),writable:true})}source=elem._lazyImgSrc;if(sizes){source.setAttribute("sizes",sizes)}source.setAttribute(lazySizesConfig.srcsetAttr,srcset);elem.setAttribute("data-pfsrcset",srcset);elem.removeAttribute(lazySizesConfig.srcsetAttr);if(!isPicture){parent.insertBefore(picture,elem);picture.appendChild(elem)}picture.insertBefore(source,elem)})}})(document)},{}],103:[function(require,module,exports){(function(global){!function(t,n,e){n[t]=n[t]||e(),"undefined"!=typeof module&&module.exports?module.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Promise","undefined"!=typeof global?global:this,function(){"use strict";function t(t,n){l.add(t,n),h||(h=y(l.drain))}function n(t){var n,e=typeof t;return null==t||"object"!=e&&"function"!=e||(n=t.then),"function"==typeof n?n:!1}function e(){for(var t=0;t<this.chain.length;t++)o(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function o(t,e,o){var r,i;try{e===!1?o.reject(t.msg):(r=e===!0?t.msg:e.call(void 0,t.msg),r===o.promise?o.reject(TypeError("Promise-chain cycle")):(i=n(r))?i.call(r,o.resolve,o.reject):o.resolve(r))}catch(c){o.reject(c)}}function r(o){var c,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(c=n(o))?t(function(){var t=new f(u);try{c.call(o,function(){r.apply(t,arguments)},function(){i.apply(t,arguments)})}catch(n){i.call(t,n)}}):(u.msg=o,u.state=1,u.chain.length>0&&t(e,u))}catch(a){i.call(new f(u),a)}}}function i(n){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=n,o.state=2,o.chain.length>0&&t(e,o))}function c(t,n,e,o){for(var r=0;r<n.length;r++)!function(r){t.resolve(n[r]).then(function(t){e(r,t)},o)}(r)}function f(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function a(n){if("function"!=typeof n)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var o=new u(this);this.then=function(n,r){var i={success:"function"==typeof n?n:!0,failure:"function"==typeof r?r:!1};return i.promise=new this.constructor(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");i.resolve=t,i.reject=n}),o.chain.push(i),0!==o.state&&t(e,o),i.promise},this["catch"]=function(t){return this.then(void 0,t)};try{n.call(void 0,function(t){r.call(o,t)},function(t){i.call(o,t)})}catch(c){i.call(o,c)}}var s,h,l,p=Object.prototype.toString,y="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(t,n,e,o){return Object.defineProperty(t,n,{value:e,writable:!0,configurable:o!==!1})}}catch(d){s=function(t,n,e){return t[n]=e,t}}l=function(){function t(t,n){this.fn=t,this.self=n,this.next=void 0}var n,e,o;return{add:function(r,i){o=new t(r,i),e?e.next=o:n=o,e=o,o=void 0},drain:function(){var t=n;for(n=e=h=void 0;t;)t.fn.call(t.self),t=t.next}}}();var g=s({},"constructor",a,!1);return a.prototype=g,s(g,"__NPO__",0,!1),s(a,"resolve",function(t){var n=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new n(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");n(t)})}),s(a,"reject",function(t){return new this(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");e(t)})}),s(a,"all",function(t){var n=this;return"[object Array]"!=p.call(t)?n.reject(TypeError("Not an array")):0===t.length?n.resolve([]):new n(function(e,o){if("function"!=typeof e||"function"!=typeof o)throw TypeError("Not a function");var r=t.length,i=Array(r),f=0;c(n,t,function(t,n){i[t]=n,++f===r&&e(i)},o)})}),s(a,"race",function(t){var n=this;return"[object Array]"!=p.call(t)?n.reject(TypeError("Not an array")):new n(function(e,o){if("function"!=typeof e||"function"!=typeof o)throw TypeError("Not a function");c(n,t,function(t,n){e(n)},o)})}),a})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],104:[function(require,module,exports){module.exports=require("./lib/polyglot")},{"./lib/polyglot":105}],105:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define([],function(){return factory(root)})}else if(typeof exports==="object"){module.exports=factory(root)}else{root.Polyglot=factory(root)}})(this,function(root){"use strict";function Polyglot(options){options=options||{};this.phrases={};this.extend(options.phrases||{});this.currentLocale=options.locale||"en";this.allowMissing=!!options.allowMissing;this.warn=options.warn||warn}Polyglot.VERSION="0.4.3";Polyglot.prototype.locale=function(newLocale){if(newLocale)this.currentLocale=newLocale;return this.currentLocale};Polyglot.prototype.extend=function(morePhrases,prefix){var phrase;for(var key in morePhrases){if(morePhrases.hasOwnProperty(key)){phrase=morePhrases[key];if(prefix)key=prefix+"."+key;if(typeof phrase==="object"){this.extend(phrase,key)}else{this.phrases[key]=phrase}}}};Polyglot.prototype.clear=function(){this.phrases={}};Polyglot.prototype.replace=function(newPhrases){this.clear();this.extend(newPhrases)};Polyglot.prototype.t=function(key,options){var phrase,result;options=options==null?{}:options;if(typeof options==="number"){options={smart_count:options}}if(typeof this.phrases[key]==="string"){phrase=this.phrases[key]}else if(typeof options._==="string"){phrase=options._}else if(this.allowMissing){phrase=key}else{this.warn('Missing translation for key: "'+key+'"');result=key}if(typeof phrase==="string"){options=clone(options);result=choosePluralForm(phrase,this.currentLocale,options.smart_count);result=interpolate(result,options)}return result};Polyglot.prototype.has=function(key){return key in this.phrases};var delimeter="||||";var pluralTypes={chinese:function(n){return 0},german:function(n){return n!==1?1:0},french:function(n){return n>1?1:0},russian:function(n){return n%10===1&&n%100!==11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},czech:function(n){return n===1?0:n>=2&&n<=4?1:2},polish:function(n){return n===1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!==1||n%100===11?1:0}};var pluralTypeToLanguages={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};function langToTypeMap(mapping){var type,langs,l,ret={};for(type in mapping){if(mapping.hasOwnProperty(type)){langs=mapping[type];for(l in langs){ret[langs[l]]=type}}}return ret}function trim(str){var trimRe=/^\s+|\s+$/g;return str.replace(trimRe,"")}function choosePluralForm(text,locale,count){var ret,texts,chosenText;if(count!=null&&text){texts=text.split(delimeter);chosenText=texts[pluralTypeIndex(locale,count)]||texts[0];ret=trim(chosenText)}else{ret=text}return ret}function pluralTypeName(locale){var langToPluralType=langToTypeMap(pluralTypeToLanguages);return langToPluralType[locale]||langToPluralType.en}function pluralTypeIndex(locale,count){return pluralTypes[pluralTypeName(locale)](count)}function interpolate(phrase,options){for(var arg in options){if(arg!=="_"&&options.hasOwnProperty(arg)){phrase=phrase.replace(new RegExp("%\\{"+arg+"\\}","g"),options[arg])}}return phrase}function warn(message){root.console&&root.console.warn&&root.console.warn("WARNING: "+message)}function clone(source){var ret={};for(var prop in source){ret[prop]=source[prop]}return ret}return Polyglot})},{}],106:[function(require,module,exports){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx});return this},once:function(name,callback,ctx){var self=this;var fn=function(){self.off(name,fn);callback.apply(ctx,arguments)};return this.on(name,fn,ctx)},emit:function(name){var data=[].slice.call(arguments,1);var evtArr=((this.e||(this.e={}))[name]||[]).slice();var i=0;var len=evtArr.length;for(i;i<len;i++){evtArr[i].fn.apply(evtArr[i].ctx,data)}return this},off:function(name,callback){var e=this.e||(this.e={});var evts=e[name];var liveEvents=[];if(evts&&callback){for(var i=0,len=evts.length;i<len;i++){if(evts[i].fn!==callback)liveEvents.push(evts[i])}}liveEvents.length?e[name]=liveEvents:delete e[name];return this}};module.exports=E},{}],107:[function(require,module,exports){"use strict";var VNode=require("virtual-dom/vnode/vnode");var VText=require("virtual-dom/vnode/vtext");var domParser=new DOMParser;var propertyMap=require("./property-map");var namespaceMap=require("./namespace-map");var HTML_NAMESPACE="http://www.w3.org/1999/xhtml";module.exports=parser;function parser(el,attr){if(!el){return createNode(document.createTextNode(""))}if(typeof el==="string"){var doc=domParser.parseFromString(el,"text/html");if(doc.body.firstChild){el=doc.body.firstChild}else if(doc.head.firstChild&&(doc.head.firstChild.tagName!=="TITLE"||doc.title)){el=doc.head.firstChild}else if(doc.firstChild&&doc.firstChild.tagName!=="HTML"){el=doc.firstChild}else{el=document.createTextNode("")}}if(typeof el!=="object"||!el||!el.nodeType){throw new Error("invalid dom node",el)}return createNode(el,attr)}function createNode(el,attr){if(el.nodeType===3){return createVirtualTextNode(el)}else if(el.nodeType===1||el.nodeType===9){return createVirtualDomNode(el,attr)}return new VText("")}function createVirtualTextNode(el){return new VText(el.nodeValue)}function createVirtualDomNode(el,attr){var ns=el.namespaceURI!==HTML_NAMESPACE?el.namespaceURI:null;var key=attr&&el.getAttribute(attr)?el.getAttribute(attr):null;return new VNode(el.tagName,createProperties(el),createChildren(el,attr),key,ns)}function createChildren(el,attr){var children=[];for(var i=0;i<el.childNodes.length;i++){children.push(createNode(el.childNodes[i],attr))}return children}function createProperties(el){var properties={};if(!el.hasAttributes()){return properties}var ns;if(el.namespaceURI&&el.namespaceURI!==HTML_NAMESPACE){ns=el.namespaceURI}var attr;for(var i=0;i<el.attributes.length;i++){if(ns){attr=createPropertyNS(el.attributes[i])}else{attr=createProperty(el.attributes[i])}if(attr.ns){properties[attr.name]={namespace:attr.ns,value:attr.value}}else if(attr.isAttr){if(!properties.attributes){properties.attributes={}}properties.attributes[attr.name]=attr.value}else{properties[attr.name]=attr.value}}return properties}function createProperty(attr){var name,value,isAttr;if(propertyMap[attr.name]){name=propertyMap[attr.name]}else{name=attr.name}if(name==="style"){var style={};attr.value.split(";").forEach(function(s){var pos=s.indexOf(":");if(pos<0){return}style[s.substr(0,pos).trim()]=s.substr(pos+1).trim()});value=style}else if(name.indexOf("data-")===0){value=attr.value;isAttr=true}else{value=attr.value}return{name:name,value:value,isAttr:isAttr||false}}function createPropertyNS(attr){var name,value;return{name:attr.name,value:attr.value,ns:namespaceMap[attr.name]||""}}},{"./namespace-map":108,"./property-map":109,"virtual-dom/vnode/vnode":140,"virtual-dom/vnode/vtext":142}],108:[function(require,module,exports){"use strict";var DEFAULT_NAMESPACE=null;var EV_NAMESPACE="http://www.w3.org/2001/xml-events";var XLINK_NAMESPACE="http://www.w3.org/1999/xlink";var XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";var namespaces={about:DEFAULT_NAMESPACE,"accent-height":DEFAULT_NAMESPACE,accumulate:DEFAULT_NAMESPACE,additive:DEFAULT_NAMESPACE,"alignment-baseline":DEFAULT_NAMESPACE,alphabetic:DEFAULT_NAMESPACE,amplitude:DEFAULT_NAMESPACE,"arabic-form":DEFAULT_NAMESPACE,ascent:DEFAULT_NAMESPACE,attributeName:DEFAULT_NAMESPACE,attributeType:DEFAULT_NAMESPACE,azimuth:DEFAULT_NAMESPACE,bandwidth:DEFAULT_NAMESPACE,baseFrequency:DEFAULT_NAMESPACE,baseProfile:DEFAULT_NAMESPACE,"baseline-shift":DEFAULT_NAMESPACE,bbox:DEFAULT_NAMESPACE,begin:DEFAULT_NAMESPACE,bias:DEFAULT_NAMESPACE,by:DEFAULT_NAMESPACE,calcMode:DEFAULT_NAMESPACE,"cap-height":DEFAULT_NAMESPACE,"class":DEFAULT_NAMESPACE,clip:DEFAULT_NAMESPACE,"clip-path":DEFAULT_NAMESPACE,"clip-rule":DEFAULT_NAMESPACE,clipPathUnits:DEFAULT_NAMESPACE,color:DEFAULT_NAMESPACE,"color-interpolation":DEFAULT_NAMESPACE,"color-interpolation-filters":DEFAULT_NAMESPACE,"color-profile":DEFAULT_NAMESPACE,"color-rendering":DEFAULT_NAMESPACE,content:DEFAULT_NAMESPACE,contentScriptType:DEFAULT_NAMESPACE,contentStyleType:DEFAULT_NAMESPACE,cursor:DEFAULT_NAMESPACE,cx:DEFAULT_NAMESPACE,cy:DEFAULT_NAMESPACE,d:DEFAULT_NAMESPACE,datatype:DEFAULT_NAMESPACE,defaultAction:DEFAULT_NAMESPACE,descent:DEFAULT_NAMESPACE,diffuseConstant:DEFAULT_NAMESPACE,direction:DEFAULT_NAMESPACE,display:DEFAULT_NAMESPACE,divisor:DEFAULT_NAMESPACE,"dominant-baseline":DEFAULT_NAMESPACE,dur:DEFAULT_NAMESPACE,dx:DEFAULT_NAMESPACE,dy:DEFAULT_NAMESPACE,edgeMode:DEFAULT_NAMESPACE,editable:DEFAULT_NAMESPACE,elevation:DEFAULT_NAMESPACE,"enable-background":DEFAULT_NAMESPACE,end:DEFAULT_NAMESPACE,"ev:event":EV_NAMESPACE,event:DEFAULT_NAMESPACE,exponent:DEFAULT_NAMESPACE,externalResourcesRequired:DEFAULT_NAMESPACE,fill:DEFAULT_NAMESPACE,"fill-opacity":DEFAULT_NAMESPACE,"fill-rule":DEFAULT_NAMESPACE,filter:DEFAULT_NAMESPACE,filterRes:DEFAULT_NAMESPACE,filterUnits:DEFAULT_NAMESPACE,"flood-color":DEFAULT_NAMESPACE,"flood-opacity":DEFAULT_NAMESPACE,focusHighlight:DEFAULT_NAMESPACE,focusable:DEFAULT_NAMESPACE,"font-family":DEFAULT_NAMESPACE,"font-size":DEFAULT_NAMESPACE,"font-size-adjust":DEFAULT_NAMESPACE,"font-stretch":DEFAULT_NAMESPACE,"font-style":DEFAULT_NAMESPACE,"font-variant":DEFAULT_NAMESPACE,"font-weight":DEFAULT_NAMESPACE,format:DEFAULT_NAMESPACE,from:DEFAULT_NAMESPACE,fx:DEFAULT_NAMESPACE,fy:DEFAULT_NAMESPACE,g1:DEFAULT_NAMESPACE,g2:DEFAULT_NAMESPACE,"glyph-name":DEFAULT_NAMESPACE,"glyph-orientation-horizontal":DEFAULT_NAMESPACE,"glyph-orientation-vertical":DEFAULT_NAMESPACE,glyphRef:DEFAULT_NAMESPACE,gradientTransform:DEFAULT_NAMESPACE,gradientUnits:DEFAULT_NAMESPACE,handler:DEFAULT_NAMESPACE,hanging:DEFAULT_NAMESPACE,height:DEFAULT_NAMESPACE,"horiz-adv-x":DEFAULT_NAMESPACE,"horiz-origin-x":DEFAULT_NAMESPACE,"horiz-origin-y":DEFAULT_NAMESPACE,id:DEFAULT_NAMESPACE,ideographic:DEFAULT_NAMESPACE,"image-rendering":DEFAULT_NAMESPACE,"in":DEFAULT_NAMESPACE,in2:DEFAULT_NAMESPACE,initialVisibility:DEFAULT_NAMESPACE,intercept:DEFAULT_NAMESPACE,k:DEFAULT_NAMESPACE,k1:DEFAULT_NAMESPACE,k2:DEFAULT_NAMESPACE,k3:DEFAULT_NAMESPACE,k4:DEFAULT_NAMESPACE,kernelMatrix:DEFAULT_NAMESPACE,kernelUnitLength:DEFAULT_NAMESPACE,kerning:DEFAULT_NAMESPACE,keyPoints:DEFAULT_NAMESPACE,keySplines:DEFAULT_NAMESPACE,keyTimes:DEFAULT_NAMESPACE,lang:DEFAULT_NAMESPACE,lengthAdjust:DEFAULT_NAMESPACE,
"letter-spacing":DEFAULT_NAMESPACE,"lighting-color":DEFAULT_NAMESPACE,limitingConeAngle:DEFAULT_NAMESPACE,local:DEFAULT_NAMESPACE,"marker-end":DEFAULT_NAMESPACE,"marker-mid":DEFAULT_NAMESPACE,"marker-start":DEFAULT_NAMESPACE,markerHeight:DEFAULT_NAMESPACE,markerUnits:DEFAULT_NAMESPACE,markerWidth:DEFAULT_NAMESPACE,mask:DEFAULT_NAMESPACE,maskContentUnits:DEFAULT_NAMESPACE,maskUnits:DEFAULT_NAMESPACE,mathematical:DEFAULT_NAMESPACE,max:DEFAULT_NAMESPACE,media:DEFAULT_NAMESPACE,mediaCharacterEncoding:DEFAULT_NAMESPACE,mediaContentEncodings:DEFAULT_NAMESPACE,mediaSize:DEFAULT_NAMESPACE,mediaTime:DEFAULT_NAMESPACE,method:DEFAULT_NAMESPACE,min:DEFAULT_NAMESPACE,mode:DEFAULT_NAMESPACE,name:DEFAULT_NAMESPACE,"nav-down":DEFAULT_NAMESPACE,"nav-down-left":DEFAULT_NAMESPACE,"nav-down-right":DEFAULT_NAMESPACE,"nav-left":DEFAULT_NAMESPACE,"nav-next":DEFAULT_NAMESPACE,"nav-prev":DEFAULT_NAMESPACE,"nav-right":DEFAULT_NAMESPACE,"nav-up":DEFAULT_NAMESPACE,"nav-up-left":DEFAULT_NAMESPACE,"nav-up-right":DEFAULT_NAMESPACE,numOctaves:DEFAULT_NAMESPACE,observer:DEFAULT_NAMESPACE,offset:DEFAULT_NAMESPACE,opacity:DEFAULT_NAMESPACE,operator:DEFAULT_NAMESPACE,order:DEFAULT_NAMESPACE,orient:DEFAULT_NAMESPACE,orientation:DEFAULT_NAMESPACE,origin:DEFAULT_NAMESPACE,overflow:DEFAULT_NAMESPACE,overlay:DEFAULT_NAMESPACE,"overline-position":DEFAULT_NAMESPACE,"overline-thickness":DEFAULT_NAMESPACE,"panose-1":DEFAULT_NAMESPACE,path:DEFAULT_NAMESPACE,pathLength:DEFAULT_NAMESPACE,patternContentUnits:DEFAULT_NAMESPACE,patternTransform:DEFAULT_NAMESPACE,patternUnits:DEFAULT_NAMESPACE,phase:DEFAULT_NAMESPACE,playbackOrder:DEFAULT_NAMESPACE,"pointer-events":DEFAULT_NAMESPACE,points:DEFAULT_NAMESPACE,pointsAtX:DEFAULT_NAMESPACE,pointsAtY:DEFAULT_NAMESPACE,pointsAtZ:DEFAULT_NAMESPACE,preserveAlpha:DEFAULT_NAMESPACE,preserveAspectRatio:DEFAULT_NAMESPACE,primitiveUnits:DEFAULT_NAMESPACE,propagate:DEFAULT_NAMESPACE,property:DEFAULT_NAMESPACE,r:DEFAULT_NAMESPACE,radius:DEFAULT_NAMESPACE,refX:DEFAULT_NAMESPACE,refY:DEFAULT_NAMESPACE,rel:DEFAULT_NAMESPACE,"rendering-intent":DEFAULT_NAMESPACE,repeatCount:DEFAULT_NAMESPACE,repeatDur:DEFAULT_NAMESPACE,requiredExtensions:DEFAULT_NAMESPACE,requiredFeatures:DEFAULT_NAMESPACE,requiredFonts:DEFAULT_NAMESPACE,requiredFormats:DEFAULT_NAMESPACE,resource:DEFAULT_NAMESPACE,restart:DEFAULT_NAMESPACE,result:DEFAULT_NAMESPACE,rev:DEFAULT_NAMESPACE,role:DEFAULT_NAMESPACE,rotate:DEFAULT_NAMESPACE,rx:DEFAULT_NAMESPACE,ry:DEFAULT_NAMESPACE,scale:DEFAULT_NAMESPACE,seed:DEFAULT_NAMESPACE,"shape-rendering":DEFAULT_NAMESPACE,slope:DEFAULT_NAMESPACE,snapshotTime:DEFAULT_NAMESPACE,spacing:DEFAULT_NAMESPACE,specularConstant:DEFAULT_NAMESPACE,specularExponent:DEFAULT_NAMESPACE,spreadMethod:DEFAULT_NAMESPACE,startOffset:DEFAULT_NAMESPACE,stdDeviation:DEFAULT_NAMESPACE,stemh:DEFAULT_NAMESPACE,stemv:DEFAULT_NAMESPACE,stitchTiles:DEFAULT_NAMESPACE,"stop-color":DEFAULT_NAMESPACE,"stop-opacity":DEFAULT_NAMESPACE,"strikethrough-position":DEFAULT_NAMESPACE,"strikethrough-thickness":DEFAULT_NAMESPACE,string:DEFAULT_NAMESPACE,stroke:DEFAULT_NAMESPACE,"stroke-dasharray":DEFAULT_NAMESPACE,"stroke-dashoffset":DEFAULT_NAMESPACE,"stroke-linecap":DEFAULT_NAMESPACE,"stroke-linejoin":DEFAULT_NAMESPACE,"stroke-miterlimit":DEFAULT_NAMESPACE,"stroke-opacity":DEFAULT_NAMESPACE,"stroke-width":DEFAULT_NAMESPACE,surfaceScale:DEFAULT_NAMESPACE,syncBehavior:DEFAULT_NAMESPACE,syncBehaviorDefault:DEFAULT_NAMESPACE,syncMaster:DEFAULT_NAMESPACE,syncTolerance:DEFAULT_NAMESPACE,syncToleranceDefault:DEFAULT_NAMESPACE,systemLanguage:DEFAULT_NAMESPACE,tableValues:DEFAULT_NAMESPACE,target:DEFAULT_NAMESPACE,targetX:DEFAULT_NAMESPACE,targetY:DEFAULT_NAMESPACE,"text-anchor":DEFAULT_NAMESPACE,"text-decoration":DEFAULT_NAMESPACE,"text-rendering":DEFAULT_NAMESPACE,textLength:DEFAULT_NAMESPACE,timelineBegin:DEFAULT_NAMESPACE,title:DEFAULT_NAMESPACE,to:DEFAULT_NAMESPACE,transform:DEFAULT_NAMESPACE,transformBehavior:DEFAULT_NAMESPACE,type:DEFAULT_NAMESPACE,"typeof":DEFAULT_NAMESPACE,u1:DEFAULT_NAMESPACE,u2:DEFAULT_NAMESPACE,"underline-position":DEFAULT_NAMESPACE,"underline-thickness":DEFAULT_NAMESPACE,unicode:DEFAULT_NAMESPACE,"unicode-bidi":DEFAULT_NAMESPACE,"unicode-range":DEFAULT_NAMESPACE,"units-per-em":DEFAULT_NAMESPACE,"v-alphabetic":DEFAULT_NAMESPACE,"v-hanging":DEFAULT_NAMESPACE,"v-ideographic":DEFAULT_NAMESPACE,"v-mathematical":DEFAULT_NAMESPACE,values:DEFAULT_NAMESPACE,version:DEFAULT_NAMESPACE,"vert-adv-y":DEFAULT_NAMESPACE,"vert-origin-x":DEFAULT_NAMESPACE,"vert-origin-y":DEFAULT_NAMESPACE,viewBox:DEFAULT_NAMESPACE,viewTarget:DEFAULT_NAMESPACE,visibility:DEFAULT_NAMESPACE,width:DEFAULT_NAMESPACE,widths:DEFAULT_NAMESPACE,"word-spacing":DEFAULT_NAMESPACE,"writing-mode":DEFAULT_NAMESPACE,x:DEFAULT_NAMESPACE,"x-height":DEFAULT_NAMESPACE,x1:DEFAULT_NAMESPACE,x2:DEFAULT_NAMESPACE,xChannelSelector:DEFAULT_NAMESPACE,"xlink:actuate":XLINK_NAMESPACE,"xlink:arcrole":XLINK_NAMESPACE,"xlink:href":XLINK_NAMESPACE,"xlink:role":XLINK_NAMESPACE,"xlink:show":XLINK_NAMESPACE,"xlink:title":XLINK_NAMESPACE,"xlink:type":XLINK_NAMESPACE,"xml:base":XML_NAMESPACE,"xml:id":XML_NAMESPACE,"xml:lang":XML_NAMESPACE,"xml:space":XML_NAMESPACE,y:DEFAULT_NAMESPACE,y1:DEFAULT_NAMESPACE,y2:DEFAULT_NAMESPACE,yChannelSelector:DEFAULT_NAMESPACE,z:DEFAULT_NAMESPACE,zoomAndPan:DEFAULT_NAMESPACE};module.exports=namespaces},{}],109:[function(require,module,exports){"use strict";var properties={abbr:"abbr",accept:"accept","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",async:"async",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite","class":"className",cols:"cols",colspan:"colSpan",command:"command",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",coords:"coords",crossorigin:"crossOrigin",data:"data",datetime:"dateTime","default":"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",enctype:"encType","for":"htmlFor",form:"form",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang","http-equiv":"httpEquiv",icon:"icon",id:"id",inputmode:"inputMode",ismap:"isMap",itemid:"itemId",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radiogroup:"radioGroup",readonly:"readOnly",rel:"rel",required:"required",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srcset:"srcSet",start:"start",step:"step",style:"style",tabindex:"tabIndex",target:"target",title:"title",translate:"translate",type:"type",typemustmatch:"typeMustMatch",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"};module.exports=properties},{}],110:[function(require,module,exports){var diff=require("./vtree/diff.js");module.exports=diff},{"./vtree/diff.js":144}],111:[function(require,module,exports){var h=require("./virtual-hyperscript/index.js");module.exports=h},{"./virtual-hyperscript/index.js":129}],112:[function(require,module,exports){module.exports=function split(undef){var nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("")[1]===undef,self;self=function(str,separator,limit){if(Object.prototype.toString.call(separator)!=="[object RegExp]"){return nativeSplit.call(str,separator,limit)}var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator=new RegExp(separator.source,flags+"g"),separator2,match,lastIndex,lastLength;str+="";if(!compliantExecNpcg){separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)}limit=limit===undef?-1>>>0:limit>>>0;while(match=separator.exec(str)){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undef){match[i]=undef}}})}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}}if(lastLastIndex===str.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};return self}()},{}],113:[function(require,module,exports){arguments[4][87][0].apply(exports,arguments)},{dup:87,"individual/one-version":115}],114:[function(require,module,exports){arguments[4][88][0].apply(exports,arguments)},{dup:88}],115:[function(require,module,exports){arguments[4][89][0].apply(exports,arguments)},{"./index.js":114,dup:89}],116:[function(require,module,exports){arguments[4][90][0].apply(exports,arguments)},{dup:90,"min-document":81}],117:[function(require,module,exports){"use strict";module.exports=function isObject(x){return typeof x==="object"&&x!==null}},{}],118:[function(require,module,exports){var nativeIsArray=Array.isArray;var toString=Object.prototype.toString;module.exports=nativeIsArray||isArray;function isArray(obj){return toString.call(obj)==="[object Array]"}},{}],119:[function(require,module,exports){var patch=require("./vdom/patch.js");module.exports=patch},{"./vdom/patch.js":124}],120:[function(require,module,exports){var isObject=require("is-object");var isHook=require("../vnode/is-vhook.js");module.exports=applyProperties;function applyProperties(node,props,previous){for(var propName in props){var propValue=props[propName];if(propValue===undefined){removeProperty(node,propName,propValue,previous)}else if(isHook(propValue)){removeProperty(node,propName,propValue,previous);if(propValue.hook){propValue.hook(node,propName,previous?previous[propName]:undefined)}}else{if(isObject(propValue)){patchObject(node,props,previous,propName,propValue)}else{node[propName]=propValue}}}}function removeProperty(node,propName,propValue,previous){if(previous){var previousValue=previous[propName];if(!isHook(previousValue)){if(propName==="attributes"){for(var attrName in previousValue){node.removeAttribute(attrName)}}else if(propName==="style"){for(var i in previousValue){node.style[i]=""}}else if(typeof previousValue==="string"){node[propName]=""}else{node[propName]=null}}else if(previousValue.unhook){previousValue.unhook(node,propName,propValue)}}}function patchObject(node,props,previous,propName,propValue){var previousValue=previous?previous[propName]:undefined;if(propName==="attributes"){for(var attrName in propValue){var attrValue=propValue[attrName];if(attrValue===undefined){node.removeAttribute(attrName)}else{node.setAttribute(attrName,attrValue)}}return}if(previousValue&&isObject(previousValue)&&getPrototype(previousValue)!==getPrototype(propValue)){node[propName]=propValue;return}if(!isObject(node[propName])){node[propName]={}}var replacer=propName==="style"?"":undefined;for(var k in propValue){var value=propValue[k];node[propName][k]=value===undefined?replacer:value}}function getPrototype(value){if(Object.getPrototypeOf){return Object.getPrototypeOf(value)}else if(value.__proto__){return value.__proto__}else if(value.constructor){return value.constructor.prototype}}},{"../vnode/is-vhook.js":135,"is-object":117}],121:[function(require,module,exports){var document=require("global/document");var applyProperties=require("./apply-properties");var isVNode=require("../vnode/is-vnode.js");var isVText=require("../vnode/is-vtext.js");var isWidget=require("../vnode/is-widget.js");var handleThunk=require("../vnode/handle-thunk.js");module.exports=createElement;function createElement(vnode,opts){var doc=opts?opts.document||document:document;var warn=opts?opts.warn:null;vnode=handleThunk(vnode).a;if(isWidget(vnode)){return vnode.init()}else if(isVText(vnode)){return doc.createTextNode(vnode.text)}else if(!isVNode(vnode)){if(warn){warn("Item is not a valid virtual dom node",vnode)}return null}var node=vnode.namespace===null?doc.createElement(vnode.tagName):doc.createElementNS(vnode.namespace,vnode.tagName);var props=vnode.properties;applyProperties(node,props);var children=vnode.children;for(var i=0;i<children.length;i++){var childNode=createElement(children[i],opts);if(childNode){node.appendChild(childNode)}}return node}},{"../vnode/handle-thunk.js":133,"../vnode/is-vnode.js":136,"../vnode/is-vtext.js":137,"../vnode/is-widget.js":138,"./apply-properties":120,"global/document":116}],122:[function(require,module,exports){var noChild={};module.exports=domIndex;function domIndex(rootNode,tree,indices,nodes){if(!indices||indices.length===0){return{}}else{indices.sort(ascending);return recurse(rootNode,tree,indices,nodes,0)}}function recurse(rootNode,tree,indices,nodes,rootIndex){nodes=nodes||{};if(rootNode){if(indexInRange(indices,rootIndex,rootIndex)){nodes[rootIndex]=rootNode}var vChildren=tree.children;if(vChildren){var childNodes=rootNode.childNodes;for(var i=0;i<tree.children.length;i++){rootIndex+=1;var vChild=vChildren[i]||noChild;var nextIndex=rootIndex+(vChild.count||0);if(indexInRange(indices,rootIndex,nextIndex)){recurse(childNodes[i],vChild,indices,nodes,rootIndex)}rootIndex=nextIndex}}}return nodes}function indexInRange(indices,left,right){if(indices.length===0){return false}var minIndex=0;var maxIndex=indices.length-1;var currentIndex;var currentItem;while(minIndex<=maxIndex){currentIndex=(maxIndex+minIndex)/2>>0;currentItem=indices[currentIndex];if(minIndex===maxIndex){return currentItem>=left&&currentItem<=right}else if(currentItem<left){minIndex=currentIndex+1}else if(currentItem>right){maxIndex=currentIndex-1}else{return true}}return false}function ascending(a,b){return a>b?1:-1}},{}],123:[function(require,module,exports){var applyProperties=require("./apply-properties");var isWidget=require("../vnode/is-widget.js");var VPatch=require("../vnode/vpatch.js");var render=require("./create-element");var updateWidget=require("./update-widget");module.exports=applyPatch;function applyPatch(vpatch,domNode,renderOptions){var type=vpatch.type;var vNode=vpatch.vNode;var patch=vpatch.patch;switch(type){case VPatch.REMOVE:return removeNode(domNode,vNode);case VPatch.INSERT:return insertNode(domNode,patch,renderOptions);case VPatch.VTEXT:return stringPatch(domNode,vNode,patch,renderOptions);case VPatch.WIDGET:return widgetPatch(domNode,vNode,patch,renderOptions);case VPatch.VNODE:return vNodePatch(domNode,vNode,patch,renderOptions);case VPatch.ORDER:reorderChildren(domNode,patch);return domNode;case VPatch.PROPS:applyProperties(domNode,patch,vNode.properties);return domNode;case VPatch.THUNK:return replaceRoot(domNode,renderOptions.patch(domNode,patch,renderOptions));default:return domNode}}function removeNode(domNode,vNode){var parentNode=domNode.parentNode;if(parentNode){parentNode.removeChild(domNode)}destroyWidget(domNode,vNode);return null}function insertNode(parentNode,vNode,renderOptions){var newNode=render(vNode,renderOptions);if(parentNode){parentNode.appendChild(newNode)}return parentNode}function stringPatch(domNode,leftVNode,vText,renderOptions){var newNode;if(domNode.nodeType===3){domNode.replaceData(0,domNode.length,vText.text);newNode=domNode}else{var parentNode=domNode.parentNode;newNode=render(vText,renderOptions);if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}}return newNode}function widgetPatch(domNode,leftVNode,widget,renderOptions){var updating=updateWidget(leftVNode,widget);var newNode;if(updating){newNode=widget.update(leftVNode,domNode)||domNode}else{newNode=render(widget,renderOptions)}var parentNode=domNode.parentNode;if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}if(!updating){destroyWidget(domNode,leftVNode)}return newNode}function vNodePatch(domNode,leftVNode,vNode,renderOptions){var parentNode=domNode.parentNode;var newNode=render(vNode,renderOptions);if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}return newNode}function destroyWidget(domNode,w){if(typeof w.destroy==="function"&&isWidget(w)){w.destroy(domNode)}}function reorderChildren(domNode,moves){var childNodes=domNode.childNodes;var keyMap={};var node;var remove;var insert;for(var i=0;i<moves.removes.length;i++){remove=moves.removes[i];node=childNodes[remove.from];if(remove.key){keyMap[remove.key]=node}domNode.removeChild(node)}var length=childNodes.length;for(var j=0;j<moves.inserts.length;j++){insert=moves.inserts[j];node=keyMap[insert.key];domNode.insertBefore(node,insert.to>=length++?null:childNodes[insert.to])}}function replaceRoot(oldRoot,newRoot){if(oldRoot&&newRoot&&oldRoot!==newRoot&&oldRoot.parentNode){oldRoot.parentNode.replaceChild(newRoot,oldRoot)}return newRoot}},{"../vnode/is-widget.js":138,"../vnode/vpatch.js":141,"./apply-properties":120,"./create-element":121,"./update-widget":125}],124:[function(require,module,exports){var document=require("global/document");var isArray=require("x-is-array");var domIndex=require("./dom-index");var patchOp=require("./patch-op");module.exports=patch;function patch(rootNode,patches){return patchRecursive(rootNode,patches)}function patchRecursive(rootNode,patches,renderOptions){var indices=patchIndices(patches);if(indices.length===0){return rootNode}var index=domIndex(rootNode,patches.a,indices);var ownerDocument=rootNode.ownerDocument;if(!renderOptions){renderOptions={patch:patchRecursive};if(ownerDocument!==document){renderOptions.document=ownerDocument}}for(var i=0;i<indices.length;i++){var nodeIndex=indices[i];rootNode=applyPatch(rootNode,index[nodeIndex],patches[nodeIndex],renderOptions)}return rootNode}function applyPatch(rootNode,domNode,patchList,renderOptions){if(!domNode){return rootNode}var newNode;if(isArray(patchList)){for(var i=0;i<patchList.length;i++){newNode=patchOp(patchList[i],domNode,renderOptions);if(domNode===rootNode){rootNode=newNode}}}else{newNode=patchOp(patchList,domNode,renderOptions);if(domNode===rootNode){rootNode=newNode}}return rootNode}function patchIndices(patches){var indices=[];for(var key in patches){if(key!=="a"){indices.push(Number(key))}}return indices}},{"./dom-index":122,"./patch-op":123,"global/document":116,"x-is-array":118}],125:[function(require,module,exports){var isWidget=require("../vnode/is-widget.js");module.exports=updateWidget;function updateWidget(a,b){if(isWidget(a)&&isWidget(b)){if("name"in a&&"name"in b){return a.id===b.id}else{return a.init===b.init}}return false}},{"../vnode/is-widget.js":138}],126:[function(require,module,exports){"use strict";module.exports=AttributeHook;function AttributeHook(namespace,value){if(!(this instanceof AttributeHook)){return new AttributeHook(namespace,value)}this.namespace=namespace;this.value=value}AttributeHook.prototype.hook=function(node,prop,prev){if(prev&&prev.type==="AttributeHook"&&prev.value===this.value&&prev.namespace===this.namespace){return}node.setAttributeNS(this.namespace,prop,this.value)};AttributeHook.prototype.unhook=function(node,prop,next){if(next&&next.type==="AttributeHook"&&next.namespace===this.namespace){return}var colonPosition=prop.indexOf(":");var localName=colonPosition>-1?prop.substr(colonPosition+1):prop;node.removeAttributeNS(this.namespace,localName)};AttributeHook.prototype.type="AttributeHook"},{}],127:[function(require,module,exports){"use strict";var EvStore=require("ev-store");module.exports=EvHook;function EvHook(value){if(!(this instanceof EvHook)){return new EvHook(value)}this.value=value}EvHook.prototype.hook=function(node,propertyName){var es=EvStore(node);var propName=propertyName.substr(3);es[propName]=this.value};EvHook.prototype.unhook=function(node,propertyName){var es=EvStore(node);var propName=propertyName.substr(3);es[propName]=undefined}},{"ev-store":113}],128:[function(require,module,exports){"use strict";module.exports=SoftSetHook;function SoftSetHook(value){if(!(this instanceof SoftSetHook)){return new SoftSetHook(value)}this.value=value}SoftSetHook.prototype.hook=function(node,propertyName){if(node[propertyName]!==this.value){node[propertyName]=this.value}}},{}],129:[function(require,module,exports){"use strict";var isArray=require("x-is-array");var VNode=require("../vnode/vnode.js");var VText=require("../vnode/vtext.js");var isVNode=require("../vnode/is-vnode");var isVText=require("../vnode/is-vtext");var isWidget=require("../vnode/is-widget");var isHook=require("../vnode/is-vhook");var isVThunk=require("../vnode/is-thunk");var parseTag=require("./parse-tag.js");var softSetHook=require("./hooks/soft-set-hook.js");var evHook=require("./hooks/ev-hook.js");module.exports=h;function h(tagName,properties,children){var childNodes=[];var tag,props,key,namespace;if(!children&&isChildren(properties)){children=properties;props={}}props=props||properties||{};tag=parseTag(tagName,props);if(props.hasOwnProperty("key")){key=props.key;props.key=undefined}if(props.hasOwnProperty("namespace")){namespace=props.namespace;props.namespace=undefined}if(tag==="INPUT"&&!namespace&&props.hasOwnProperty("value")&&props.value!==undefined&&!isHook(props.value)){props.value=softSetHook(props.value)}transformProperties(props);if(children!==undefined&&children!==null){addChild(children,childNodes,tag,props)}return new VNode(tag,props,childNodes,key,namespace)}function addChild(c,childNodes,tag,props){if(typeof c==="string"){childNodes.push(new VText(c))}else if(isChild(c)){childNodes.push(c)}else if(isArray(c)){for(var i=0;i<c.length;i++){addChild(c[i],childNodes,tag,props)}}else if(c===null||c===undefined){return}else{throw UnexpectedVirtualElement({foreignObject:c,parentVnode:{tagName:tag,properties:props}})}}function transformProperties(props){for(var propName in props){if(props.hasOwnProperty(propName)){var value=props[propName];if(isHook(value)){continue}if(propName.substr(0,3)==="ev-"){props[propName]=evHook(value)}}}}function isChild(x){return isVNode(x)||isVText(x)||isWidget(x)||isVThunk(x)}function isChildren(x){return typeof x==="string"||isArray(x)||isChild(x)}function UnexpectedVirtualElement(data){var err=new Error;err.type="virtual-hyperscript.unexpected.virtual-element";err.message="Unexpected virtual child passed to h().\n"+"Expected a VNode / Vthunk / VWidget / string but:\n"+"got:\n"+errorString(data.foreignObject)+".\n"+"The parent vnode is:\n"+errorString(data.parentVnode);"\n"+"Suggested fix: change your `h(..., [ ... ])` callsite.";err.foreignObject=data.foreignObject;err.parentVnode=data.parentVnode;return err}function errorString(obj){try{return JSON.stringify(obj,null,"    ")}catch(e){return String(obj)}}},{"../vnode/is-thunk":134,"../vnode/is-vhook":135,"../vnode/is-vnode":136,"../vnode/is-vtext":137,"../vnode/is-widget":138,"../vnode/vnode.js":140,"../vnode/vtext.js":142,"./hooks/ev-hook.js":127,"./hooks/soft-set-hook.js":128,"./parse-tag.js":130,"x-is-array":118}],130:[function(require,module,exports){"use strict";var split=require("browser-split");var classIdSplit=/([\.#]?[a-zA-Z0-9_:-]+)/;var notClassId=/^\.|#/;module.exports=parseTag;function parseTag(tag,props){if(!tag){return"DIV"}var noId=!props.hasOwnProperty("id");var tagParts=split(tag,classIdSplit);var tagName=null;if(notClassId.test(tagParts[1])){tagName="DIV"}var classes,part,type,i;for(i=0;i<tagParts.length;i++){part=tagParts[i];if(!part){continue}type=part.charAt(0);if(!tagName){tagName=part}else if(type==="."){classes=classes||[];classes.push(part.substring(1,part.length))}else if(type==="#"&&noId){props.id=part.substring(1,part.length)}}if(classes){if(props.className){classes.push(props.className)}props.className=classes.join(" ")}return props.namespace?tagName:tagName.toUpperCase()}},{"browser-split":112}],131:[function(require,module,exports){"use strict";var DEFAULT_NAMESPACE=null;var EV_NAMESPACE="http://www.w3.org/2001/xml-events";var XLINK_NAMESPACE="http://www.w3.org/1999/xlink";var XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";var SVG_PROPERTIES={about:DEFAULT_NAMESPACE,"accent-height":DEFAULT_NAMESPACE,accumulate:DEFAULT_NAMESPACE,additive:DEFAULT_NAMESPACE,"alignment-baseline":DEFAULT_NAMESPACE,alphabetic:DEFAULT_NAMESPACE,amplitude:DEFAULT_NAMESPACE,"arabic-form":DEFAULT_NAMESPACE,ascent:DEFAULT_NAMESPACE,attributeName:DEFAULT_NAMESPACE,attributeType:DEFAULT_NAMESPACE,azimuth:DEFAULT_NAMESPACE,bandwidth:DEFAULT_NAMESPACE,baseFrequency:DEFAULT_NAMESPACE,baseProfile:DEFAULT_NAMESPACE,"baseline-shift":DEFAULT_NAMESPACE,bbox:DEFAULT_NAMESPACE,begin:DEFAULT_NAMESPACE,bias:DEFAULT_NAMESPACE,by:DEFAULT_NAMESPACE,calcMode:DEFAULT_NAMESPACE,"cap-height":DEFAULT_NAMESPACE,"class":DEFAULT_NAMESPACE,clip:DEFAULT_NAMESPACE,"clip-path":DEFAULT_NAMESPACE,"clip-rule":DEFAULT_NAMESPACE,clipPathUnits:DEFAULT_NAMESPACE,color:DEFAULT_NAMESPACE,"color-interpolation":DEFAULT_NAMESPACE,"color-interpolation-filters":DEFAULT_NAMESPACE,"color-profile":DEFAULT_NAMESPACE,"color-rendering":DEFAULT_NAMESPACE,content:DEFAULT_NAMESPACE,contentScriptType:DEFAULT_NAMESPACE,contentStyleType:DEFAULT_NAMESPACE,cursor:DEFAULT_NAMESPACE,cx:DEFAULT_NAMESPACE,cy:DEFAULT_NAMESPACE,d:DEFAULT_NAMESPACE,datatype:DEFAULT_NAMESPACE,defaultAction:DEFAULT_NAMESPACE,descent:DEFAULT_NAMESPACE,diffuseConstant:DEFAULT_NAMESPACE,direction:DEFAULT_NAMESPACE,display:DEFAULT_NAMESPACE,divisor:DEFAULT_NAMESPACE,"dominant-baseline":DEFAULT_NAMESPACE,dur:DEFAULT_NAMESPACE,dx:DEFAULT_NAMESPACE,dy:DEFAULT_NAMESPACE,edgeMode:DEFAULT_NAMESPACE,editable:DEFAULT_NAMESPACE,elevation:DEFAULT_NAMESPACE,"enable-background":DEFAULT_NAMESPACE,end:DEFAULT_NAMESPACE,"ev:event":EV_NAMESPACE,event:DEFAULT_NAMESPACE,exponent:DEFAULT_NAMESPACE,externalResourcesRequired:DEFAULT_NAMESPACE,fill:DEFAULT_NAMESPACE,"fill-opacity":DEFAULT_NAMESPACE,"fill-rule":DEFAULT_NAMESPACE,filter:DEFAULT_NAMESPACE,filterRes:DEFAULT_NAMESPACE,filterUnits:DEFAULT_NAMESPACE,"flood-color":DEFAULT_NAMESPACE,"flood-opacity":DEFAULT_NAMESPACE,focusHighlight:DEFAULT_NAMESPACE,focusable:DEFAULT_NAMESPACE,"font-family":DEFAULT_NAMESPACE,"font-size":DEFAULT_NAMESPACE,"font-size-adjust":DEFAULT_NAMESPACE,"font-stretch":DEFAULT_NAMESPACE,"font-style":DEFAULT_NAMESPACE,"font-variant":DEFAULT_NAMESPACE,"font-weight":DEFAULT_NAMESPACE,format:DEFAULT_NAMESPACE,from:DEFAULT_NAMESPACE,fx:DEFAULT_NAMESPACE,fy:DEFAULT_NAMESPACE,g1:DEFAULT_NAMESPACE,g2:DEFAULT_NAMESPACE,"glyph-name":DEFAULT_NAMESPACE,"glyph-orientation-horizontal":DEFAULT_NAMESPACE,"glyph-orientation-vertical":DEFAULT_NAMESPACE,glyphRef:DEFAULT_NAMESPACE,gradientTransform:DEFAULT_NAMESPACE,gradientUnits:DEFAULT_NAMESPACE,handler:DEFAULT_NAMESPACE,hanging:DEFAULT_NAMESPACE,height:DEFAULT_NAMESPACE,"horiz-adv-x":DEFAULT_NAMESPACE,"horiz-origin-x":DEFAULT_NAMESPACE,"horiz-origin-y":DEFAULT_NAMESPACE,id:DEFAULT_NAMESPACE,ideographic:DEFAULT_NAMESPACE,"image-rendering":DEFAULT_NAMESPACE,"in":DEFAULT_NAMESPACE,in2:DEFAULT_NAMESPACE,initialVisibility:DEFAULT_NAMESPACE,intercept:DEFAULT_NAMESPACE,k:DEFAULT_NAMESPACE,k1:DEFAULT_NAMESPACE,k2:DEFAULT_NAMESPACE,k3:DEFAULT_NAMESPACE,k4:DEFAULT_NAMESPACE,kernelMatrix:DEFAULT_NAMESPACE,kernelUnitLength:DEFAULT_NAMESPACE,kerning:DEFAULT_NAMESPACE,keyPoints:DEFAULT_NAMESPACE,keySplines:DEFAULT_NAMESPACE,keyTimes:DEFAULT_NAMESPACE,lang:DEFAULT_NAMESPACE,lengthAdjust:DEFAULT_NAMESPACE,"letter-spacing":DEFAULT_NAMESPACE,"lighting-color":DEFAULT_NAMESPACE,limitingConeAngle:DEFAULT_NAMESPACE,local:DEFAULT_NAMESPACE,"marker-end":DEFAULT_NAMESPACE,"marker-mid":DEFAULT_NAMESPACE,"marker-start":DEFAULT_NAMESPACE,markerHeight:DEFAULT_NAMESPACE,markerUnits:DEFAULT_NAMESPACE,markerWidth:DEFAULT_NAMESPACE,mask:DEFAULT_NAMESPACE,maskContentUnits:DEFAULT_NAMESPACE,maskUnits:DEFAULT_NAMESPACE,mathematical:DEFAULT_NAMESPACE,max:DEFAULT_NAMESPACE,media:DEFAULT_NAMESPACE,mediaCharacterEncoding:DEFAULT_NAMESPACE,mediaContentEncodings:DEFAULT_NAMESPACE,mediaSize:DEFAULT_NAMESPACE,mediaTime:DEFAULT_NAMESPACE,method:DEFAULT_NAMESPACE,min:DEFAULT_NAMESPACE,mode:DEFAULT_NAMESPACE,name:DEFAULT_NAMESPACE,"nav-down":DEFAULT_NAMESPACE,"nav-down-left":DEFAULT_NAMESPACE,"nav-down-right":DEFAULT_NAMESPACE,"nav-left":DEFAULT_NAMESPACE,"nav-next":DEFAULT_NAMESPACE,"nav-prev":DEFAULT_NAMESPACE,"nav-right":DEFAULT_NAMESPACE,"nav-up":DEFAULT_NAMESPACE,"nav-up-left":DEFAULT_NAMESPACE,"nav-up-right":DEFAULT_NAMESPACE,numOctaves:DEFAULT_NAMESPACE,observer:DEFAULT_NAMESPACE,offset:DEFAULT_NAMESPACE,opacity:DEFAULT_NAMESPACE,operator:DEFAULT_NAMESPACE,order:DEFAULT_NAMESPACE,orient:DEFAULT_NAMESPACE,orientation:DEFAULT_NAMESPACE,origin:DEFAULT_NAMESPACE,overflow:DEFAULT_NAMESPACE,overlay:DEFAULT_NAMESPACE,"overline-position":DEFAULT_NAMESPACE,"overline-thickness":DEFAULT_NAMESPACE,"panose-1":DEFAULT_NAMESPACE,path:DEFAULT_NAMESPACE,pathLength:DEFAULT_NAMESPACE,patternContentUnits:DEFAULT_NAMESPACE,patternTransform:DEFAULT_NAMESPACE,patternUnits:DEFAULT_NAMESPACE,phase:DEFAULT_NAMESPACE,playbackOrder:DEFAULT_NAMESPACE,"pointer-events":DEFAULT_NAMESPACE,points:DEFAULT_NAMESPACE,pointsAtX:DEFAULT_NAMESPACE,pointsAtY:DEFAULT_NAMESPACE,pointsAtZ:DEFAULT_NAMESPACE,preserveAlpha:DEFAULT_NAMESPACE,preserveAspectRatio:DEFAULT_NAMESPACE,primitiveUnits:DEFAULT_NAMESPACE,propagate:DEFAULT_NAMESPACE,property:DEFAULT_NAMESPACE,r:DEFAULT_NAMESPACE,radius:DEFAULT_NAMESPACE,refX:DEFAULT_NAMESPACE,refY:DEFAULT_NAMESPACE,rel:DEFAULT_NAMESPACE,"rendering-intent":DEFAULT_NAMESPACE,repeatCount:DEFAULT_NAMESPACE,repeatDur:DEFAULT_NAMESPACE,requiredExtensions:DEFAULT_NAMESPACE,requiredFeatures:DEFAULT_NAMESPACE,requiredFonts:DEFAULT_NAMESPACE,requiredFormats:DEFAULT_NAMESPACE,resource:DEFAULT_NAMESPACE,restart:DEFAULT_NAMESPACE,result:DEFAULT_NAMESPACE,rev:DEFAULT_NAMESPACE,role:DEFAULT_NAMESPACE,rotate:DEFAULT_NAMESPACE,rx:DEFAULT_NAMESPACE,ry:DEFAULT_NAMESPACE,scale:DEFAULT_NAMESPACE,seed:DEFAULT_NAMESPACE,"shape-rendering":DEFAULT_NAMESPACE,slope:DEFAULT_NAMESPACE,snapshotTime:DEFAULT_NAMESPACE,spacing:DEFAULT_NAMESPACE,specularConstant:DEFAULT_NAMESPACE,specularExponent:DEFAULT_NAMESPACE,spreadMethod:DEFAULT_NAMESPACE,startOffset:DEFAULT_NAMESPACE,stdDeviation:DEFAULT_NAMESPACE,stemh:DEFAULT_NAMESPACE,stemv:DEFAULT_NAMESPACE,stitchTiles:DEFAULT_NAMESPACE,"stop-color":DEFAULT_NAMESPACE,"stop-opacity":DEFAULT_NAMESPACE,"strikethrough-position":DEFAULT_NAMESPACE,"strikethrough-thickness":DEFAULT_NAMESPACE,string:DEFAULT_NAMESPACE,stroke:DEFAULT_NAMESPACE,"stroke-dasharray":DEFAULT_NAMESPACE,"stroke-dashoffset":DEFAULT_NAMESPACE,"stroke-linecap":DEFAULT_NAMESPACE,"stroke-linejoin":DEFAULT_NAMESPACE,"stroke-miterlimit":DEFAULT_NAMESPACE,"stroke-opacity":DEFAULT_NAMESPACE,"stroke-width":DEFAULT_NAMESPACE,surfaceScale:DEFAULT_NAMESPACE,syncBehavior:DEFAULT_NAMESPACE,syncBehaviorDefault:DEFAULT_NAMESPACE,syncMaster:DEFAULT_NAMESPACE,syncTolerance:DEFAULT_NAMESPACE,syncToleranceDefault:DEFAULT_NAMESPACE,systemLanguage:DEFAULT_NAMESPACE,tableValues:DEFAULT_NAMESPACE,target:DEFAULT_NAMESPACE,targetX:DEFAULT_NAMESPACE,targetY:DEFAULT_NAMESPACE,"text-anchor":DEFAULT_NAMESPACE,"text-decoration":DEFAULT_NAMESPACE,"text-rendering":DEFAULT_NAMESPACE,textLength:DEFAULT_NAMESPACE,timelineBegin:DEFAULT_NAMESPACE,title:DEFAULT_NAMESPACE,to:DEFAULT_NAMESPACE,transform:DEFAULT_NAMESPACE,transformBehavior:DEFAULT_NAMESPACE,
type:DEFAULT_NAMESPACE,"typeof":DEFAULT_NAMESPACE,u1:DEFAULT_NAMESPACE,u2:DEFAULT_NAMESPACE,"underline-position":DEFAULT_NAMESPACE,"underline-thickness":DEFAULT_NAMESPACE,unicode:DEFAULT_NAMESPACE,"unicode-bidi":DEFAULT_NAMESPACE,"unicode-range":DEFAULT_NAMESPACE,"units-per-em":DEFAULT_NAMESPACE,"v-alphabetic":DEFAULT_NAMESPACE,"v-hanging":DEFAULT_NAMESPACE,"v-ideographic":DEFAULT_NAMESPACE,"v-mathematical":DEFAULT_NAMESPACE,values:DEFAULT_NAMESPACE,version:DEFAULT_NAMESPACE,"vert-adv-y":DEFAULT_NAMESPACE,"vert-origin-x":DEFAULT_NAMESPACE,"vert-origin-y":DEFAULT_NAMESPACE,viewBox:DEFAULT_NAMESPACE,viewTarget:DEFAULT_NAMESPACE,visibility:DEFAULT_NAMESPACE,width:DEFAULT_NAMESPACE,widths:DEFAULT_NAMESPACE,"word-spacing":DEFAULT_NAMESPACE,"writing-mode":DEFAULT_NAMESPACE,x:DEFAULT_NAMESPACE,"x-height":DEFAULT_NAMESPACE,x1:DEFAULT_NAMESPACE,x2:DEFAULT_NAMESPACE,xChannelSelector:DEFAULT_NAMESPACE,"xlink:actuate":XLINK_NAMESPACE,"xlink:arcrole":XLINK_NAMESPACE,"xlink:href":XLINK_NAMESPACE,"xlink:role":XLINK_NAMESPACE,"xlink:show":XLINK_NAMESPACE,"xlink:title":XLINK_NAMESPACE,"xlink:type":XLINK_NAMESPACE,"xml:base":XML_NAMESPACE,"xml:id":XML_NAMESPACE,"xml:lang":XML_NAMESPACE,"xml:space":XML_NAMESPACE,y:DEFAULT_NAMESPACE,y1:DEFAULT_NAMESPACE,y2:DEFAULT_NAMESPACE,yChannelSelector:DEFAULT_NAMESPACE,z:DEFAULT_NAMESPACE,zoomAndPan:DEFAULT_NAMESPACE};module.exports=SVGAttributeNamespace;function SVGAttributeNamespace(value){if(SVG_PROPERTIES.hasOwnProperty(value)){return SVG_PROPERTIES[value]}}},{}],132:[function(require,module,exports){"use strict";var isArray=require("x-is-array");var h=require("./index.js");var SVGAttributeNamespace=require("./svg-attribute-namespace");var attributeHook=require("./hooks/attribute-hook");var SVG_NAMESPACE="http://www.w3.org/2000/svg";module.exports=svg;function svg(tagName,properties,children){if(!children&&isChildren(properties)){children=properties;properties={}}properties=properties||{};properties.namespace=SVG_NAMESPACE;var attributes=properties.attributes||(properties.attributes={});for(var key in properties){if(!properties.hasOwnProperty(key)){continue}var namespace=SVGAttributeNamespace(key);if(namespace===undefined){continue}var value=properties[key];if(typeof value!=="string"&&typeof value!=="number"&&typeof value!=="boolean"){continue}if(namespace!==null){properties[key]=attributeHook(namespace,value);continue}attributes[key]=value;properties[key]=undefined}return h(tagName,properties,children)}function isChildren(x){return typeof x==="string"||isArray(x)}},{"./hooks/attribute-hook":126,"./index.js":129,"./svg-attribute-namespace":131,"x-is-array":118}],133:[function(require,module,exports){var isVNode=require("./is-vnode");var isVText=require("./is-vtext");var isWidget=require("./is-widget");var isThunk=require("./is-thunk");module.exports=handleThunk;function handleThunk(a,b){var renderedA=a;var renderedB=b;if(isThunk(b)){renderedB=renderThunk(b,a)}if(isThunk(a)){renderedA=renderThunk(a,null)}return{a:renderedA,b:renderedB}}function renderThunk(thunk,previous){var renderedThunk=thunk.vnode;if(!renderedThunk){renderedThunk=thunk.vnode=thunk.render(previous)}if(!(isVNode(renderedThunk)||isVText(renderedThunk)||isWidget(renderedThunk))){throw new Error("thunk did not return a valid node")}return renderedThunk}},{"./is-thunk":134,"./is-vnode":136,"./is-vtext":137,"./is-widget":138}],134:[function(require,module,exports){module.exports=isThunk;function isThunk(t){return t&&t.type==="Thunk"}},{}],135:[function(require,module,exports){module.exports=isHook;function isHook(hook){return hook&&(typeof hook.hook==="function"&&!hook.hasOwnProperty("hook")||typeof hook.unhook==="function"&&!hook.hasOwnProperty("unhook"))}},{}],136:[function(require,module,exports){var version=require("./version");module.exports=isVirtualNode;function isVirtualNode(x){return x&&x.type==="VirtualNode"&&x.version===version}},{"./version":139}],137:[function(require,module,exports){var version=require("./version");module.exports=isVirtualText;function isVirtualText(x){return x&&x.type==="VirtualText"&&x.version===version}},{"./version":139}],138:[function(require,module,exports){module.exports=isWidget;function isWidget(w){return w&&w.type==="Widget"}},{}],139:[function(require,module,exports){module.exports="2"},{}],140:[function(require,module,exports){var version=require("./version");var isVNode=require("./is-vnode");var isWidget=require("./is-widget");var isThunk=require("./is-thunk");var isVHook=require("./is-vhook");module.exports=VirtualNode;var noProperties={};var noChildren=[];function VirtualNode(tagName,properties,children,key,namespace){this.tagName=tagName;this.properties=properties||noProperties;this.children=children||noChildren;this.key=key!=null?String(key):undefined;this.namespace=typeof namespace==="string"?namespace:null;var count=children&&children.length||0;var descendants=0;var hasWidgets=false;var hasThunks=false;var descendantHooks=false;var hooks;for(var propName in properties){if(properties.hasOwnProperty(propName)){var property=properties[propName];if(isVHook(property)&&property.unhook){if(!hooks){hooks={}}hooks[propName]=property}}}for(var i=0;i<count;i++){var child=children[i];if(isVNode(child)){descendants+=child.count||0;if(!hasWidgets&&child.hasWidgets){hasWidgets=true}if(!hasThunks&&child.hasThunks){hasThunks=true}if(!descendantHooks&&(child.hooks||child.descendantHooks)){descendantHooks=true}}else if(!hasWidgets&&isWidget(child)){if(typeof child.destroy==="function"){hasWidgets=true}}else if(!hasThunks&&isThunk(child)){hasThunks=true}}this.count=count+descendants;this.hasWidgets=hasWidgets;this.hasThunks=hasThunks;this.hooks=hooks;this.descendantHooks=descendantHooks}VirtualNode.prototype.version=version;VirtualNode.prototype.type="VirtualNode"},{"./is-thunk":134,"./is-vhook":135,"./is-vnode":136,"./is-widget":138,"./version":139}],141:[function(require,module,exports){var version=require("./version");VirtualPatch.NONE=0;VirtualPatch.VTEXT=1;VirtualPatch.VNODE=2;VirtualPatch.WIDGET=3;VirtualPatch.PROPS=4;VirtualPatch.ORDER=5;VirtualPatch.INSERT=6;VirtualPatch.REMOVE=7;VirtualPatch.THUNK=8;module.exports=VirtualPatch;function VirtualPatch(type,vNode,patch){this.type=Number(type);this.vNode=vNode;this.patch=patch}VirtualPatch.prototype.version=version;VirtualPatch.prototype.type="VirtualPatch"},{"./version":139}],142:[function(require,module,exports){var version=require("./version");module.exports=VirtualText;function VirtualText(text){this.text=String(text)}VirtualText.prototype.version=version;VirtualText.prototype.type="VirtualText"},{"./version":139}],143:[function(require,module,exports){var isObject=require("is-object");var isHook=require("../vnode/is-vhook");module.exports=diffProps;function diffProps(a,b){var diff;for(var aKey in a){if(!(aKey in b)){diff=diff||{};diff[aKey]=undefined}var aValue=a[aKey];var bValue=b[aKey];if(aValue===bValue){continue}else if(isObject(aValue)&&isObject(bValue)){if(getPrototype(bValue)!==getPrototype(aValue)){diff=diff||{};diff[aKey]=bValue}else if(isHook(bValue)){diff=diff||{};diff[aKey]=bValue}else{var objectDiff=diffProps(aValue,bValue);if(objectDiff){diff=diff||{};diff[aKey]=objectDiff}}}else{diff=diff||{};diff[aKey]=bValue}}for(var bKey in b){if(!(bKey in a)){diff=diff||{};diff[bKey]=b[bKey]}}return diff}function getPrototype(value){if(Object.getPrototypeOf){return Object.getPrototypeOf(value)}else if(value.__proto__){return value.__proto__}else if(value.constructor){return value.constructor.prototype}}},{"../vnode/is-vhook":135,"is-object":117}],144:[function(require,module,exports){var isArray=require("x-is-array");var VPatch=require("../vnode/vpatch");var isVNode=require("../vnode/is-vnode");var isVText=require("../vnode/is-vtext");var isWidget=require("../vnode/is-widget");var isThunk=require("../vnode/is-thunk");var handleThunk=require("../vnode/handle-thunk");var diffProps=require("./diff-props");module.exports=diff;function diff(a,b){var patch={a:a};walk(a,b,patch,0);return patch}function walk(a,b,patch,index){if(a===b){return}var apply=patch[index];var applyClear=false;if(isThunk(a)||isThunk(b)){thunks(a,b,patch,index)}else if(b==null){if(!isWidget(a)){clearState(a,patch,index);apply=patch[index]}apply=appendPatch(apply,new VPatch(VPatch.REMOVE,a,b))}else if(isVNode(b)){if(isVNode(a)){if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var propsPatch=diffProps(a.properties,b.properties);if(propsPatch){apply=appendPatch(apply,new VPatch(VPatch.PROPS,a,propsPatch))}apply=diffChildren(a,b,patch,apply,index)}else{apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b));applyClear=true}}else{apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b));applyClear=true}}else if(isVText(b)){if(!isVText(a)){apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b));applyClear=true}else if(a.text!==b.text){apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b))}}else if(isWidget(b)){if(!isWidget(a)){applyClear=true}apply=appendPatch(apply,new VPatch(VPatch.WIDGET,a,b))}if(apply){patch[index]=apply}if(applyClear){clearState(a,patch,index)}}function diffChildren(a,b,patch,apply,index){var aChildren=a.children;var orderedSet=reorder(aChildren,b.children);var bChildren=orderedSet.children;var aLen=aChildren.length;var bLen=bChildren.length;var len=aLen>bLen?aLen:bLen;for(var i=0;i<len;i++){var leftNode=aChildren[i];var rightNode=bChildren[i];index+=1;if(!leftNode){if(rightNode){apply=appendPatch(apply,new VPatch(VPatch.INSERT,null,rightNode))}}else{walk(leftNode,rightNode,patch,index)}if(isVNode(leftNode)&&leftNode.count){index+=leftNode.count}}if(orderedSet.moves){apply=appendPatch(apply,new VPatch(VPatch.ORDER,a,orderedSet.moves))}return apply}function clearState(vNode,patch,index){unhook(vNode,patch,index);destroyWidgets(vNode,patch,index)}function destroyWidgets(vNode,patch,index){if(isWidget(vNode)){if(typeof vNode.destroy==="function"){patch[index]=appendPatch(patch[index],new VPatch(VPatch.REMOVE,vNode,null))}}else if(isVNode(vNode)&&(vNode.hasWidgets||vNode.hasThunks)){var children=vNode.children;var len=children.length;for(var i=0;i<len;i++){var child=children[i];index+=1;destroyWidgets(child,patch,index);if(isVNode(child)&&child.count){index+=child.count}}}else if(isThunk(vNode)){thunks(vNode,null,patch,index)}}function thunks(a,b,patch,index){var nodes=handleThunk(a,b);var thunkPatch=diff(nodes.a,nodes.b);if(hasPatches(thunkPatch)){patch[index]=new VPatch(VPatch.THUNK,null,thunkPatch)}}function hasPatches(patch){for(var index in patch){if(index!=="a"){return true}}return false}function unhook(vNode,patch,index){if(isVNode(vNode)){if(vNode.hooks){patch[index]=appendPatch(patch[index],new VPatch(VPatch.PROPS,vNode,undefinedKeys(vNode.hooks)))}if(vNode.descendantHooks||vNode.hasThunks){var children=vNode.children;var len=children.length;for(var i=0;i<len;i++){var child=children[i];index+=1;unhook(child,patch,index);if(isVNode(child)&&child.count){index+=child.count}}}}else if(isThunk(vNode)){thunks(vNode,null,patch,index)}}function undefinedKeys(obj){var result={};for(var key in obj){result[key]=undefined}return result}function reorder(aChildren,bChildren){var bChildIndex=keyIndex(bChildren);var bKeys=bChildIndex.keys;var bFree=bChildIndex.free;if(bFree.length===bChildren.length){return{children:bChildren,moves:null}}var aChildIndex=keyIndex(aChildren);var aKeys=aChildIndex.keys;var aFree=aChildIndex.free;if(aFree.length===aChildren.length){return{children:bChildren,moves:null}}var newChildren=[];var freeIndex=0;var freeCount=bFree.length;var deletedItems=0;for(var i=0;i<aChildren.length;i++){var aItem=aChildren[i];var itemIndex;if(aItem.key){if(bKeys.hasOwnProperty(aItem.key)){itemIndex=bKeys[aItem.key];newChildren.push(bChildren[itemIndex])}else{itemIndex=i-deletedItems++;newChildren.push(null)}}else{if(freeIndex<freeCount){itemIndex=bFree[freeIndex++];newChildren.push(bChildren[itemIndex])}else{itemIndex=i-deletedItems++;newChildren.push(null)}}}var lastFreeIndex=freeIndex>=bFree.length?bChildren.length:bFree[freeIndex];for(var j=0;j<bChildren.length;j++){var newItem=bChildren[j];if(newItem.key){if(!aKeys.hasOwnProperty(newItem.key)){newChildren.push(newItem)}}else if(j>=lastFreeIndex){newChildren.push(newItem)}}var simulate=newChildren.slice();var simulateIndex=0;var removes=[];var inserts=[];var simulateItem;for(var k=0;k<bChildren.length;){var wantedItem=bChildren[k];simulateItem=simulate[simulateIndex];while(simulateItem===null&&simulate.length){removes.push(remove(simulate,simulateIndex,null));simulateItem=simulate[simulateIndex]}if(!simulateItem||simulateItem.key!==wantedItem.key){if(wantedItem.key){if(simulateItem&&simulateItem.key){if(bKeys[simulateItem.key]!==k+1){removes.push(remove(simulate,simulateIndex,simulateItem.key));simulateItem=simulate[simulateIndex];if(!simulateItem||simulateItem.key!==wantedItem.key){inserts.push({key:wantedItem.key,to:k})}else{simulateIndex++}}else{inserts.push({key:wantedItem.key,to:k})}}else{inserts.push({key:wantedItem.key,to:k})}k++}else if(simulateItem&&simulateItem.key){removes.push(remove(simulate,simulateIndex,simulateItem.key))}}else{simulateIndex++;k++}}while(simulateIndex<simulate.length){simulateItem=simulate[simulateIndex];removes.push(remove(simulate,simulateIndex,simulateItem&&simulateItem.key))}if(removes.length===deletedItems&&!inserts.length){return{children:newChildren,moves:null}}return{children:newChildren,moves:{removes:removes,inserts:inserts}}}function remove(arr,index,key){arr.splice(index,1);return{from:index,key:key}}function keyIndex(children){var keys={};var free=[];var length=children.length;for(var i=0;i<length;i++){var child=children[i];if(child.key){keys[child.key]=i}else{free.push(i)}}return{keys:keys,free:free}}function appendPatch(apply,patch){if(apply){if(isArray(apply)){apply.push(patch)}else{apply=[apply,patch]}return apply}else{return patch}}},{"../vnode/handle-thunk":133,"../vnode/is-thunk":134,"../vnode/is-vnode":136,"../vnode/is-vtext":137,"../vnode/is-widget":138,"../vnode/vpatch":141,"./diff-props":143,"x-is-array":118}],145:[function(require,module,exports){(function(){"use strict";if(self.fetch){return}function normalizeName(name){if(typeof name!=="string"){name=name.toString()}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=value.toString()}return value}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var list=this.map[name];if(!list){list=[];this.map[name]=list}list.push(value)};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){var values=this.map[normalizeName(name)];return values?values[0]:null};Headers.prototype.getAll=function(name){return this.map[normalizeName(name)]||[]};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=[normalizeValue(value)]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this.map).forEach(function(name){this.map[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;reader.readAsArrayBuffer(blob);return fileReaderReady(reader)}function readBlobAsText(blob){var reader=new FileReader;reader.readAsText(blob);return fileReaderReady(reader)}var support={blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self};function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(!body){this._bodyText=""}else{throw new Error("unsupported BodyInit type")}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)};this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}}}else{this.text=function(){var rejected=consumed(this);return rejected?rejected:Promise.resolve(this._bodyText)}}if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(url,options){options=options||{};this.url=url;this.credentials=options.credentials||"omit";this.headers=new Headers(options.headers);this.method=normalizeMethod(options.method||"GET");this.mode=options.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&options.body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(options.body)}function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function headers(xhr){var head=new Headers;var pairs=xhr.getAllResponseHeaders().trim().split("\n");pairs.forEach(function(header){var split=header.trim().split(":");var key=split.shift().trim();var value=split.join(":").trim();head.append(key,value)});return head}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this._initBody(bodyInit);this.type="default";this.url=null;this.status=options.status;this.ok=this.status>=200&&this.status<300;this.statusText=options.statusText;this.headers=options.headers instanceof Headers?options.headers:new Headers(options.headers);this.url=options.url||""}Body.call(Response.prototype);self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){var request;if(Request.prototype.isPrototypeOf(input)&&!init){request=input}else{request=new Request(input,init)}return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;function responseURL(){if("responseURL"in xhr){return xhr.responseURL}if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())){return xhr.getResponseHeader("X-Request-URL")}return}xhr.onload=function(){var status=xhr.status===1223?204:xhr.status;if(status<100||status>599){reject(new TypeError("Network request failed"));return}var options={status:status,statusText:xhr.statusText,headers:headers(xhr),url:responseURL()};var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})()},{}],146:[function(require,module,exports){module.exports=extend;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(source.hasOwnProperty(key)){target[key]=source[key]}}}return target}},{}]},{},[20])(20)});