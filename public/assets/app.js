(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.mai=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){module.exports={doc:require("./doc"),home:require("./home"),myClubs:require("./my-clubs"),clubProfile:require("./club-profile"),userProfile:require("./user-profile"),ranking:require("./ranking"),help:require("./help"),error:require("./error")}},{"./club-profile":2,"./doc":3,"./error":4,"./help":5,"./home":6,"./my-clubs":7,"./ranking":8,"./user-profile":9}],2:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.clubProfile(data);data.options=templates.common.options(data);return data}},{"../templates/index":55}],3:[function(require,module,exports){var templates=require("../templates/index");module.exports=builder;function builder(data){data.header=templates.common.header(data);data.footer=templates.common.footer(data);data.discover=templates.common.discover(data);data.login=templates.common.loginScreen(data);data.page=templates.main(data);if(data.client){return data.page}data.head=templates.head(data);data.body=templates.body(data);return templates.doc(data)}},{"../templates/index":55}],4:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.errorPage(data);return data}},{"../templates/index":55}],5:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.userManual(data);return data}},{"../templates/index":55}],6:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.home(data);return data}},{"../templates/index":55}],7:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.myClubs(data);return data}},{"../templates/index":55}],8:[function(require,module,exports){var templates=require("../templates/index");module.exports=partial;function partial(data){data.main=templates.page.ranking(data);return data}},{"../templates/index":55}],9:[function(require,module,exports){var templates=require("../templates/index");module.exports=renderer;function renderer(data){data.main=templates.page.userProfile(data);return data}},{"../templates/index":55}],10:[function(require,module,exports){module.exports={init:{global:"/global"},home:{featured_clubs:"/clubs/featured",featured_posts:"/posts/featured?skip=0&limit=20",recent_posts:"/posts/recent?skip=0&limit=20"},myClubs:{my_clubs:"/clubs/owner?skip=0&limit=20",joined_clubs:"/clubs/member?skip=0&limit=20"},clubProfile:{club_profile:"/clubs/:slug/profile",club_posts:"/clubs/:slug/posts?skip=0&limit=20"},userProfile:{user_profile:"/users/:uid/profile",user_posts:"/users/:uid/posts?skip=0&limit=20"},ranking:{hot_clubs:"/clubs/hot?skip=0&limit=20",top_clubs:"/clubs/top?skip=0&limit=20",recent_clubs:"/clubs/recent?skip=0&limit=20"},help:{},featured_posts:{endpoint:"/posts/featured"},recent_posts:{endpoint:"/posts/recent"},my_clubs:{endpoint:"/clubs/owner"},joined_clubs:{endpoint:"/clubs/member"},club_posts:{endpoint:"/clubs/:slug/posts"},user_posts:{endpoint:"/users/:uid/posts"},hot_clubs:{endpoint:"/clubs/hot"},top_clubs:{endpoint:"/clubs/top"},recent_clubs:{endpoint:"/clubs/recent"},create_club:{endpoint:"/clubs"},manage_club:{endpoint:"/clubs/:slug"},favorite_post:{endpoint:"/posts/:pid/favorite"},club_membership:{endpoint:"/clubs/:slug/users"},init_post:{endpoint:"/clubs/:slug/posts"},create_post:{endpoint:"/clubs/:slug/posts/create"}}},{}],11:[function(require,module,exports){"use strict";var Service=require("./service");var Model=require("./model");var Renderer=require("./renderer");var router=require("./router");module.exports=App;function App(){if(!(this instanceof App)){return new App}this.service=new Service;this.model=new Model;this.renderer=new Renderer}App.prototype.init=function(){var self=this;return self.service.init().then(function(data){self.model.init(data);self.renderer.init({container:document.querySelector(".page"),production:self.model.get("production")})})};App.prototype.update=function(){var self=this;var model=self.model.get();if(model.error_status&&model.error_message){self.renderer.update(false,model);return Promise.resolve(1)}var route=router(model);if(!route){return Promise.resolve(2)}return self.service.sync(route).then(function(data){self.model.update(data);self.renderer.update(route.name,self.model.get());return 3})};App.prototype.refresh=function(){var self=this;var model=self.model.get();if(model.error_status&&model.error_message){self.renderer.update(false,model);return Promise.resolve(1)}var route=router(model);if(!route){return Promise.resolve(2)}self.renderer.update(route.name,self.model.get());return Promise.resolve(3)};App.prototype.read=function(path){var self=this;return self.model.get(path)};App.prototype.modify=function(path,data){var self=this;return self.model.set(path,data)};App.prototype.load=function(name,opts){var self=this;var route=router(self.model.get());if(!route){return Promise.resolve(null)}return self.service.fetch(name,opts.query,route.params).then(function(data){if(data.endpoint.ok&&Array.isArray(data.endpoint.data)){data.endpoint.data.forEach(function(item){self.model.append(name,item,opts.key)})}})};App.prototype.json=function(method,url,opts,params){var self=this;opts=opts||{};opts.method=opts.method||method||"GET";if(!opts.credentials){opts.credentials="same-origin"}if(opts.method!=="GET"){opts.body=opts.body||""}if(typeof opts.body==="string"){opts.headers=opts.headers||{};opts.headers["Content-Type"]="application/x-www-form-urlencoded";var csrf="csrf_token="+self.model.get(["current_user","csrf_token"]);if(!opts.body){opts.body=csrf}else{opts.body=csrf+"&"+opts.body}}return self.service.send(url,opts,params).then(function(res){try{return res.json()}catch(e){}return null}).then(function(json){if(!json){return{}}return json})}},{"./model":24,"./renderer":25,"./router":26,"./service":27}],12:[function(require,module,exports){"use strict";var win=window;module.exports=Benchmark;function Benchmark(){if(!(this instanceof Benchmark)){return new Benchmark}this.active=false;this.enable=function(){this.active=true;this._debug("benchmark enabled")};this.start=function(name,data){if(!this.active){return}this.first=this._now();this.last=this.first;this._debug(name+": 0ms",data)};this.incr=function(name,data){if(!this.active){return}name=name||"unknown";var current=this._now();this._debug(name+": +"+Math.round(current-this.last)+"ms, "+Math.round(current-this.first)+"ms",data);this.last=current};this.patchFilter=function(data){if(!this.active){return null}var output={};for(var p in data){if(data.hasOwnProperty(p)&&data[p]&&data[p].type!==4&&data[p].type!==8){output[p]=data[p]}}return output};this._debug=function(){var args=[];for(var i=0;i<arguments.length;i++){if(!arguments[i]){continue}args.push(arguments[i])}console.debug.apply(console,args)};this._now=function(){if(win.performance){return win.performance.now()}else{return win.Date.now()}};this.first=this._now();this.last=this.first}},{}],13:[function(require,module,exports){var doc=document;var emitter=require("../templates/emitter");var toggleScroll=require("./helpers/toggle-body-scroll");var menuEscape=require("./helpers/menu-escape");var createFavorite=require("./handlers/create-favorite");var deleteFavorite=require("./handlers/delete-favorite");var loadContent=require("./handlers/load-content");var getFormData=require("./handlers/get-form-data");var formResult=require("./handlers/form-result");var joinClub=require("./handlers/join-club");var leaveClub=require("./handlers/leave-club");module.exports=handlers;function handlers(app){emitter.on("page:menu:nav",function(){toggleScroll(false);menuEscape(emitter,{name:"page:menu:close",enable:true});app.modify(["ui","modal"],"nav");app.refresh()});emitter.on("page:menu:login",function(){toggleScroll(false);menuEscape(emitter,{name:"page:menu:close",enable:true});app.modify(["ui","modal"],"login");app.refresh()});emitter.on("page:menu:options",function(){toggleScroll(false);menuEscape(emitter,{name:"page:menu:close",enable:true});app.modify(["ui","modal"],"options");app.refresh()});emitter.on("page:menu:close",function(){toggleScroll(true);menuEscape(emitter,{name:"page:menu:close",enable:false});app.modify(["ui","modal"],false);app.refresh()});emitter.on("page:tab:change",function(data){app.modify(["ui",data.view],data.order);if(data.menu){emitter.emit("page:menu:close")}app.refresh()});emitter.on("page:load:featured-post",function(){loadContent(app,{name:"load-featured-posts",key:"pid",endpoint:"featured_posts"})});emitter.on("page:load:recent-post",function(){loadContent(app,{name:"load-recent-posts",key:"pid",endpoint:"recent_posts"})});emitter.on("page:load:club-posts",function(){loadContent(app,{name:"load-club-posts",key:"pid",endpoint:"club_posts"})});emitter.on("page:load:user-posts",function(){loadContent(app,{name:"load-user-posts",key:"pid",endpoint:"user_posts"})});emitter.on("page:load:my-clubs",function(){loadContent(app,{name:"load-my-clubs",key:"slug",endpoint:"my_clubs"})});emitter.on("page:load:joined-clubs",function(){loadContent(app,{name:"load-joined-clubs",key:"slug",endpoint:"joined_clubs"})});emitter.on("page:load:hot-clubs",function(){loadContent(app,{name:"load-hot-clubs",key:"slug",endpoint:"hot_clubs"})});emitter.on("page:load:top-clubs",function(){loadContent(app,{name:"load-top-clubs",key:"slug",endpoint:"top_clubs"})});emitter.on("page:load:recent-clubs",function(){loadContent(app,{name:"load-recent-clubs",key:"slug",endpoint:"recent_clubs"})});emitter.on("page:favorite:create",function(data){createFavorite(app,data);app.json("PUT","favorite_post",null,[data.id]).then(function(json){if(!json.ok){deleteFavorite(app,data)}})});emitter.on("page:favorite:remove",function(data){deleteFavorite(app,data);app.json("DELETE","favorite_post",null,[data.id]).then(function(json){if(!json.ok){createFavorite(app,data)}})});emitter.on("page:club:join",function(data){joinClub(app,data);app.json("PUT","club_membership",null,[data.slug]).then(function(json){if(!json.ok){leaveClub(app,data)}})});emitter.on("page:club:leave",function(data){leaveClub(app,data);emitter.emit("page:menu:close");app.json("DELETE","club_membership",null,[data.slug]).then(function(json){if(!json.ok){joinClub(app,data)}})});emitter.on("page:form:submit",function(data){var form=doc.getElementById(data.id);var body=getFormData(app,form);app.modify(["ui","form_loading"],true);app.refresh();app.json(data.method,data.route,{body:body},data.params).then(function(json){app.modify(["ui","form_loading"],false);formResult(app,json)})})}},{"../templates/emitter":51,"./handlers/create-favorite":14,"./handlers/delete-favorite":15,"./handlers/form-result":16,"./handlers/get-form-data":17,"./handlers/join-club":18,"./handlers/leave-club":19,"./handlers/load-content":20,"./helpers/menu-escape":21,"./helpers/toggle-body-scroll":22}],14:[function(require,module,exports){module.exports=function createFavorite(app,data){var fav_point_path=[data.view,data.order,"fav_point"];var fav_point=app.read(fav_point_path)||0;app.modify(fav_point_path,fav_point+1);app.modify([data.view,data.order,"current_user_fav"],true);app.refresh()}},{}],15:[function(require,module,exports){module.exports=function deleteFavorite(app,data){var fav_point_path=[data.view,data.order,"fav_point"];var fav_point=app.read(fav_point_path)||0;app.modify(fav_point_path,fav_point-1);app.modify([data.view,data.order,"current_user_fav"],false);app.refresh()}},{}],16:[function(require,module,exports){module.exports=function formResult(app,json){var step=app.read(["ui","form_step"])||0;if(!json.ok){app.modify(["ui","form_error"],json.message||"");app.modify(["ui","field_error"],json.data||{});app.modify(["ui","form_data"],null);app.modify(["ui","form_step"],step);app.refresh();return}app.modify(["ui","form_error"],"");app.modify(["ui","field_error"],{});app.modify(["ui","form_data"],json.data||{});app.modify(["ui","form_step"],step+1);app.refresh()}},{}],17:[function(require,module,exports){var serialize=require("form-serialize");module.exports=function getFormData(app,form){var body_raw=serialize(form,{hash:true});var body_str=serialize(form);app.modify(["ui","field_data"],body_raw||{});return body_str}},{"form-serialize":85}],18:[function(require,module,exports){module.exports=function joinClub(app,data){var profile_path="club_profile";var profile=app.read(profile_path)||{};app.modify([profile_path,"members"],profile.members+1);app.modify([profile_path,"points"],profile.points+2);app.modify([profile_path,"current_user_member"],true);app.refresh()}},{}],19:[function(require,module,exports){module.exports=function leaveClub(app,data){var profile_path="club_profile";var profile=app.read(profile_path)||{};app.modify([profile_path,"members"],profile.members-1);app.modify([profile_path,"points"],profile.points-2);app.modify([profile_path,"current_user_member"],false);app.refresh()}},{}],20:[function(require,module,exports){module.exports=function loadContent(app,opts){var count=app.read(["ui",opts.name])||0;var limit=20;var skip=count+limit;app.modify(["ui",opts.name],skip);app.refresh();app.load(opts.endpoint,{query:{skip:skip,limit:limit},key:opts.key})}},{}],21:[function(require,module,exports){"use strict";var doc=document;module.exports=MenuEscape;function MenuEscape(emitter,opts){if(!(this instanceof MenuEscape)){return new MenuEscape(emitter,opts)}this.emitter=emitter;this.opts=opts||{};this.idle=true;if(this.opts.enable){doc.addEventListener("keydown",this.closeMenu.bind(this))}else{doc.removeEventListener("keydown",this.closeMenu.bind(this))}}MenuEscape.prototype.closeMenu=function(ev){if(!this.idle){return}if(ev.keyCode!==27){return}this.idle=false;var self=this;setTimeout(function(){self.emitter.emit(self.opts.name,self.opts.data)},100)}},{}],22:[function(require,module,exports){"use strict";var keys=[37,38,39,40,32,33,34,35,36];var win=window;var doc=document;module.exports=toggleScroll;function toggleScroll(flag){if(flag){enableScroll()}else{disableScroll()}}function disableScroll(){win.addEventListener("wheel",preventDefault);win.addEventListener("touchmove",preventDefault);doc.addEventListener("keydown",preventDefaultForScrollKeys)}function enableScroll(){win.removeEventListener("wheel",preventDefault);win.removeEventListener("touchmove",preventDefault);doc.removeEventListener("keydown",preventDefaultForScrollKeys)}function preventDefaultForScrollKeys(e){if(keys.indexOf(e.keyCode)>-1){preventDefault(e)}}function preventDefault(e){e=e||win.event;if(e.preventDefault){e.preventDefault()}}},{}],23:[function(require,module,exports){"use strict";require("lazysizes/plugins/respimg/ls.respimg.js");require("lazysizes/plugins/bgset/ls.bgset.js");require("lazysizes/plugins/progressive/ls.progressive.js");require("lazysizes");require("./vendor/svg4everybody");require("whatwg-fetch");require("native-promise-only");require("dom-delegator")();var enableFastClick=require("fastclick");var App=require("./app");var app=new App;var handlers=require("./handlers");handlers(app);var domready=require("domready");domready(init);function init(){enableFastClick(document.body);app.init().then(function(){return app.update()})}},{"./app":11,"./handlers":13,"./vendor/svg4everybody":28,"dom-delegator":72,domready:83,fastclick:84,lazysizes:87,"lazysizes/plugins/bgset/ls.bgset.js":88,"lazysizes/plugins/progressive/ls.progressive.js":89,"lazysizes/plugins/respimg/ls.respimg.js":90,"native-promise-only":91,"whatwg-fetch":133}],24:[function(require,module,exports){"use strict";var win=window;var doc=document;var I=require("icepick");var removeTrailingSlash=require("../helpers/remove-trailing-slash");var getVarType=require("../helpers/get-variable-type");module.exports=Model;function Model(){if(!(this instanceof Model)){return new Model}this.store=I.freeze({})}Model.prototype.init=function(data){this.set("client",true);this.set("production",data.global.data.production);this.set("locale",data.global.data.locale);this.set("version",data.global.data.version);this.set("base_url",data.global.data.base_url);this.set("current_path",removeTrailingSlash(win.location.pathname));this.set("current_url",win.location.href);this.set("ui",{});var error_status=doc.head.querySelector('meta[name="mai:error"]');if(error_status){var error=error_status.content.split("_");this.set("error_status",error[0]);this.set("error_message",error[1])}if(!data.global.data.current_user){return}this.set("current_user",data.global.data.current_user);var crsf_meta=doc.head.querySelector('meta[name="mai:token"]');if(crsf_meta){this.set(["current_user","csrf_token"],crsf_meta.content)}};Model.prototype.update=function(data){for(var prop in data){if(!data.hasOwnProperty(prop)){continue}if(!data[prop].ok){continue}this.set(prop,data[prop].data)}};Model.prototype.set=function(path,data){if(getVarType(path)==="String"){this.store=I.assoc(this.store,path,data);return this.store}else if(getVarType(path)==="Array"){this.store=I.assocIn(this.store,path,data);return this.store}throw new Error("set: invalid path")};Model.prototype.get=function(path){if(!path){return this.store}else if(getVarType(path)==="String"){return this.store[path]}else if(getVarType(path)==="Array"){return I.getIn(this.store,path)}throw new Error("get: invalid path")};Model.prototype.append=function(path,data,key){var arr;if(getVarType(path)==="String"){arr=this.store[path]}else if(getVarType(path)==="Array"){arr=I.getIn(this.store,path)}else{throw new Error("append: invalid path")}if(!Array.isArray(arr)){throw new Error("append: data on path is not an array")}var pos;if(key){arr.some(function(item,i){if(item.hasOwnProperty(key)&&data.hasOwnProperty(key)&&item[key]===data[key]){pos=i;return true}return false})}if(pos===undefined){this.set(path,I.push(arr,I.freeze(data)))}else{var new_path=typeof path==="string"?[path,pos]:path.concat(pos);this.set(new_path,data)}}},{"../helpers/get-variable-type":30,"../helpers/remove-trailing-slash":31,icepick:86}],25:[function(require,module,exports){"use strict";var doc=document;var builders=require("../builders/builders");var bench=require("./benchmark")();var extend=require("xtend");var diff=require("virtual-dom/diff");var patch=require("virtual-dom/patch");var parser=require("vdom-parser");module.exports=Renderer;function Renderer(){if(!(this instanceof Renderer)){return new Renderer}this.vdomCache=null;this.nodeCache=null;this.modelCache=null}Renderer.prototype.init=function(opts){if(this.vdomCache&&this.nodeCache){return}opts=opts||{};var container=opts.container||doc.body;if(!opts.production){bench.enable()}bench.start("init");this.vdomCache=parser(container,"id");bench.incr("parser done");this.nodeCache=container};Renderer.prototype.update=function(name,model){if(this.modelCache===model){return}this.modelCache=model;bench.start("update");var data=extend({},model);var vdom;try{bench.incr("copy done");if(!name){data=builders.error(data)}else{data=builders[name](data)}vdom=builders.doc(data)}catch(err){bench.incr("vdom error",err)}if(!vdom){return}bench.incr("vdom done");var patches=diff(this.vdomCache,vdom);bench.incr("diff done",bench.patchFilter(patches));this.nodeCache=patch(this.nodeCache,patches);bench.incr("patch done");this.vdomCache=vdom}},{"../builders/builders":1,"./benchmark":12,"vdom-parser":95,"virtual-dom/diff":98,"virtual-dom/patch":107,xtend:134}],26:[function(require,module,exports){var createRoute=require("../helpers/create-named-route");var routes={home:createRoute("^/$"),help:createRoute("^/help$"),myClubs:createRoute("^/my-clubs$"),clubProfile:createRoute("^/c/:slug$"),userProfile:createRoute("^/u/:uid$"),ranking:createRoute("^/ranking$")};var isEmptyValue=function(value){return!!value};module.exports=router;function router(data){var path=data.current_path;var result;for(var route in routes){if(!routes.hasOwnProperty(route)){continue}if(!routes[route].test(path)){continue}var matches=routes[route].exec(path);var params=[];for(var prop in matches){if(!matches.hasOwnProperty(prop)){continue}if(prop>0&&prop<5){params[prop]=matches[prop]}}params=params.filter(isEmptyValue);result={name:route,params:params};break}return result}},{"../helpers/create-named-route":29}],27:[function(require,module,exports){"use strict";var prefix="/api/v1";var api=require("./api");var re=/:[^\s\$\/]+/g;module.exports=Service;function Service(){if(!(this instanceof Service)){return new Service}}Service.prototype.init=function(){return this.fetch("init")};Service.prototype.sync=function(route){return this.fetch(route.name,null,route.params)};Service.prototype.send=function(url,opts,params){opts=opts||{};if(url.indexOf("/")!==0){url=api[url].endpoint;if(params&&params.length>0){var count=0;var replaceFunc=function(){return params[count++]};url=url.replace(re,replaceFunc)}}return fetch(prefix+url,opts)};Service.prototype.fetch=function(name,opts,params){opts=opts||{};params=params||[];var endpoint=api[name];var results={};var fetches=[];var queries="";for(var query in opts){if(!opts.hasOwnProperty(query)){continue}if(!queries){queries+="?"+query+"="+opts[query]}else{queries+="&"+query+"="+opts[query]}}var count=0;var replaceFunc=function(){return params[count++]};for(var prop in endpoint){if(!endpoint.hasOwnProperty(prop)){continue}count=0;var path=endpoint[prop];if(params.length>0){path=path.replace(re,replaceFunc)}var f=fetch(prefix+path+queries,{credentials:"same-origin"});deferFetch(fetches,f,results,prop)}return Promise.all(fetches).then(function(){return results})};function deferFetch(ps,p,results,name){results[name]=null;ps.push(p.then(function(res){try{return res.json()}catch(e){}return null}).then(function(json){if(!json){results[name]=null;return}results[name]=json}))}},{"./api":10}],28:[function(require,module,exports){(function(global){var __browserify_shim_require__=require;(function browserifyShim(module,define,require){(function(document,uses,requestAnimationFrame,CACHE,IE9TO11){function embed(svg,g){if(g){var viewBox=g.getAttribute("viewBox"),fragment=document.createDocumentFragment(),clone=g.cloneNode(true);if(viewBox){svg.setAttribute("viewBox",viewBox)}while(clone.childNodes.length){fragment.appendChild(clone.childNodes[0])}svg.appendChild(fragment)}}function onload(){var xhr=this,x=document.createElement("x"),s=xhr.s;x.innerHTML=xhr.responseText;xhr.onload=function(){s.splice(0).map(function(array){embed(array[0],x.querySelector("#"+array[1].replace(/(\W)/g,"\\$1")))})};xhr.onload()}function onframe(){var use;while(use=uses[0]){var svg=use.parentNode,url=use.getAttribute("xlink:href").split("#"),url_root=url[0],url_hash=url[1];svg.removeChild(use);if(url_root.length){var xhr=CACHE[url_root]=CACHE[url_root]||new XMLHttpRequest;if(!xhr.s){xhr.s=[];xhr.open("GET",url_root);xhr.onload=onload;xhr.send()}xhr.s.push([svg,url_hash]);if(xhr.readyState===4){xhr.onload()}}else{embed(svg,document.getElementById(url_hash))}}requestAnimationFrame(onframe)}if(IE9TO11){onframe()}})(document,document.getElementsByTagName("use"),window.requestAnimationFrame||window.setTimeout,{},/Trident\/[567]\b/.test(navigator.userAgent)||(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]<537)}).call(global,module,undefined,undefined)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],29:[function(require,module,exports){module.exports=helper;function helper(route){return new RegExp(route.replace(/:[^\s\$\/]+/g,"([\\w-]+)"))}},{}],30:[function(require,module,exports){module.exports=helper;function helper(input){return Object.prototype.toString.call(input).slice(8,-1)}},{}],31:[function(require,module,exports){module.exports=helper;function helper(path){if(path==="/"){return path}return path.replace(/\/+$/,"")}},{}],32:[function(require,module,exports){module.exports={}},{}],33:[function(require,module,exports){module.exports=Translation;function Translation(i18n,opts){if(!i18n){throw new Error("translator missing")}opts=opts||{};this.i18n=i18n;this.prefix=opts.locale||"zh-cn"}Translation.prototype.locale=function(name){if(!name){return this.prefix}this.prefix=name;return this.prefix};Translation.prototype.t=function(name,data){return this.i18n.t(this.prefix+"."+name,data)}},{}],34:[function(require,module,exports){module.exports={common:{title:"å…¥éƒ¨ä¹ˆ ðŸŒ ã€Œä¸Žä¸–ç•Œä¸€åŒå…¥è¿·ã€","app-title":"å…¥éƒ¨ä¹ˆ",description:"ã€Œå…¥éƒ¨ä¹ˆã€æ˜¯ä¸€ä¸ªå°Šé‡åŽŸåˆ›ä¸Žå†…å®¹å‡ºå¤„çš„çˆ±å¥½è€…ç¤¾åŒºï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥è½»æ¾åˆ›å»ºä¸ŽåŠ å…¥æ„Ÿå…´è¶£çš„ç¤¾å›¢ï¼Œæ”¶è—ä¸Žåˆ†äº«ä»Žå¤§ä¼—ç§‘æŠ€åˆ°å°ä¼—æ–‡åŒ–çš„ç²¾å½©å†…å®¹ã€‚ä¸Žä¸–ç•Œå„åœ°çš„äººä»¬ä¸€é“ï¼Œå‘æŽ˜ä¸ä¸ºäººçŸ¥çš„ä¿¡æ¯ï¼Œå…±äº«å±žäºŽä½ çš„æ¶ˆè´¹æ–‡åŒ–ã€‚",domain:"rubu.me",tagline:"ã€Œä¸Žä¸–ç•Œä¸€åŒå…¥è¿·ã€","tagline-alt":"ã€Œå…¥éƒ¨ä¹ˆï¼Ÿä¸Žæœ‹å‹ä¸€èµ·æŽ¢ç´¢ã€"},menu:{nav:{home:"é¦–é¡µ",club:"æˆ‘çš„ç¤¾å›¢",ranking:"æŽ’è¡Œæ¦œ",help:"ä½¿ç”¨æŒ‡å—",discover:"å¯¼èˆª",login:"ç™»å½•","login-alt":"åŠ å…¥æˆ‘ä»¬",options:"é€‰é¡¹",join:"åŠ å…¥"},login:{twitter:"Twitterè´¦å·",github:"Githubè´¦å·",weibo:"æ–°æµªå¾®åšè´¦å·"},footer:{copyright:"Â© MaiHQ",contact:"è”ç³»æˆ‘ä»¬",privacy:"éšç§æ”¿ç­–",terms:"æœåŠ¡æ¡æ¬¾"},options:{twitter:"æŽ¨ç‰¹åˆ†äº«",weibo:"å¾®åšåˆ†äº«",manage:"ç®¡ç†ç¤¾å›¢",stats:"ç¤¾å›¢æ•°æ®",leave:"é€€å‡ºç¤¾å›¢"}},section:{titles:{"featured-clubs":"æŽ¨èç¤¾å›¢","featured-posts":"æŽ¨èåˆ†äº«","my-clubs":"æˆ‘åˆ›å»ºçš„ç¤¾å›¢","joined-clubs":"æˆ‘åŠ å…¥çš„ç¤¾å›¢","recent-posts":"è¿‘æœŸåˆ†äº«","top-clubs":"ä¸»æµç¤¾å›¢","hot-clubs":"çƒ­é—¨ç¤¾å›¢","recent-clubs":"æ–°äººç¤¾å›¢","create-club":"åˆ›å»ºæ–°ç¤¾å›¢","create-post":"åˆ›å»ºæ–°åˆ†äº«","manage-club":"ç®¡ç†ç¤¾å›¢","club-stats":"ç¤¾å›¢æ•°æ®"},load:{"featured-posts":"æµè§ˆæ›´å¤šç²¾å½©å†…å®¹","my-clubs":"æ›´å¤šæˆ‘åˆ›å»ºçš„ç¤¾å›¢","joined-clubs":"æ›´å¤šæˆ‘åŠ å…¥çš„ç¤¾å›¢","club-posts":"æ›´å¤šç¤¾å›¢åˆ†äº«","user-posts":"æ›´å¤šç”¨æˆ·åˆ†äº«","hot-clubs":"æ›´å¤šçƒ­é—¨ç¤¾å›¢","top-clubs":"æ›´å¤šä¸»æµç¤¾å›¢","recent-clubs":"æ›´å¤šæ–°äººç¤¾å›¢","recent-posts":"æ›´å¤šè¿‘æœŸåˆ†äº«","eof-1":"æŸ¥çœ‹å…¶ä»–æœ‰è¶£ç¤¾å›¢","eof-2":"åˆ°å¤´å•¦ ðŸ˜‚"}},form:{label:{"create-club-title":"ç¤¾å›¢åç§°","create-club-title-note":"å…è®¸2-16ä¸ªå­—ç¬¦","create-club-title-placeholder":"ä¾‹å¦‚ï¼šLove Live","create-club-slug":"ç¤¾å›¢è·¯å¾„","create-club-slug-note":"å…è®¸2-16ä¸ªå­—ç¬¦ï¼Œä»…é™å­—æ¯ã€æ•°å­—å’Œè¿žå­—ç¬¦","create-club-slug-placeholder":"ä¾‹å¦‚ï¼šlove-live","manage-club-title":"ç¤¾å›¢åç§°","manage-club-title-note":"å…è®¸2-16ä¸ªå­—ç¬¦","manage-club-title-placeholder":"ä¾‹å¦‚ï¼šLove Live","manage-club-slug":"ç¤¾å›¢è·¯å¾„","manage-club-slug-note":"å…è®¸2-16ä¸ªå­—ç¬¦ï¼Œä»…é™å­—æ¯ã€æ•°å­—å’Œè¿žå­—ç¬¦","manage-club-slug-placeholder":"ä¾‹å¦‚ï¼šlove-live","manage-club-logo":"ç¤¾å›¢æ ‡å¿—","manage-club-logo-note":"æ”¯æŒ Flickr / Pixiv / dA ç­‰ç½‘å€","manage-club-logo-placeholder":"ä¾‹å¦‚ï¼šhttp://flic.kr/p/...","manage-club-intro":"ç¤¾å›¢å£å·","manage-club-intro-note":"å…è®¸2-32ä¸ªå­—ç¬¦","manage-club-intro-placeholder":"ä¾‹å¦‚ï¼šLLå¤§æ³•å¥½ï¼","create-post-link":"åˆ†äº«é“¾æŽ¥","create-post-link-note":"ä½ è¦åˆ†äº«å†…å®¹çš„ç½‘å€","create-post-link-placeholder":"ä¾‹å¦‚ï¼šhttp://bitinn.net/...","create-post-title":"è‡ªå®šä¹‰æ ‡é¢˜","create-post-title-note":"æ›¿æ¢é»˜è®¤çš„æ ‡é¢˜ã€‚å‡†ç¡®ã€æ¸…æ™°ã€æœ‰è¶£çš„æ ‡é¢˜ä¼šè®©æ›´å¤šäººæ³¨æ„åˆ°è¿™ç¯‡åˆ†äº«ã€‚","create-post-title-placeholder":"ä¾‹å¦‚ï¼šä¸€å¥è¯ä»‹ç»æ–‡ç« ","create-post-summary":"è‡ªå®šä¹‰ç®€ä»‹","create-post-summary-note":"è¿›ä¸€æ­¥è¯´æ˜Žåˆ†äº«çš„å†…å®¹ã€‚å†…å®¹å¯ä»¥æ˜¯å°ç»“æˆ–å¼•ç”¨ã€‚","create-post-summary-placeholder":"ä¾‹å¦‚ï¼šæ¦‚æ‹¬æ–‡ç« çš„ç²¾å½©ä¹‹å¤„"},button:{"create-club-submit":"åˆ›å»ºç¤¾å›¢","manage-club-submit":"æ›´æ–°ç¤¾å›¢","create-post-submit-1":"ä¸‹ä¸€æ­¥","create-post-submit-2":"ç¡®è®¤å‘å¸ƒ"},bookmarklet:{"share-to":"åˆ†äº«åˆ°",intro:"æƒ³è¦æ›´ç®€å•çš„åˆ†äº«æ–¹å¼ï¼Ÿå°†è¿™ä¸ªæŒ‰é’®æ‹‰åŠ¨åˆ°ä½ çš„ä¹¦ç­¾æ ã€‚"}},message:{common:{"create-club-success":"ç¤¾å›¢åˆ›å»ºæˆåŠŸï¼Œç‚¹å‡»è®¿é—®ï¼š","manage-club-success":"ç¤¾å›¢æ›´æ–°æˆåŠŸï¼Œç‚¹å‡»åˆ·æ–°ï¼š","create-post-preview":"é¡µé¢æŠ“å–æˆåŠŸï¼Œä»¥ä¸‹æ˜¯åˆ†äº«é¢„è§ˆã€‚","create-post-success":"åˆ†äº«å‘å¸ƒæˆåŠŸï¼Œç‚¹å‡»åˆ·æ–°ï¼š","action-done":"æ“ä½œå®Œæˆã€‚","image-preview":"çš„é¢„è§ˆå›¾ç‰‡"}},profile:{club:{owner:"åˆ›å§‹äºº","share-message":"æˆ‘åŠ å…¥äº†åä¸ºã€Œ%{title}ã€çš„ç¤¾å›¢ï¼Œç›®å‰æœ‰ %{members} ä½æˆå‘˜ï¼Œå®ƒçš„å£å·æ˜¯ã€Œ%{intro}ã€ã€‚ä½ ä¸æƒ³æ¥è®©å®ƒå˜å¾—æ›´çƒ­é—¹å—ï¼Ÿ"}},error:{"status-code":"Error %{code}","internal-service-down":"éžå¸¸æŠ±æ­‰ï¼Œæˆ‘ä»¬çš„å†…éƒ¨æœåŠ¡å‡ºäº†ç‚¹é—®é¢˜ã€‚å¦‚æžœä½ æ­£åœ¨æ‰§è¡Œæ“ä½œï¼Œè¯·é‡æ–°å°è¯•ã€‚","access-control":"ä½ æ²¡æœ‰æƒé™æ‰§è¡Œè¿™ä¸ªæ“ä½œ","login-required":"è¿™ä¸ªåŠŸèƒ½éœ€è¦ç™»å½•æ‰èƒ½ä½¿ç”¨ï¼ˆè§å³ä¸Šè§’ï¼‰","invalid-csrf-token":"ä½ æäº¤çš„å†…å®¹ç¼ºä¹éªŒè¯ç”¨çš„å®‰å…¨Tokenï¼Œè¯·é‡æ–°æäº¤ï¼ŒåŒæ—¶æ£€æŸ¥åŸŸåæ˜¯å¦ä¸º https://rubu.me/","form-input-invalid":"æäº¤å†…å®¹çš„æ ¼å¼ä¸ç¬¦åˆè¦æ±‚","insufficient-action-point":"çœ‹æ¥ä½ çš„ä¿¡ä»°å€¼ä¸è¶³æ‰§è¡ŒåŠ¨ä½œï¼Œéœ€è¦ %{required} ç‚¹ä¿¡ä»°ï¼Œä½ ç›®å‰åªæœ‰ %{current} ç‚¹","not-found-page":"ä½ è¦æ‰¾çš„é¡µé¢ä¸å­˜åœ¨","not-found-user":"ä½ è¦æ‰¾çš„å›¢å‘˜ä¸å­˜åœ¨","not-found-club":"ä½ è¦æ‰¾çš„ç¤¾å›¢ä¸å­˜åœ¨","not-found-post":"ä½ è¦æ‰¾çš„æ–‡ç« ä¸å­˜åœ¨","not-found-favorite":"ä½ è¦æ‰¾çš„æ”¶è—ä¸å­˜åœ¨","oauth-error-response":"è¯·æ±‚ %{provider} è®¿é—®æƒé™æ—¶å‘ç”Ÿé”™è¯¯ï¼Œä½ å…è®¸äº†æˆ‘ä»¬çš„è¯·æ±‚å—ï¼Ÿè¯·å†æ¬¡å°è¯•ç™»é™†ã€‚","oauth-error-profile":"è¯·æ±‚ %{provider} ç”¨æˆ·æ•°æ®æ—¶å‘ç”Ÿé”™è¯¯ï¼Œå¦‚é‡å¤å‡ºçŽ°ï¼Œè¯·è”ç³»æˆ‘ä»¬åé¦ˆé”™è¯¯ã€‚","oauth-invalid-profile":"è¯·æ±‚ %{provider} æ—¶å¾—åˆ°äº†ä¸æ­£ç¡®çš„ç”¨æˆ·æ•°æ®ï¼Œå¦‚é‡å¤å‡ºçŽ°ï¼Œè¯·è”ç³»æˆ‘ä»¬åé¦ˆé”™è¯¯ã€‚","club-already-exist":"åŒè·¯å¾„çš„ç¤¾å›¢å·²å­˜åœ¨ï¼Œè¯·é€‰æ‹©å¦ä¸€ä¸ªè·¯å¾„ã€‚","opengraph-error-response":"è¯·æ±‚è¿œç«¯é¡µé¢æ—¶å‡ºçŽ°äº†ç½‘ç»œé”™è¯¯ï¼Œå¯èƒ½ç†ç”±ï¼š(1) è¯¥é¡µé¢ä¸æ”¯æŒç«™å¤–å¼•ç”¨ (2) æš‚æ—¶çš„ç½‘ç»œé”™è¯¯","opengraph-invalid-profile":"è¯·æ±‚è¿œç«¯é¡µé¢æ—¶å¾—åˆ°äº†ä¸æ­£ç¡®æ•°æ®ï¼Œå¦‚é‡å¤å‡ºçŽ°ï¼Œè¯·è”ç³»æˆ‘ä»¬åé¦ˆé”™è¯¯ã€‚","membership-required-to-post":"ä½ éœ€è¦å…ˆåŠ å…¥ç¤¾å›¢æ‰èƒ½å‘å¸ƒåˆ†äº«ã€‚","owner-cannot-leave-club":"ç¤¾å›¢åˆ›å§‹äººä¸èƒ½ç¦»å¼€ç¤¾å›¢ã€‚","duplicate-action":"ä½ å·²ç»æ‰§è¡Œè¿‡è¿™ä¸ªæ“ä½œã€‚",feedback:"ä¸ºä»€ä¹ˆå‡ºçŽ°è¿™ä¸ªé”™è¯¯ï¼Ÿ","feedback-contact-1":"å¯è”ç³»å¼€å‘è€…","feedback-contact-1-name":"@bitinn","feedback-contact-2":"æˆ–æäº¤åé¦ˆè‡³","feedback-contact-2-name":"Github"},help:{"about-question":"ä½¿ç”¨å¸®åŠ©","about-answer-1":"åœ¨è¿™é‡Œä½ å¯ä»¥æ‰¾åˆ°æœ‰å…³ã€Œå…¥éƒ¨ä¹ˆã€çš„åŠŸèƒ½ä»‹ç»ä¸Žå¸¸è§é—®é¢˜å›žç­”ã€‚","about-answer-2":"æœªèƒ½æ‰¾åˆ°ä½ å…³å¿ƒçš„è§£ç­”ï¼Ÿ","about-us-question":"ã€Œå…¥éƒ¨ä¹ˆã€æ˜¯ä»€ä¹ˆï¼Ÿ","about-us-answer-1":"æˆ‘ä»¬æ˜¯ä¸€ä¸ªè¿žæŽ¥åˆ›ä½œè€…ä¸Žæ¶ˆè´¹è€…çš„ç¤¾åŒºã€‚","about-why-question":"ä¸ºä»€ä¹ˆåˆ›å»ºè¿™ä¸ªç¤¾åŒºï¼Ÿ","about-why-answer-1":"æˆ‘ä»¬å¸Œæœ›ç»™åˆ›ä½œè€…ä¸Žæ¶ˆè´¹è€…ä¸€ç‰‡å¤©åœ°ï¼Œäº¤æ¢æœ‰è¶£çš„åˆ›æ„ï¼Œå»ºç«‹å‹å¥½çš„å…³ç³»ã€‚","about-why-answer-2":"å¯¹äºŽåˆ›ä½œè€…è€Œè¨€ï¼šèŽ·å¾—æ›´å¤šè¯»è€…ã€è§‚ä¼—ã€ç”¨æˆ·ã€åŒè·¯äººçš„å»ºè®®åé¦ˆã€‚","about-why-answer-3":"å¯¹äºŽæ¶ˆè´¹è€…è€Œè¨€ï¼šä¸Žä½œè€…ã€å…¶ä»–çˆ±å¥½è€…ç›´æŽ¥æ²Ÿé€šï¼Œåˆ†äº«å¿ƒå¾—ä¸Žä½“éªŒã€‚","about-club-question":"ã€Œç¤¾å›¢ã€æ˜¯ä»€ä¹ˆï¼Ÿ","about-club-answer-1":"æˆ‘ä»¬è®¤ä¸ºã€Œç¤¾å›¢ã€æ˜¯æ–‡åŒ–çš„é›†åˆã€‚","about-club-answer-2":"æˆ‘ä»¬è®¤ä¸ºã€Œç¤¾å›¢ã€ä»£è¡¨å¼€æ”¾ã€äº’åŠ©ã€æ¿€åŠ±çš„ç²¾ç¥žã€‚","about-tagline-question":"ä»€ä¹ˆæ˜¯ã€Œäº§å“ä¿¡ä»°ã€å’Œã€Œæ¶ˆè´¹æ–‡åŒ–ã€ï¼Ÿ","about-tagline-answer-1":"ç®€å•å½’çº³ï¼Œã€Œäº§å“ä¿¡ä»°ã€æ˜¯äººä»¬å¯¹äº§å“çš„å–œçˆ±ï¼Œã€Œæ¶ˆè´¹æ–‡åŒ–ã€æ˜¯è¿™äº›å–œçˆ±çš„é›†åˆã€‚","about-tagline-answer-2":"åœ¨æˆ‘ä»¬çœ¼ä¸­ï¼Œã€Œäº§å“ã€æ˜¯å€¼å¾—æ¶ˆè´¹çš„æ–‡åŒ–ï¼›ç»„æˆæ–‡åŒ–çš„ï¼Œæ˜¯æ¯ä¸ªäº§å“å’Œå®ƒèƒŒåŽçš„åˆ›ä½œè€…ä¸Žæ¶ˆè´¹è€…ã€‚","club-guideline-question":"ç¤¾å›¢ç»„å»ºï¼Œä¾¿æ·æ•™ç¨‹","club-guideline-answer-1":"åˆ›å»ºä¸€ä¸ªç¤¾å›¢åªéœ€è¦å¡«ä¸¤ä¸ªè¾“å…¥æ¡†ï¼Œä½†è¦ç»´æŠ¤å¥½ä¸€ä¸ªçš„ç¤¾å›¢ï¼Œå´æœ‰ä¸å°‘æŠ€å·§ã€‚","club-guideline-naming-question":"ç¤¾å›¢ä¸»é¢˜é€‰æ‹©","club-guideline-naming-answer-1":"æˆ‘ä»¬é¼“åŠ±ï¼š","club-guideline-naming-answer-2":"(1) å›´ç»•äº§å“æˆç«‹ç¤¾å›¢ï¼Œä¾‹å¦‚ï¼šä¸€éƒ¨åŠ¨ç”»ã€ä¸€æœ¬å°è¯´ã€ä¸€å®¶ç½‘ç«™ã€ä¸€æ¬¾åº”ç”¨ã€‚","club-guideline-naming-answer-3":"(2) å›´ç»•æ–‡åŒ–æˆç«‹ç¤¾å›¢ï¼Œä¾‹å¦‚ï¼šä¸€æ´¾é£Žæ ¼ã€ä¸€ç§æ–‡ä½“ã€ä¸€å¥—è®¾è®¡ã€ä¸€ç±»æœåŠ¡ã€‚","club-guideline-naming-answer-4":"(3) é€‰æ‹©ä½ è‡ªèº«å‚ä¸Žæˆ–å¾ˆæ„Ÿå…´è¶£çš„å†…å®¹ä½œä¸ºä¸»é¢˜ã€‚","club-guideline-naming-answer-5":"æˆ‘ä»¬ä¸é¼“åŠ±ï¼š","club-guideline-naming-answer-6":"(1) å›´ç»•å›½å®¶ã€åœ°åŸŸã€å®—æ•™ã€å…šæ´¾ã€æ€§åˆ«ã€å¹´é¾„ç­‰ä¸»é¢˜ç»„ç»‡æˆç«‹ç¤¾å›¢ã€‚å®ƒä»¬ä¸ç¬¦åˆç¤¾å›¢çš„å¼€æ”¾ç²¾ç¥žã€‚","club-guideline-naming-answer-7":"(2) å›´ç»•äººèº«æ”»å‡»ã€è´Ÿé¢æƒ…ç»ªçš„ä¸»é¢˜æˆç«‹ç¤¾å›¢ï¼Œä¾‹å¦‚ï¼šæžœé»‘ã€FFFå›¢ã€‚å®ƒä»¬ä¸ç¬¦åˆç¤¾å›¢çš„æ¿€åŠ±ç²¾ç¥žã€‚","club-guideline-naming-answer-8":"(3) é€‰æ‹©ä½ ä¸äº†è§£çš„æµè¡Œè¯é¢˜ã€ä»¥ä»»ä½•å½¢å¼ä»£è¡¨äº§å“æˆ–ä½œè€…ï¼ˆé™¤éžä½ æ˜¯ä½œè€…ï¼‰ã€‚","club-guideline-naming-answer-9":"åˆ«å¿˜äº†ï¼Œç¤¾å›¢çš„æˆåŠŸï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºŽåˆ›å§‹äººçš„ç§¯æžæ€§å’Œä¸»é¢˜çš„ä¸“ä¸šæ€§ã€‚","club-guideline-operation-question":"ç¤¾å›¢è¿è¥å»ºè®®","club-guideline-operation-answer-1":"ç¡®å®šäº†åç§°ä¸Žè·¯å¾„ä¹‹åŽï¼Œä½ çš„ç¤¾å›¢å°±æ­£å¼å¼€å§‹è¿ä½œäº†ã€‚ä½†å¦‚ä½•è®©æ›´å¤šåŒè·¯äººã€çˆ±å¥½è€…åŠ å…¥ä½ ï¼Ÿ","club-guideline-operation-answer-2":"(1) äº²è‡ªå®£ä¼ ï¼šå°†ç¤¾å›¢åˆ†äº«è‡³ç¤¾äº¤ç½‘ç»œä¸Šï¼Œå¬å”¤æœ‹å‹ä¸ºä½ çš„ç¤¾å›¢å­˜äº¡åŠªåŠ›å§ï¼","club-guideline-operation-answer-3":"(2) ç‹¬ç‰¹å†…å®¹ï¼šä½ å¸Œæœ›ç¤¾å›¢çš„å¥½åè¿œæ‰¬ï¼Ÿé‚£åˆ†äº«ä¹ƒè‡³åˆ›ä½œç‹¬ç‰¹çš„å†…å®¹å¿…ä¸å¯å°‘ã€‚","club-guideline-operation-answer-4":"(3) äº’è”äº’åŠ¨ï¼šå¦‚ä½•åŸ¹å…»å‹å¥½çš„ç¤¾å›¢æ°”æ°›ï¼Ÿå…³æ³¨å¥½å†…å®¹çš„å‡ºå¤„ã€é¼“åŠ±å‚ä¸Žè€…çš„ååŠ©ã€‚","club-guideline-operation-answer-5":"å››å­—æ€»ç»“ï¼šèº«å…ˆå£«å’ã€‚ä»Žè¯´æœè‡ªå·±åŠ¨ä½œå¼€å§‹ï¼Œå·å¬æ›´å¤šäººå‚ä¸Žå§ï¼","club-guideline-content-question":"ç¤¾å›¢å†…å®¹é™åˆ¶","club-guideline-content-answer-1":"ä¸ºäº†ç»´æŠ¤ä¸€ä¸ªé€‚åˆæ™®é€šå¤§ä¼—è®¿é—®çš„ç¤¾åŒºï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨ç¤¾å›¢å†…å®¹ä¸Šåšä¸€å®šç¨‹åº¦çš„å®¡æŸ¥ä¸Žé™åˆ¶ã€‚å¦‚æžœä½ æœ‰ä»»ä½•ç–‘é—®æˆ–åé¦ˆï¼Œè¯·åˆ©ç”¨é¡¶éƒ¨çš„é€šä¿¡æ–¹å¼ä¸Žæˆ‘ä»¬è”ç³»ã€‚","club-guideline-content-answer-2":"(1) R18å†…å®¹ï¼šç”±äºŽç¼ºä¹å¹´é¾„è¿‡æ»¤ç³»ç»Ÿä¸Žå¯æ‰§è¡Œçš„æ³•å¾‹æ³•è§„ï¼Œæˆ‘ä»¬ä¸é¼“åŠ±å‘å¸ƒè¿™ç±»å†…å®¹ã€‚å®ƒä»¬ä¼šè¢«éšè—æˆ–åˆ é™¤ã€‚","club-guideline-content-answer-3":"(2) éžæ³•ä¸‹è½½ï¼šè¿™ç±»å†…å®¹ä¸Žæˆ‘ä»¬ç¤¾åŒºå°Šé‡åˆ›ä½œè€…çš„æ–‡åŒ–èƒŒé“è€Œé©°ã€‚å®ƒä»¬ä¼šè¢«åˆ é™¤ã€‚","club-guideline-content-answer-4":"(3) åžƒåœ¾å¹¿å‘Šï¼šä¸€å®šç¨‹åº¦çš„è‡ªæˆ‘å®£ä¼ æ˜¯å¯ä»¥æŽ¥å—çš„ï¼Œä½†å¹²æ‰°ä»–äººæ­£å¸¸è®¿é—®çš„åžƒåœ¾ä¿¡æ¯æˆ‘ä»¬è‚¯å®šä¼šåˆ é™¤ã€‚","club-guideline-content-answer-5":"(4) åé¢˜å†…å®¹ï¼šä¼˜ç§€çš„ç¤¾å›¢éƒ½æœ‰ä¸€å®šçš„ä¸»é¢˜ï¼Œè¿‡å¤šä¸Žç¤¾å›¢ä¸»é¢˜æ— å…³çš„å†…å®¹ï¼Œä¹Ÿå¯èƒ½è¢«æˆ‘ä»¬éšè—æˆ–åˆ é™¤ã€‚","club-guideline-content-answer-6":"æˆ‘ä»¬ä¼šåŸºäºŽç¤¾åŒºå®žé™…æƒ…å†µä¸Žç”¨æˆ·åé¦ˆï¼Œå¯¹æ­¤åˆ—è¡¨è¿›è¡Œè°ƒæ•´ã€‚å¦‚ä½ è®¤ä¸ºè‡ªå·±å°†è¦å‘å¸ƒçš„å†…å®¹å¯èƒ½è§¦ç¢°è¿™ç±»æ¡ä¾‹ï¼Œè¯·å…ˆä¸Žæˆ‘ä»¬è”ç³»ç¡®è®¤ã€‚","game-rule-question":"æ¸¸æˆç³»ç»Ÿï¼ŒåŸºæœ¬ä»‹ç»","game-rule-answer-1":"ç­‰ç­‰ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªç¤¾åŒºéœ€è¦æ¸¸æˆç³»ç»Ÿï¼Ÿ","game-rule-answer-2":"å› ä¸ºæˆ‘ä»¬æƒ³é¼“åŠ±æœ‰è¶£çš„åˆ†äº«ä¸Žç‹¬åˆ°çš„åˆ›æ„ï¼Œä¸ä»…ä»…æ˜¯è½¬å‘å’Œç‚¹èµžçš„æ•°é‡ã€‚","game-rule-user-question":"ç”¨æˆ·ä¿¡ä»°","game-rule-user-answer-1":"ã€Œä¿¡ä»°ã€æ˜¯ç”¨æˆ·æ“ä½œçš„æœ€åŸºæœ¬å•ä½ï¼Œä»Žåˆ›å»ºç¤¾å›¢åˆ°å‘å¸ƒå†…å®¹ï¼Œéƒ½éœ€è¦ä½¿ç”¨ä¿¡ä»°ã€‚","game-rule-user-answer-2":"ç”¨æˆ·æ¯æ—¥å¯ä½¿ç”¨çš„ä¿¡ä»°ç‚¹æ•°ç”±ã€Œä¿¡ä»°åŸºæ•°ã€å†³å®šã€‚ä¾‹å¦‚æ–°ç”¨æˆ·çš„åŸºæ•°ä¸º 15 ç‚¹ï¼Œå³æ¯å¤©æ¢å¤è‡³ 15 ç‚¹å¯ç”¨ä¿¡ä»°ã€‚","game-rule-user-answer-3":"ä»¥ä¸‹æ˜¯å¸¸è§æ“ä½œéœ€è¦è€—è´¹çš„ä¿¡ä»°ï¼š","game-rule-user-answer-4":"(1) åˆ›å»ºç¤¾å›¢ï¼š10 ç‚¹ã€‚åŒæ—¶æ¯æ—¥æçŒ® 2 ç‚¹ä¿¡ä»°ç»™åˆ›å»ºçš„ç¤¾å›¢ã€‚",
"game-rule-user-answer-5":"(2) åŠ å…¥ç¤¾å›¢ï¼š2 ç‚¹ã€‚åŒæ—¶æ¯æ—¥æçŒ® 1 ç‚¹ä¿¡ä»°ç»™åˆ›å»ºçš„ç¤¾å›¢ã€‚","game-rule-user-answer-6":"(3) åˆ†äº«å†…å®¹ï¼š1 ç‚¹","game-rule-user-answer-7":"(4) æŽ¨èå†…å®¹ï¼š1 ç‚¹","game-rule-user-answer-8":"(5) è¡¥å……å†…å®¹ï¼š0 ç‚¹","game-rule-user-answer-9":"ç›®å‰æ²¡æœ‰æ¢å¤ä¿¡ä»°çš„æ“ä½œã€‚ã€Œæˆå°±åŠŸèƒ½ã€æŽ¨å‡ºåŽï¼Œç”¨æˆ·å°†æœ‰åŠžæ³•æé«˜è‡ªå·±çš„ä¿¡ä»°åŸºæ•°ã€‚","game-rule-club-question":"ç¤¾å›¢çº§åˆ«ä¸Žç§¯åˆ†","game-rule-club-answer-1":"ã€Œçº§åˆ«ã€ç”±ç¤¾å›¢çš„å‚ä¸Žäººæ•°å†³å®šã€‚","game-rule-club-answer-2":"ã€Œç§¯åˆ†ã€ç”±ç¤¾å›¢çš„å‚ä¸Žåº¦ä¸Žå†…å®¹è´¨é‡å†³å®šï¼Œæ¥æºæ˜¯ç”¨æˆ·æ“ä½œæ¶ˆè€—çš„ä¿¡ä»°ã€‚","game-rule-club-answer-3":"æå‡ç¤¾å›¢çº§åˆ«ä¸Žç§¯åˆ†èƒ½è§£é”é™„åŠ åŠŸèƒ½ï¼›æ´»è·ƒçš„ç¤¾å›¢ä¼šåœ¨æŽ’è¡Œæ¦œä¸Šå‡ºçŽ°ã€‚","game-rule-club-answer-4":"ä¸Žæ­¤åŒæ—¶ï¼Œå¦‚æžœç¤¾å›¢ç»´æŒåœ¨ã€Œç»„å»ºä¸­ã€çº§åˆ«ï¼ˆä¸åˆ°5ä½æˆå‘˜ï¼‰è¶…è¿‡ä¸€å‘¨ï¼Œåˆ™ä¼šè¢«ç³»ç»Ÿå†»ç»“ä¹ƒè‡³åˆ é™¤ã€‚","game-rule-club-answer-5":"å€¼å¾—ä¸€æï¼Œçº§åˆ«ä¸Žç§¯åˆ†ä¸æ˜¯è¯„åˆ¤ç¤¾å›¢å¥½åçš„å®¢è§‚æ ‡å‡†ã€‚å› ä¸ºä¸åŒä¸»é¢˜æœ‰ä¸ä¸€æ ·çš„å—ä¼—é‡ä¸Žèµ„è®¯é‡ã€‚"}}},{}],35:[function(require,module,exports){var $=require("./vdom");module.exports=template;function template(data){var body=$("body",data.page);return body}},{"./vdom":66}],36:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var current_user=data.current_user;var version=data.version.asset;var ui=data.ui;var titleOpts={href:"#",className:"plain title",text:"menu.nav.discover",icon:"compass",version:version,eventName:"page:menu:close"};var titleButton=navButtonTemplate(titleOpts);var closeOpts={href:"#",className:"plain close",icon:"delete",version:version,eventName:"page:menu:close"};var closeButton=navButtonTemplate(closeOpts);var homeOpts={href:"/",className:"plain discover home",text:"menu.nav.home",icon:"home",version:version};var homeButton=navButtonTemplate(homeOpts);var clubOpts={href:"/my-clubs",className:"plain discover club",text:"menu.nav.club",icon:"share",version:version};var clubButton=navButtonTemplate(clubOpts);var profileOpts;if(current_user){profileOpts={href:"/u/"+current_user.uid,className:"plain discover login",value:current_user.login,image:current_user.avatar,size:"sq-tiny"}}else{profileOpts={href:"#",className:"plain discover login",text:"menu.nav.login",icon:"upload",version:version,eventName:"page:menu:login"}}var profileButton=navButtonTemplate(profileOpts);var rankingOpts={href:"/ranking",className:"plain discover ranking",text:"menu.nav.ranking",icon:"graph_rising",version:version};var rankingButton=navButtonTemplate(rankingOpts);var helpOpts={href:"/help",className:"plain discover help",text:"menu.nav.help",icon:"life_buoy",version:version};var helpButton=navButtonTemplate(helpOpts);var menuOpts={key:"discover",id:"discover",className:"page-menu"};if(ui.modal==="nav"){menuOpts.className+=" active"}var menu=$("div",menuOpts,$("div.wrapper",[titleButton,closeButton,$("ul.navigation",[$("li.item",homeButton),$("li.item",clubButton),$("li.item",profileButton),$("li.item",rankingButton),$("li.item",helpButton)])]));return menu}},{"../emitter":51,"../vdom":66,"./navigation-button":47}],37:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var prefix=data.prefix||"club";var clubOpts={id:prefix+"-"+data.slug,key:prefix+"-"+data.slug,className:"featured-club"};var imageOpts,clubImage;if(data.image){imageOpts={attributes:{"data-srcset":data.image+"&size=ls-small 320w, "+data.image+"&size=ls-medium 640w","data-sizes":"auto"},src:data.image+"&size=ls-small",alt:data.title+i18n.t("message.common.image-preview"),className:"lazyload"};clubImage=$("img",imageOpts)}var wrapperOpts={className:"wrapper"};var linkOpts={href:"/c/"+data.slug,title:data.intro};var clubTitle=$("span.title",data.title);var club=$("div",clubOpts,[$("div.image",clubImage),$("div",wrapperOpts,$("a.link",linkOpts,clubTitle))]);return club}},{"../i18n":53,"../vdom":66}],38:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var prefix=data.prefix||"post";var postOpts={id:prefix+"-"+data.pid,key:prefix+"-"+data.pid,className:"featured-post"};var image,user,club;if(data.image){image=$("img.thumbnail.lazyload",{attributes:{"data-srcset":data.image+"&size=sq-small 80w, "+data.image+"&size=sq-medium 100w, "+data.image+"&size=sq-large 200w","data-sizes":"auto"},src:data.image+"&size=sq-small",alt:data.title+i18n.t("message.common.image-preview")});image=$("div.image-column",image)}var link=$("p.link",$("a",{href:data.url,target:"_blank",title:data.doc_title},data.domain));var title=$("p.title",{title:data.summary||data.doc_summary},data.title||data.doc_title);if(data.user){user=navButtonTemplate({href:"/u/"+data.user,className:"plain internal",title:data.user_name,value:data.user_login,image:data.user_avatar,size:"sq-tiny",fallback:true})}if(data.club){club=navButtonTemplate({href:"/c/"+data.club,className:"plain internal",title:data.club_intro,value:data.club_name,image:data.club_image,size:"sq-tiny",fallback:true})}var favorite;if(data.pid!=="club-post-preview"){var favoriteOpts={id:data.pid,order:data.num,view:data.view};favorite=navButtonTemplate({href:"#",className:data.current_user_fav?"plain action active":"plain action",value:data.fav_point||"0",icon:"heart",version:data.version,eventName:data.current_user_fav?"page:favorite:remove":"page:favorite:create",eventData:favoriteOpts})}var post=$("article",postOpts,[$("div.wrapper",[image,$("div.text-column",[link,title])]),$("div.action-block",[user,club,favorite])]);return post}},{"../emitter":51,"../i18n":53,"../vdom":66,"./navigation-button":47}],39:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var feedbackOpts={className:data.name||""};var feedback=$("div",feedbackOpts,[$("h1.title",i18n.t("error.feedback")),$("p.subtitle",[$("span",i18n.t("error.feedback-contact-1")),$("a.m-link",{href:"https://twitter.com/bitinn",target:"_blank"},[$("span.m-text",i18n.t("error.feedback-contact-1-name"))]),$("span",i18n.t("error.feedback-contact-2")),$("a.m-link",{href:"https://github.com/maihq/feedbacks",target:"_blank"},[$("span.m-text",i18n.t("error.feedback-contact-2-name"))])])]);return feedback}},{"../i18n":53,"../vdom":66}],40:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var version=data.version.asset;var base_url=data.base_url;var current_user=data.current_user;var tagline=$("p.tagline",i18n.t("common.tagline-alt"));var loginButton;if(!current_user){loginButton=navButtonTemplate({href:"#",className:"rounded nav signup",text:"menu.nav.login-alt",icon:"flag",version:version,eventName:"page:menu:login"})}var copyrightLink=$("a",{href:"https://github.com/maihq",target:"_blank"},i18n.t("menu.footer.copyright"));var contactLink=$("a",{href:"https://twitter.com/rubume",target:"_blank"},i18n.t("menu.footer.contact"));var privacyLink=$("a",{href:"#"},i18n.t("menu.footer.privacy"));var termsLink=$("a",{href:"#"},i18n.t("menu.footer.terms"));var footerOpts={id:"footer",key:"footer",className:"page-footer lazyload",attributes:{"data-bgset":base_url+"/images/footer-320.jpg?"+version+" 320w, "+base_url+"/images/footer-640.jpg?"+version+" 640w, "+base_url+"/images/footer-960.jpg?"+version+" 960w, "+base_url+"/images/footer-1280.jpg?"+version+" 1280w","data-sizes":"auto"}};var footer=$("div",footerOpts,$("div.wrapper",[tagline,loginButton,$("ul.navigation",[$("li.item",copyrightLink),$("li.item",contactLink),$("li.item",privacyLink),$("li.item",termsLink)])]));return footer}},{"../emitter":51,"../i18n":53,"../vdom":66,"./navigation-button":47}],41:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var icon,text,buttonOpts;buttonOpts={id:"form-submit-button",key:"form-submit-button",type:"submit",className:"m-button rounded form-button"};if(data.icon&&data.version){var iconOpts={attributes:{"class":"m-icon"}};if(data.loading){iconOpts.attributes.class+=" m-hint"}icon=$("svg",iconOpts,[$("use",{"xlink:href":"/assets/icons.svg?"+data.version+"#"+data.icon})])}if(data.text!==undefined){text=$("span.m-text",i18n.t(data.text))}var button=$("button",buttonOpts,[icon,text]);return button}},{"../i18n":53,"../vdom":66}],42:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();module.exports=template;function template(data){var groupOpts={id:"form-"+data.id,key:"form-"+data.id,className:"form-group"};if(data.error){groupOpts.className+=" error"}var label="form.label."+data.id;var labelOpts={attributes:{"for":data.id},className:"form-label"};var inputOpts={placeholder:i18n.t(label+"-placeholder"),name:data.name,id:data.id,value:data.value,className:"form-field"};var group=$("div",groupOpts,[$("label",labelOpts,[$("span.main",i18n.t(label)),$("span.note",i18n.t(label+"-note"))]),$("input",inputOpts)]);return group}},{"../i18n":53,"../vdom":66}],43:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var current_path=data.current_path;var version=data.version.asset;var base_url=data.base_url;var client=data.client;var current_user=data.current_user;var club_profile=data.club_profile;var user_profile=data.user_profile;var ui=data.ui;var discoverButton=navButtonTemplate({href:"#",className:"rounded nav",text:"menu.nav.discover",icon:"compass",version:version,eventName:"page:menu:nav",client:client});var clubOpts={href:"/my-clubs",className:"rounded nav tablet",text:"menu.nav.club",icon:"share",version:version};if(current_path===clubOpts.href){clubOpts.className+=" active"}var clubButton=navButtonTemplate(clubOpts);var rankingOpts={href:"/ranking",className:"rounded nav tablet",text:"menu.nav.ranking",icon:"graph_rising",version:version};if(current_path===rankingOpts.href){rankingOpts.className+=" active"}var rankingButton=navButtonTemplate(rankingOpts);var helpOpts={href:"/help",className:"rounded nav tablet",text:"menu.nav.help",icon:"life_buoy",version:version};if(current_path===helpOpts.href){helpOpts.className+=" active"}var helpButton=navButtonTemplate(helpOpts);var userButton;if(!current_user){userButton=navButtonTemplate({href:"#",className:"rounded nav",text:"menu.nav.login",icon:"upload",version:version,eventName:"page:menu:login"})}else if(club_profile&&club_profile.current_user_member){userButton=navButtonTemplate({href:"#",className:"rounded nav",text:"menu.nav.options",icon:"setting_2",version:version,eventName:"page:menu:options"})}else if(club_profile&&!club_profile.current_user_member){userButton=navButtonTemplate({href:"#",className:"rounded nav",text:"menu.nav.join",icon:"plus",version:version,eventName:"page:club:join",eventData:{slug:club_profile.slug}})}else{userButton=navButtonTemplate({href:"/u/"+current_user.uid,className:"rounded nav",value:current_user.login,image:current_user.avatar,size:"sq-tiny"})}var imageOpts={attributes:{role:"presentation","data-srcset":base_url+"/images/header-320.jpg?"+version+" 320w, "+base_url+"/images/header-640.jpg?"+version+" 640w, "+base_url+"/images/header-960.jpg?"+version+" 960w, "+base_url+"/images/header-1280.jpg?"+version+" 1280w","data-sizes":"auto"},src:base_url+"/images/header-320.jpg?"+version,alt:"",className:"lazyload"};var avatarOpts,avatarImage,title,tagline;if(club_profile){if(club_profile.image){imageOpts={attributes:{role:"presentation"},src:club_profile.image+"&size=bc-medium",alt:""};avatarOpts={attributes:{role:"presentation","data-srcset":club_profile.image+"&size=sq-small 80w, "+club_profile.image+"&size=sq-medium 100w, "+club_profile.image+"&size=sq-large 200w","data-sizes":"auto"},src:club_profile.image+"&size=sq-small",alt:club_profile.title+i18n.t("message.common.image-preview"),className:"lazyload"};avatarImage=$("img.profile-image",avatarOpts)}else{avatarImage=$("div.profile-image",$("span.text",club_profile.initials))}title=$("h1.profile-title",$("a",{href:"/c/"+club_profile.slug},club_profile.title));tagline=$("p.profile-stats",$("a",{href:"/u/"+club_profile.owner},i18n.t("profile.club.owner")+" "+club_profile.owner_login))}else if(user_profile){if(user_profile.avatar){imageOpts={attributes:{role:"presentation"},src:user_profile.avatar+"&size=bc-medium",alt:""};avatarOpts={attributes:{role:"presentation","data-srcset":user_profile.avatar+"&size=sq-small 80w, "+user_profile.avatar+"&size=sq-medium 100w, "+user_profile.avatar+"&size=sq-large 200w","data-sizes":"auto"},src:user_profile.avatar+"&size=sq-small",alt:user_profile.name+i18n.t("message.common.image-preview"),className:"lazyload"};avatarImage=$("img.profile-image",avatarOpts)}else{avatarImage=$("div.profile-image")}title=$("h1.profile-title",$("a",{href:"/u/"+user_profile.uid},user_profile.name));tagline=$("p.profile-stats",navButtonTemplate({href:user_profile.origin,target:"_blank",className:"plain source",value:user_profile.provider,icon:user_profile.provider,version:version}))}else{title=$("h1.title",$("a",{href:"/"},i18n.t("common.domain")));tagline=$("p.tagline",$("a",{href:"/"},i18n.t("common.tagline")))}var heroImage=$("img",imageOpts);var headerOpts={id:"header",key:"header",className:"page-header"};if(club_profile||user_profile){headerOpts.className+=" profile"}var header=$("div",headerOpts,[$("div.image",heroImage),$("div.wrapper",[avatarImage,title,tagline,$("ul.navigation",[$("li.item",discoverButton),$("li.item",clubButton),$("li.item",rankingButton),$("li.item",helpButton)]),$("ul.login",[$("li.item",userButton)])])]);return header}},{"../emitter":51,"../i18n":53,"../vdom":66,"./navigation-button":47}],44:[function(require,module,exports){module.exports={discover:require("./discover"),featuredClub:require("./featured-club"),featuredPost:require("./featured-post"),feedback:require("./feedback"),footer:require("./footer"),formButton:require("./form-button"),formGroup:require("./form-group"),header:require("./header"),loadButton:require("./load-button"),loginScreen:require("./login-screen"),navigationButton:require("./navigation-button"),options:require("./options"),sectionTitle:require("./section-title")}},{"./discover":36,"./featured-club":37,"./featured-post":38,"./feedback":39,"./footer":40,"./form-button":41,"./form-group":42,"./header":43,"./load-button":45,"./login-screen":46,"./navigation-button":47,"./options":48,"./section-title":49}],45:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");module.exports=template;function template(data){var buttonOpts={id:data.key,key:data.key,className:"page-load-button"};var linkOpts={href:data.link||"#",className:"wrapper"};if(data.eventName){linkOpts["ev-click"]=emitter.capture(data.eventName,data.eventData)}if(data.eventType&&data.eventHandler){linkOpts[data.eventType]=data.eventHandler}var load=$("div",buttonOpts,$("a",linkOpts,i18n.t(data.title)));return load}},{"../emitter":51,"../i18n":53,"../vdom":66}],46:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var version=data.version.asset;var base_url=data.base_url;var ui=data.ui;var titleOpts={href:"#",className:"plain title",text:"menu.nav.login",icon:"compass",version:version,eventName:"page:menu:close"};var titleButton=navButtonTemplate(titleOpts);var closeOpts={href:"#",className:"plain close",icon:"delete",version:version,eventName:"page:menu:close"};var closeButton=navButtonTemplate(closeOpts);var twitterOpts={href:"/connect/twitter",className:"plain login twitter",text:"menu.login.twitter",icon:"twitter",version:version};var twitterButton=navButtonTemplate(twitterOpts);var githubOpts={href:"/connect/github",className:"plain login github",text:"menu.login.github",icon:"github",version:version};var githubButton=navButtonTemplate(githubOpts);var weiboOpts={href:"/connect/weibo",className:"plain login weibo",text:"menu.login.weibo",image:base_url+"/images/weibo-logo-64.png",version:version};var weiboButton=navButtonTemplate(weiboOpts);var menuOpts={id:"login-screen",key:"login-screen",className:"page-menu"};if(ui.modal==="login"){menuOpts.className+=" active"}var menu=$("div",menuOpts,$("div.wrapper",[titleButton,closeButton,$("ul.navigation",[$("li.item",twitterButton),$("li.item",githubButton),$("li.item",weiboButton)])]));return menu}},{"../emitter":51,"../vdom":66,"./navigation-button":47}],47:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");module.exports=template;function template(data){var icon,image,text;var buttonOpts={href:data.href||"#",className:"m-button"};if(data.className){buttonOpts.className+=" "+data.className}if(data.title){buttonOpts.title=data.title}if(data.target){buttonOpts.target=data.target}if(data.eventName){buttonOpts["ev-click"]=emitter.capture(data.eventName,data.eventData)}if(data.eventType&&data.eventHandler){buttonOpts[data.eventType]=data.eventHandler}if(data.icon&&data.version){var iconOpts={attributes:{"class":"m-icon"}};if(data.client===false){iconOpts.attributes.class+=" m-hint"}icon=$("svg",iconOpts,[$("use",{"xlink:href":"/assets/icons.svg?"+data.version+"#"+data.icon})])}if(data.image){var url=data.image;if(data.size){url+="&size="+data.size}if(data.version){url+="?"+data.version}var imageOpts={className:"m-icon m-avatar",style:{"background-image":"url("+url+")"}};image=$("div",imageOpts)}if(data.fallback&&!image){image=$("div.m-icon.m-avatar")}if(data.text!==undefined){text=$("span.m-text",i18n.t(data.text))}if(data.value!==undefined){text=$("span.m-text",data.value.toString())}var button=$("a",buttonOpts,[icon,image,text]);return button}},{"../emitter":51,"../i18n":53,"../vdom":66}],48:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var navButtonTemplate=require("./navigation-button");module.exports=template;function template(data){var current_user=data.current_user;var club_profile=data.club_profile;var version=data.version.asset;var base_url=data.base_url;var current_url=data.current_url;var ui=data.ui;var titleOpts={href:"#",className:"plain title",text:"menu.nav.options",icon:"setting_2",version:version,eventName:"page:menu:close"};var titleButton=navButtonTemplate(titleOpts);var closeOpts={href:"#",className:"plain close",icon:"delete",version:version,eventName:"page:menu:close"};var closeButton=navButtonTemplate(closeOpts);var twitterUrl="https://twitter.com/intent/tweet"+"?url="+encodeURIComponent(current_url)+"&text="+i18n.t("profile.club.share-message",club_profile);+"&related=rubume";var twitterOpts={href:twitterUrl,className:"plain login twitter",text:"menu.options.twitter",icon:"twitter",version:version,target:"_blank"};var twitterButton=navButtonTemplate(twitterOpts);var weiboUrl="http://service.weibo.com/share/share.php"+"?url="+encodeURIComponent(current_url)+"&title="+i18n.t("profile.club.share-message",club_profile)+"&searchPic=true"+"&appkey=865867638";if(club_profile.image){weiboUrl+="&pic="+encodeURIComponent(club_profile.image+"&size=ls-medium")}var weiboOpts={href:weiboUrl,className:"plain login weibo",text:"menu.options.weibo",image:base_url+"/images/weibo-logo-64.png",version:version,target:"_blank"};var weiboButton=navButtonTemplate(weiboOpts);var manageButton,eventData;if(current_user&&current_user.uid===club_profile.owner){eventData={order:2,view:"club-posts-section",menu:true};var manageOpts={href:"#",className:"plain options manage",text:"menu.options.manage",icon:"sinth",version:version,eventName:"page:tab:change",eventData:eventData};manageButton=navButtonTemplate(manageOpts)}var statButton;var leaveButton;if(current_user&&club_profile.current_user_member&&current_user.uid!==club_profile.owner){var leaveOpts={href:"#",className:"plain options leave",text:"menu.options.leave",icon:"minus",version:version,eventName:"page:club:leave",eventData:{slug:club_profile.slug}};leaveButton=navButtonTemplate(leaveOpts)}var buttons=[twitterButton,weiboButton,manageButton,statButton,leaveButton];buttons=buttons.filter(function(button){return!!button}).map(function(button){return $("li.item",button)});var menuOpts={key:"options",id:"options",className:"page-menu"};if(ui.modal==="options"){menuOpts.className+=" active"}var menu=$("div",menuOpts,$("div.wrapper",[titleButton,closeButton,$("ul.navigation",buttons)]));return menu}},{"../emitter":51,"../i18n":53,"../vdom":66,"./navigation-button":47}],49:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");module.exports=template;function template(data){var sectionOpts={id:data.key,key:data.key,className:"page-section-title"};if(data.top){sectionOpts.className+=" extra-top"}if(!data.bottom){sectionOpts.className+=" no-bottom"}var wrapperOpts={className:"wrapper"};var content;if(data.title){content=$("h2.title",i18n.t(data.title))}if(data.tabs){content=data.tabs.map(function(tab,i){var tabData={order:data.orders?data.orders[i]:i,view:data.key+"-section"};var tabOpts={href:"#",className:"title tab","ev-click":emitter.capture("page:tab:change",tabData)};if(tabData.order===data.active){tabOpts.className+=" active"}return $("a",tabOpts,i18n.t(tab))});wrapperOpts.className+=" tabs"}var title=$("div",sectionOpts,$("div",wrapperOpts,content));return title}},{"../emitter":51,"../i18n":53,"../vdom":66}],50:[function(require,module,exports){var $=require("./vdom");module.exports=template;function template(data){var html=$("html",{lang:data.locale},[data.head,data.body]);return html}},{"./vdom":66}],51:[function(require,module,exports){"use strict";var Emitter=require("tiny-emitter");var emitter=new Emitter;emitter.capture=function(name,data){var self=this;return function(ev){ev.preventDefault();self.emit(name,data)}};module.exports=emitter},{"tiny-emitter":94}],52:[function(require,module,exports){var $=require("./vdom");var i18n=require("./i18n")();var re=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;module.exports=template;function template(data){var base_url=data.base_url;var current_path=data.current_path;var site_url=data.site_url;var main_css_file=data.production?"/assets/app.css":"/dev/app.css";var main_js_file=data.production?"/assets/app.js":"/dev/app.js";var profile=data.club_profile||data.user_profile||null;var title_text=i18n.t("common.title");var description_text=i18n.t("common.description");var profile_image=base_url+"/images/header-640.jpg";if(profile){title_text=profile.title||profile.name||title_text;description_text=profile.intro||description_text;if(profile.image){profile_image=profile.image+"&size=ls-medium"}else if(profile.avatar){profile_image=profile.avatar+"&size=ls-medium"}}var title_text_attribute=title_text.replace(re,"-");var description_text_attribute=description_text.replace(re,"-");var site_name_attribute=i18n.t("common.title").replace(re,"-");var charset=$("meta",{charset:"UTF-8"});var viewport=$("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"});var referrer=$("meta",{name:"referrer",content:"no-referrer"});var title=$("title",title_text);var description=$("meta",{name:"description",content:description_text});var web_app=$("meta",{name:"apple-mobile-web-app-capable",content:"yes"});var web_app_title=$("meta",{name:"apple-mobile-web-app-title",content:i18n.t("common.app-title")});var apple_icon=$("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png?"+data.version.asset});var android_icon=$("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"/android-chrome.png?"+data.version.asset});var favicon=$("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon.png?"+data.version.asset});var error_status;if(data.error_status&&data.error_message){error_status=$("meta",{name:"mai:error",content:data.error_status+"_"+data.error_message})}var csrf_token;if(data.current_user){csrf_token=$("meta",{name:"mai:token",content:data.current_user.csrf_token})}var og_title=$("meta",{property:"og:title",content:title_text_attribute});var og_url=$("meta",{property:"og:url",content:site_url+current_path});var og_image=$("meta",{property:"og:image",content:profile_image});var og_type=$("meta",{property:"og:type",content:"website"});var og_site_name=$("meta",{property:"og:site_name",content:site_name_attribute});var og_description=$("meta",{property:"og:description",content:description_text_attribute});var t_title=$("meta",{name:"twitter:title",content:title_text_attribute});var t_image=$("meta",{name:"twitter:image",content:profile_image});var t_card=$("meta",{name:"twitter:card",content:"summary"});var t_site=$("meta",{name:"twitter:site",content:"@rubume"});var t_description=$("meta",{name:"twitter:description",content:description_text_attribute});var prefetch_cdn,prefetch_gs,inline_css,vendor;if(data.production){prefetch_cdn=$("link",{rel:"dns-prefetch",href:"//rubu-maihq.netdna-ssl.com"});prefetch_gs=$("link",{rel:"dns-prefetch",href:"//d1l6p2sc9645hc.cloudfront.net"});inline_css=$("style",{innerHTML:data.inline_css});vendor=$("script",{src:base_url+"/assets/vendor.js?"+data.version.js,async:"async"})}else{inline_css=$("link",{rel:"stylesheet",href:base_url+"/dev/inline.css?"+data.version.js})}var inline_js=$("script#css-loader",{innerHTML:data.inline_js+';var l=document.getElementById("css-loader");'+'loadCSS("'+base_url+main_css_file+"?"+data.version.css+'", l);'+'loadCSS("'+base_url+"/fonts/webfont.v1.css?"+data.version.css+'", l);'});var noscript=$("noscript",[$("link",{rel:"stylesheet",href:base_url+main_css_file+"?"+data.version.css}),$("link",{rel:"stylesheet",href:base_url+"/fonts/webfont.v1.css?"+data.version.css})]);var main_js=$("script",{src:base_url+main_js_file+"?"+data.version.js,async:"async"});var headers=[charset,viewport,referrer,title,description,web_app,web_app_title,apple_icon,android_icon,favicon,error_status,csrf_token,og_title,og_url,og_image,og_type,og_site_name,og_description,t_card,t_site,t_title,t_description,t_image,prefetch_cdn,prefetch_gs,inline_css,inline_js,noscript,main_js,vendor];var head=$("head",headers);return head}},{"./i18n":53,"./vdom":66}],53:[function(require,module,exports){var Polyglot=require("node-polyglot");var polyglot=new Polyglot;polyglot.extend(require("../i18n/en-US"),"en-us");polyglot.extend(require("../i18n/zh-CN"),"zh-cn");polyglot.locale("zh");var Translation=require("../i18n/translation");var i18n={};i18n["zh-cn"]=new Translation(polyglot,{locale:"zh-cn"});i18n["en-us"]=new Translation(polyglot,{locale:"en-us"});module.exports=factory;function factory(locale){if(!locale){return i18n["zh-cn"]}return i18n[locale]}},{"../i18n/en-US":32,"../i18n/translation":33,"../i18n/zh-CN":34,"node-polyglot":92}],54:[function(require,module,exports){var extend=require("xtend");module.exports=immutable;function immutable(fn,data,opts){data=data||{};opts=opts||{};if(!opts.client||!opts.cache){return fn(extend(data,opts))}return new ImmutableThunk(fn,data,opts)}function eq(current,previous){try{if(typeof current==="object"&&Object.isFrozen(current)){return current===previous}return false}catch(err){return false}}function ImmutableThunk(fn,data,opts){this.fn=fn;this.data=data;this.opts=opts}ImmutableThunk.prototype.type="Thunk";ImmutableThunk.prototype.render=function(previous){if(!previous||!eq(this.data,previous.data)){return this.fn.call(null,extend(this.data,this.opts))}else{return previous.vnode}}},{xtend:134}],55:[function(require,module,exports){module.exports={doc:require("./doc"),head:require("./head"),body:require("./body"),main:require("./main"),common:require("./common/index"),page:require("./page/index")}},{"./body":35,"./common/index":44,"./doc":50,"./head":52,"./main":56,"./page/index":60}],56:[function(require,module,exports){var $=require("./vdom");module.exports=template;function template(data){var main=$("div.page",[data.header,data.main,data.footer,data.discover,data.login,data.options]);return main}},{"./vdom":66}],57:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var immutable=require("../immutable");var partialList=require("../partial-list");var postTemplate=require("../common/featured-post");var sectionTitleTemplate=require("../common/section-title");var loadButtonTemplate=require("../common/load-button");var formGroupTemplate=require("../common/form-group");var formButtonTemplate=require("../common/form-button");var navButtonTemplate=require("../common/navigation-button");module.exports=template;function template(data){var club_profile=data.club_profile;var club_posts=data.club_posts;var ui=data.ui;var client=data.client;var version=data.version.asset;var club_posts_title,club_posts_list,club_posts_button,form;if(!ui["club-posts-section"]){club_posts_title=sectionTitleTemplate({tabs:["section.titles.recent-posts","section.titles.create-post"],key:"club-posts",active:ui["club-posts-section"]||0,bottom:true});club_posts=partialList(club_posts,8,ui["load-club-posts"]);club_posts_list=club_posts.map(function(post,i){var opts={num:i,version:version,view:"club_posts",client:client,cache:ui["load-club-posts"]>50};return immutable(postTemplate,post,opts)});var club_posts_count=club_posts_list.length;var club_posts_button;if(!ui["load-club-posts"]||club_posts_count>=ui["load-club-posts"]){club_posts_button=loadButtonTemplate({title:"section.load.club-posts",key:"load-club-posts",eventName:"page:load:club-posts"})}else{club_posts_button=loadButtonTemplate({title:"section.load.eof-2",key:"load-club-posts"})}}if(ui["club-posts-section"]===1){club_posts_title=sectionTitleTemplate({tabs:["section.titles.recent-posts","section.titles.create-post"],key:"club-posts",active:ui["club-posts-section"],bottom:true});var message,post_preview,link_field,title_field,summary_field,submitOpts,submit,bookmarklet;if(ui.form_error){message=$("div.common-message.error",ui.form_error)}else if(ui.form_data&&ui.form_data.club&&ui.form_data.club_name){if(ui.form_step===1){message=$("div.common-message.success",i18n.t("message.common.create-post-preview"))}else if(ui.form_step===2){message=$("div.common-message.success",[$("span",i18n.t("message.common.create-post-success")),$("a",{href:"/c/"+ui.form_data.club},ui.form_data.club_name)])}}var field_data=ui.field_data||{};var field_error=ui.field_error||{};if(!ui.form_step){link_field=formGroupTemplate({id:"create-post-link",name:"link",value:field_data.link||"",error:!!field_error.link});submit=formButtonTemplate({text:"form.button.create-post-submit-1",icon:"music_play",version:version,loading:ui.form_loading});submitOpts={id:"init-post",route:"init_post",params:[club_profile.slug],method:"POST"}}else if(ui.form_step===1||ui.form_step===2){if(ui.form_data){post_preview=$("div.form-preview",postTemplate(ui.form_data))}title_field=formGroupTemplate({id:"create-post-title",name:"title",value:field_data.title||"",error:!!field_error.title});summary_field=formGroupTemplate({id:"create-post-summary",name:"summary",value:field_data.summary||"",error:!!field_error.summary});submit=formButtonTemplate({text:"form.button.create-post-submit-2"});submitOpts={id:"create-post",route:"create_post",params:[club_profile.slug],method:"POST"}}var formOpts={action:"#",method:"POST",id:submitOpts.id,key:submitOpts.id,className:"common-form","ev-submit":emitter.capture("page:form:submit",submitOpts)};form=$("form",formOpts,[message,post_preview,link_field,title_field,summary_field,submit,bookmarklet])}if(ui["club-posts-section"]===2){club_posts_title=sectionTitleTemplate({tabs:["section.titles.recent-posts","section.titles.manage-club"],orders:[0,2],key:"club-posts",active:ui["club-posts-section"],bottom:true});var message,title_field,slug_field,logo_field,intro_field,submit;if(ui.form_error){message=$("div.common-message.error",ui.form_error);
}else if(ui.form_data&&ui.form_data.title&&ui.form_data.slug){message=$("div.common-message.success",[$("span",i18n.t("message.common.manage-club-success")),$("a",{href:"/c/"+ui.form_data.slug},ui.form_data.title)])}var field_data=ui.field_data||{};var field_error=ui.field_error||{};title_field=formGroupTemplate({id:"manage-club-title",name:"title",value:field_data.title||club_profile.title||"",error:!!field_error.title});slug_field=formGroupTemplate({id:"manage-club-slug",name:"slug",value:field_data.slug||club_profile.slug||"",error:!!field_error.slug});logo_field=formGroupTemplate({id:"manage-club-logo",name:"logo",value:field_data.logo||club_profile.logo||"",error:!!field_error.logo});intro_field=formGroupTemplate({id:"manage-club-intro",name:"intro",value:field_data.intro||club_profile.intro||"",error:!!field_error.intro});submit=formButtonTemplate({text:"form.button.manage-club-submit"});var submitOpts={id:"manage-club",route:"manage_club",params:[club_profile.slug],method:"PUT"};var formOpts={action:"#",method:"POST",id:submitOpts.id,key:submitOpts.id,className:"common-form","ev-submit":emitter.capture("page:form:submit",submitOpts)};form=$("form",formOpts,[message,title_field,slug_field,logo_field,intro_field,submit])}var homeOpts={id:"content",key:"content",className:"page-content"};var home=$("div",homeOpts,[club_posts_title,club_posts_list,club_posts_button,form]);return home}},{"../common/featured-post":38,"../common/form-button":41,"../common/form-group":42,"../common/load-button":45,"../common/navigation-button":47,"../common/section-title":49,"../emitter":51,"../i18n":53,"../immutable":54,"../partial-list":65,"../vdom":66}],58:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var feedbackTemplate=require("../common/feedback");module.exports=template;function template(data){var error=$("div.page-section-feedback",[$("h1.title",i18n.t("error.status-code",{code:data.error_status})),$("p.subtitle",data.error_message)]);var feedback=feedbackTemplate({name:"page-section-feedback"});var errorOpts={id:"content",key:"content",className:"page-content"};var message=$("div",errorOpts,[error,feedback]);return message}},{"../common/feedback":39,"../i18n":53,"../vdom":66}],59:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var immutable=require("../immutable");var partialList=require("../partial-list");var clubTemplate=require("../common/featured-club");var postTemplate=require("../common/featured-post");var sectionTitleTemplate=require("../common/section-title");var loadButtonTemplate=require("../common/load-button");module.exports=template;function template(data){var featured_clubs=data.featured_clubs;var featured_posts=data.featured_posts;var recent_posts=data.recent_posts;var ui=data.ui;var client=data.client;var version=data.version.asset;var featured_clubs_title=sectionTitleTemplate({title:"section.titles.featured-clubs",key:"featured-clubs"});var featured_clubs_list=featured_clubs.map(function(club){var opts={client:client,cache:ui["load-featured-posts"]>0||ui["load-recent-posts"]>0};return immutable(clubTemplate,club,opts)});var featured_posts_title=sectionTitleTemplate({tabs:["section.titles.featured-posts","section.titles.recent-posts"],key:"featured-posts",active:ui["featured-posts-section"]||0,top:true,bottom:true});var featured_posts_list,featured_posts_button,recent_posts_list,recent_posts_button;if(!ui["featured-posts-section"]){featured_posts=partialList(featured_posts,8,ui["load-featured-posts"]);featured_posts_list=featured_posts.map(function(post,i){var opts={num:i,version:version,view:"featured_posts",client:client,cache:ui["load-featured-posts"]>0};return immutable(postTemplate,post,opts)});if(!ui["load-featured-posts"]||featured_posts_list.length>=ui["load-featured-posts"]&&featured_posts_list.length<50){featured_posts_button=loadButtonTemplate({title:"section.load.featured-posts",key:"load-featured-posts",eventName:"page:load:featured-post"})}else{featured_posts_button=loadButtonTemplate({title:"section.load.eof-1",key:"load-featured-posts",link:"/ranking"})}}if(ui["featured-posts-section"]===1){recent_posts=partialList(recent_posts,8,ui["load-recent-posts"]);recent_posts_list=recent_posts.map(function(post,i){var opts={num:i,version:version,view:"recent_posts",client:client,cache:ui["load-recent-posts"]>0};return immutable(postTemplate,post,opts)});if(!ui["load-recent-posts"]||recent_posts_list.length>=ui["load-recent-posts"]&&recent_posts_list.length<50){recent_posts_button=loadButtonTemplate({title:"section.load.recent-posts",key:"load-recent-posts",eventName:"page:load:recent-post"})}else{recent_posts_button=loadButtonTemplate({title:"section.load.eof-1",key:"load-recent-posts",link:"/ranking"})}}var homeOpts={id:"content",key:"content",className:"page-content"};var home=$("div",homeOpts,[featured_clubs_title,featured_clubs_list,featured_posts_title,featured_posts_list,featured_posts_button,recent_posts_list,recent_posts_button]);return home}},{"../common/featured-club":37,"../common/featured-post":38,"../common/load-button":45,"../common/section-title":49,"../emitter":51,"../immutable":54,"../partial-list":65,"../vdom":66}],60:[function(require,module,exports){module.exports={clubProfile:require("./club-profile"),errorPage:require("./error-page"),home:require("./home"),myClubs:require("./my-clubs"),ranking:require("./ranking"),userManual:require("./user-manual"),userProfile:require("./user-profile")}},{"./club-profile":57,"./error-page":58,"./home":59,"./my-clubs":61,"./ranking":62,"./user-manual":63,"./user-profile":64}],61:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var emitter=require("../emitter");var immutable=require("../immutable");var partialList=require("../partial-list");var clubTemplate=require("../common/featured-club");var sectionTitleTemplate=require("../common/section-title");var loadButtonTemplate=require("../common/load-button");var formGroupTemplate=require("../common/form-group");var formButtonTemplate=require("../common/form-button");module.exports=template;function template(data){var my_clubs=data.my_clubs;var joined_clubs=data.joined_clubs;var ui=data.ui;var client=data.client;var version=data.version.asset;var my_clubs_title=sectionTitleTemplate({tabs:["section.titles.my-clubs","section.titles.create-club"],key:"my-clubs",active:ui["my-clubs-section"]||0});var my_clubs_button,my_clubs_list,joined_clubs_title,joined_clubs_list,joined_clubs_button,form;if(!ui["my-clubs-section"]){my_clubs=partialList(my_clubs,8,ui["load-my-clubs"]);my_clubs_list=my_clubs.map(function(club){var opts={client:client,cache:ui["load-my-clubs"]>50,prefix:"my-club"};return immutable(clubTemplate,club,opts)});var my_clubs_count=my_clubs_list.length;if(!ui["load-my-clubs"]||my_clubs_count>=ui["load-my-clubs"]){my_clubs_button=loadButtonTemplate({title:"section.load.my-clubs",key:"load-my-clubs",eventName:"page:load:my-clubs"})}else{my_clubs_button=loadButtonTemplate({title:"section.load.eof-1",key:"load-my-clubs",link:"/ranking"})}joined_clubs_title=sectionTitleTemplate({title:"section.titles.joined-clubs",key:"joined-clubs",top:true});joined_clubs=partialList(joined_clubs,8,ui["load-joined-clubs"]);joined_clubs_list=joined_clubs.map(function(club){var opts={client:client,cache:ui["load-joined-clubs"]>50,prefix:"joined-club"};return immutable(clubTemplate,club,opts)});var joined_clubs_count=joined_clubs_list.length;if(!ui["load-joined-clubs"]||joined_clubs_count>=ui["load-joined-clubs"]){joined_clubs_button=loadButtonTemplate({title:"section.load.joined-clubs",key:"load-joined-clubs",eventName:"page:load:joined-clubs"})}else{joined_clubs_button=loadButtonTemplate({title:"section.load.eof-1",key:"load-joined-clubs",link:"/ranking"})}}if(ui["my-clubs-section"]===1){var message,title_field,slug_field,submit;if(ui.form_error){message=$("div.common-message.error",ui.form_error)}else if(ui.form_data&&ui.form_data.title&&ui.form_data.slug){message=$("div.common-message.success",[$("span",i18n.t("message.common.create-club-success")),$("a",{href:"/c/"+ui.form_data.slug},ui.form_data.title)])}var field_data=ui.field_data||{};var field_error=ui.field_error||{};title_field=formGroupTemplate({id:"create-club-title",name:"title",value:field_data.title||"",error:!!field_error.title});slug_field=formGroupTemplate({id:"create-club-slug",name:"slug",value:field_data.slug||"",error:!!field_error.slug});submit=formButtonTemplate({text:"form.button.create-club-submit"});var submitOpts={id:"create-club",route:"create_club",method:"POST"};var formOpts={action:"#",method:"POST",id:submitOpts.id,key:submitOpts.id,className:"common-form","ev-submit":emitter.capture("page:form:submit",submitOpts)};form=$("form",formOpts,[message,title_field,slug_field,submit])}var clubOpts={id:"content",key:"content",className:"page-content"};var club=$("div",clubOpts,[my_clubs_title,my_clubs_list,my_clubs_button,joined_clubs_title,joined_clubs_list,joined_clubs_button,form]);return club}},{"../common/featured-club":37,"../common/form-button":41,"../common/form-group":42,"../common/load-button":45,"../common/section-title":49,"../emitter":51,"../i18n":53,"../immutable":54,"../partial-list":65,"../vdom":66}],62:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var immutable=require("../immutable");var partialList=require("../partial-list");var clubTemplate=require("../common/featured-club");var sectionTitleTemplate=require("../common/section-title");var loadButtonTemplate=require("../common/load-button");module.exports=template;function template(data){var hot_clubs=data.hot_clubs;var top_clubs=data.top_clubs;var recent_clubs=data.recent_clubs;var ui=data.ui;var client=data.client;var hot_clubs_title=sectionTitleTemplate({title:"section.titles.hot-clubs",key:"hot-clubs"});hot_clubs=partialList(hot_clubs,8,ui["load-hot-clubs"]);var hot_clubs_list=hot_clubs.map(function(club){var opts={client:client,cache:ui["load-hot-clubs"]>50,prefix:"hot-club"};return immutable(clubTemplate,club,opts)});var hot_clubs_count=hot_clubs_list.length;var hot_clubs_button;if(!ui["load-hot-clubs"]||hot_clubs_count>=ui["load-hot-clubs"]){hot_clubs_button=loadButtonTemplate({title:"section.load.hot-clubs",key:"load-hot-clubs",eventName:"page:load:hot-clubs"})}else{hot_clubs_button=loadButtonTemplate({title:"section.load.eof-2",key:"load-hot-clubs"})}var top_clubs_title=sectionTitleTemplate({title:"section.titles.top-clubs",key:"top-clubs",top:true});top_clubs=partialList(top_clubs,8,ui["load-top-clubs"]);var top_clubs_list=top_clubs.map(function(club){var opts={client:client,cache:ui["load-top-clubs"]>50,prefix:"top-club"};return immutable(clubTemplate,club,opts)});var top_clubs_count=top_clubs_list.length;var top_clubs_button;if(!ui["load-top-clubs"]||top_clubs_count>=ui["load-top-clubs"]){top_clubs_button=loadButtonTemplate({title:"section.load.top-clubs",key:"load-top-clubs",eventName:"page:load:top-clubs"})}else{top_clubs_button=loadButtonTemplate({title:"section.load.eof-2",key:"load-top-clubs"})}var recent_clubs_title=sectionTitleTemplate({title:"section.titles.recent-clubs",key:"recent-clubs",top:true});recent_clubs=partialList(recent_clubs,8,ui["load-recent-clubs"]);var recent_clubs_list=recent_clubs.map(function(club){var opts={client:client,cache:ui["load-recent-clubs"]>50,prefix:"recent-club"};return immutable(clubTemplate,club,opts)});var recent_clubs_button=loadButtonTemplate({title:"section.load.recent-clubs",key:"load-recent-clubs",eventName:"page:load:recent-clubs"});var recent_clubs_count=recent_clubs_list.length;var recent_clubs_button;if(!ui["load-recent-clubs"]||recent_clubs_count>=ui["load-recent-clubs"]){recent_clubs_button=loadButtonTemplate({title:"section.load.recent-clubs",key:"load-recent-clubs",eventName:"page:load:recent-clubs"})}else{recent_clubs_button=loadButtonTemplate({title:"section.load.eof-2",key:"load-recent-clubs"})}var clubOpts={id:"content",key:"content",className:"page-content"};var ranking=$("div",clubOpts,[hot_clubs_title,hot_clubs_list,hot_clubs_button,top_clubs_title,top_clubs_list,top_clubs_button,recent_clubs_title,recent_clubs_list,recent_clubs_button]);return ranking}},{"../common/featured-club":37,"../common/load-button":45,"../common/section-title":49,"../emitter":51,"../immutable":54,"../partial-list":65,"../vdom":66}],63:[function(require,module,exports){var $=require("../vdom");var i18n=require("../i18n")();var sectionTitleTemplate=require("../common/section-title");module.exports=template;function template(){var sectionOpts={className:"page-section-help"};var section_title_1=sectionTitleTemplate({title:"help.about-question",key:"about"});var section_1=$("div",sectionOpts,[$("p",i18n.t("help.about-answer-1")),$("p",i18n.t("help.about-answer-2")),$("p",[$("span",i18n.t("error.feedback-contact-1")),$("a.m-link",{href:"https://twitter.com/bitinn",target:"_blank"},[$("span.m-text",i18n.t("error.feedback-contact-1-name"))]),$("span",i18n.t("error.feedback-contact-2")),$("a.m-link",{href:"https://github.com/maihq/feedbacks",target:"_blank"},[$("span.m-text",i18n.t("error.feedback-contact-2-name"))])])]);var section_title_2=sectionTitleTemplate({title:"help.about-us-question",key:"about-us"});var section_2=$("div",sectionOpts,[$("p",i18n.t("help.about-us-answer-1"))]);var section_title_3=sectionTitleTemplate({title:"help.about-why-question",key:"about-why"});var section_3=$("div",sectionOpts,[$("p",i18n.t("help.about-why-answer-1")),$("p",i18n.t("help.about-why-answer-2")),$("p",i18n.t("help.about-why-answer-3"))]);var section_title_4=sectionTitleTemplate({title:"help.about-club-question",key:"about-club"});var section_4=$("div",sectionOpts,[$("p",i18n.t("help.about-club-answer-1")),$("p",i18n.t("help.about-club-answer-2"))]);var section_title_5=sectionTitleTemplate({title:"help.about-tagline-question",key:"about-tagline"});var section_5=$("div",sectionOpts,[$("p",i18n.t("help.about-tagline-answer-1")),$("p",i18n.t("help.about-tagline-answer-2"))]);var section_title_6=sectionTitleTemplate({title:"help.club-guideline-question",key:"club-guideline"});var section_6=$("div",sectionOpts,[$("p",i18n.t("help.club-guideline-answer-1"))]);var section_title_7=sectionTitleTemplate({title:"help.club-guideline-naming-question",key:"club-guideline-naming"});var section_7=$("div",sectionOpts,[$("p",i18n.t("help.club-guideline-naming-answer-1")),$("p",i18n.t("help.club-guideline-naming-answer-2")),$("p",i18n.t("help.club-guideline-naming-answer-3")),$("p",i18n.t("help.club-guideline-naming-answer-4")),$("p",i18n.t("help.club-guideline-naming-answer-5")),$("p",i18n.t("help.club-guideline-naming-answer-6")),$("p",i18n.t("help.club-guideline-naming-answer-7")),$("p",i18n.t("help.club-guideline-naming-answer-8")),$("p",i18n.t("help.club-guideline-naming-answer-9"))]);var section_title_8=sectionTitleTemplate({title:"help.club-guideline-operation-question",key:"club-guideline-operationn"});var section_8=$("div",sectionOpts,[$("p",i18n.t("help.club-guideline-operation-answer-1")),$("p",i18n.t("help.club-guideline-operation-answer-2")),$("p",i18n.t("help.club-guideline-operation-answer-3")),$("p",i18n.t("help.club-guideline-operation-answer-4")),$("p",i18n.t("help.club-guideline-operation-answer-5"))]);var section_title_9=sectionTitleTemplate({title:"help.club-guideline-content-question",key:"club-guideline-content"});var section_9=$("div",sectionOpts,[$("p",i18n.t("help.club-guideline-content-answer-1")),$("p",i18n.t("help.club-guideline-content-answer-2")),$("p",i18n.t("help.club-guideline-content-answer-3")),$("p",i18n.t("help.club-guideline-content-answer-4")),$("p",i18n.t("help.club-guideline-content-answer-5")),$("p",i18n.t("help.club-guideline-content-answer-6"))]);var section_title_10=sectionTitleTemplate({title:"help.game-rule-question",key:"game-rule"});var section_10=$("div",sectionOpts,[$("p",i18n.t("help.game-rule-answer-1")),$("p",i18n.t("help.game-rule-answer-2"))]);var section_title_11=sectionTitleTemplate({title:"help.game-rule-user-question",key:"game-rule-user"});var section_11=$("div",sectionOpts,[$("p",i18n.t("help.game-rule-user-answer-1")),$("p",i18n.t("help.game-rule-user-answer-2")),$("p",i18n.t("help.game-rule-user-answer-3")),$("p",i18n.t("help.game-rule-user-answer-4")),$("p",i18n.t("help.game-rule-user-answer-5")),$("p",i18n.t("help.game-rule-user-answer-6")),$("p",i18n.t("help.game-rule-user-answer-7")),$("p",i18n.t("help.game-rule-user-answer-8")),$("p",i18n.t("help.game-rule-user-answer-9"))]);var section_title_12=sectionTitleTemplate({title:"help.game-rule-club-question",key:"game-rule-club"});var section_12=$("div",sectionOpts,[$("p",i18n.t("help.game-rule-club-answer-1")),$("p",i18n.t("help.game-rule-club-answer-2")),$("p",i18n.t("help.game-rule-club-answer-3")),$("p",i18n.t("help.game-rule-club-answer-4")),$("p",i18n.t("help.game-rule-club-answer-5"))]);var manualOpts={id:"content",key:"content",className:"page-content"};var manual=$("div",manualOpts,[section_title_1,section_1,section_title_2,section_2,section_title_3,section_3,section_title_4,section_4,section_title_5,section_5,section_title_6,section_6,section_title_7,section_7,section_title_8,section_8,section_title_9,section_9,section_title_10,section_10,section_title_11,section_11,section_title_12,section_12]);return manual}},{"../common/section-title":49,"../i18n":53,"../vdom":66}],64:[function(require,module,exports){var $=require("../vdom");var emitter=require("../emitter");var immutable=require("../immutable");var partialList=require("../partial-list");var postTemplate=require("../common/featured-post");var sectionTitleTemplate=require("../common/section-title");var loadButtonTemplate=require("../common/load-button");module.exports=template;function template(data){var user_posts=data.user_posts;var ui=data.ui;var client=data.client;var version=data.version.asset;var user_posts_title=sectionTitleTemplate({title:"section.titles.recent-posts",key:"recent-posts",bottom:true});user_posts=partialList(user_posts,8,ui["load-user-posts"]);var user_posts_list=user_posts.map(function(post,i){var opts={num:i,version:version,view:"user_posts",client:client,cache:ui["load-user-posts"]>50};return immutable(postTemplate,post,opts)});var user_posts_count=user_posts_list.length;var user_posts_button;if(!ui["load-user-posts"]||user_posts_count>=ui["load-user-posts"]){user_posts_button=loadButtonTemplate({title:"section.load.user-posts",key:"load-user-posts",eventName:"page:load:user-posts"})}else{user_posts_button=loadButtonTemplate({title:"section.load.eof-2",key:"load-user-posts"})}var homeOpts={id:"content",key:"content",className:"page-content"};var home=$("div",homeOpts,[user_posts_title,user_posts_list,user_posts_button]);return home}},{"../common/featured-post":38,"../common/load-button":45,"../common/section-title":49,"../emitter":51,"../immutable":54,"../partial-list":65,"../vdom":66}],65:[function(require,module,exports){module.exports=helper;function helper(list,init,count){if(!count){return list.slice(0,init)}else if(count>0){return list.slice(0,count)}return[]}},{}],66:[function(require,module,exports){var h=require("virtual-dom/h");var svg=require("virtual-dom/virtual-hyperscript/svg");var svg_tags=["svg","use"];module.exports=vdom;function vdom(el,props,children){var vnode;var hint=el.split(/(\.|#)+/);if(svg_tags.indexOf(hint[0])!==-1){vnode=svg}else{vnode=h}return vnode(el,props,children)}},{"virtual-dom/h":99,"virtual-dom/virtual-hyperscript/svg":120}],67:[function(require,module,exports){},{}],68:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){currentQueue[queueIndex].run()}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],69:[function(require,module,exports){(function(app){"use strict";var namespace="cuid",c=0,blockSize=4,base=36,discreteValues=Math.pow(base,blockSize),pad=function pad(num,size){var s="000000000"+num;return s.substr(s.length-size)},randomBlock=function randomBlock(){return pad((Math.random()*discreteValues<<0).toString(base),blockSize)},safeCounter=function(){c=c<discreteValues?c:0;c++;return c-1},api=function cuid(){var letter="c",timestamp=(new Date).getTime().toString(base),counter,fingerprint=api.fingerprint(),random=randomBlock()+randomBlock();counter=pad(safeCounter().toString(base),blockSize);return letter+timestamp+counter+fingerprint+random};api.slug=function slug(){var date=(new Date).getTime().toString(36),counter,print=api.fingerprint().slice(0,1)+api.fingerprint().slice(-1),random=randomBlock().slice(-2);counter=safeCounter().toString(36).slice(-4);return date.slice(-2)+counter+print+random};api.globalCount=function globalCount(){var cache=function calc(){var i,count=0;for(i in window){count++}return count}();api.globalCount=function(){return cache};return cache};api.fingerprint=function browserPrint(){return pad((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+api.globalCount().toString(36),4)};if(app.register){app.register(namespace,api)}else if(typeof module!=="undefined"){module.exports=api}else{app[namespace]=api}})(this.applitude||this)},{}],70:[function(require,module,exports){var EvStore=require("ev-store");module.exports=addEvent;function addEvent(target,type,handler){var events=EvStore(target);var event=events[type];if(!event){events[type]=handler}else if(Array.isArray(event)){if(event.indexOf(handler)===-1){event.push(handler)}}else if(event!==handler){events[type]=[event,handler]}}},{"ev-store":73}],71:[function(require,module,exports){var globalDocument=require("global/document");var EvStore=require("ev-store");var createStore=require("weakmap-shim/create-store");var addEvent=require("./add-event.js");var removeEvent=require("./remove-event.js");var ProxyEvent=require("./proxy-event.js");var HANDLER_STORE=createStore();module.exports=DOMDelegator;function DOMDelegator(document){if(!(this instanceof DOMDelegator)){return new DOMDelegator(document)}document=document||globalDocument;this.target=document.documentElement;this.events={};this.rawEventListeners={};this.globalListeners={}}DOMDelegator.prototype.addEventListener=addEvent;DOMDelegator.prototype.removeEventListener=removeEvent;DOMDelegator.allocateHandle=function allocateHandle(func){var handle=new Handle;HANDLER_STORE(handle).func=func;return handle};DOMDelegator.transformHandle=function transformHandle(handle,broadcast){var func=HANDLER_STORE(handle).func;return this.allocateHandle(function(ev){broadcast(ev,func)})};DOMDelegator.prototype.addGlobalEventListener=function addGlobalEventListener(eventName,fn){var listeners=this.globalListeners[eventName]||[];if(listeners.indexOf(fn)===-1){listeners.push(fn)}this.globalListeners[eventName]=listeners};DOMDelegator.prototype.removeGlobalEventListener=function removeGlobalEventListener(eventName,fn){var listeners=this.globalListeners[eventName]||[];var index=listeners.indexOf(fn);if(index!==-1){listeners.splice(index,1)}};DOMDelegator.prototype.listenTo=function listenTo(eventName){if(!(eventName in this.events)){this.events[eventName]=0}this.events[eventName]++;if(this.events[eventName]!==1){return}var listener=this.rawEventListeners[eventName];if(!listener){listener=this.rawEventListeners[eventName]=createHandler(eventName,this)}this.target.addEventListener(eventName,listener,true)};DOMDelegator.prototype.unlistenTo=function unlistenTo(eventName){if(!(eventName in this.events)){this.events[eventName]=0}if(this.events[eventName]===0){throw new Error("already unlistened to event.")}this.events[eventName]--;if(this.events[eventName]!==0){return}var listener=this.rawEventListeners[eventName];if(!listener){throw new Error("dom-delegator#unlistenTo: cannot "+"unlisten to "+eventName)}this.target.removeEventListener(eventName,listener,true)};function createHandler(eventName,delegator){var globalListeners=delegator.globalListeners;var delegatorTarget=delegator.target;return handler;function handler(ev){var globalHandlers=globalListeners[eventName]||[];if(globalHandlers.length>0){var globalEvent=new ProxyEvent(ev);globalEvent.currentTarget=delegatorTarget;callListeners(globalHandlers,globalEvent)}findAndInvokeListeners(ev.target,ev,eventName)}}function findAndInvokeListeners(elem,ev,eventName){var listener=getListener(elem,eventName);if(listener&&listener.handlers.length>0){var listenerEvent=new ProxyEvent(ev);listenerEvent.currentTarget=listener.currentTarget;callListeners(listener.handlers,listenerEvent);if(listenerEvent._bubbles){var nextTarget=listener.currentTarget.parentNode;findAndInvokeListeners(nextTarget,ev,eventName)}}}function getListener(target,type){if(target===null||typeof target==="undefined"){return null}var events=EvStore(target);var handler=events[type];var allHandler=events.event;if(!handler&&!allHandler){return getListener(target.parentNode,type)}var handlers=[].concat(handler||[],allHandler||[]);return new Listener(target,handlers)}function callListeners(handlers,ev){handlers.forEach(function(handler){if(typeof handler==="function"){handler(ev)}else if(typeof handler.handleEvent==="function"){handler.handleEvent(ev)}else if(handler.type==="dom-delegator-handle"){HANDLER_STORE(handler).func(ev)}else{throw new Error("dom-delegator: unknown handler "+"found: "+JSON.stringify(handlers))}})}function Listener(target,handlers){this.currentTarget=target;this.handlers=handlers}function Handle(){this.type="dom-delegator-handle"}},{"./add-event.js":70,"./proxy-event.js":81,"./remove-event.js":82,"ev-store":73,"global/document":76,"weakmap-shim/create-store":79}],72:[function(require,module,exports){var Individual=require("individual");var cuid=require("cuid");var globalDocument=require("global/document");var DOMDelegator=require("./dom-delegator.js");var versionKey="13";var cacheKey="__DOM_DELEGATOR_CACHE@"+versionKey;var cacheTokenKey="__DOM_DELEGATOR_CACHE_TOKEN@"+versionKey;var delegatorCache=Individual(cacheKey,{delegators:{}});var commonEvents=["blur","change","click","contextmenu","dblclick","error","focus","focusin","focusout","input","keydown","keypress","keyup","load","mousedown","mouseup","resize","select","submit","touchcancel","touchend","touchstart","unload"];module.exports=Delegator;function Delegator(opts){opts=opts||{};var document=opts.document||globalDocument;var cacheKey=document[cacheTokenKey];if(!cacheKey){cacheKey=document[cacheTokenKey]=cuid()}var delegator=delegatorCache.delegators[cacheKey];if(!delegator){delegator=delegatorCache.delegators[cacheKey]=new DOMDelegator(document)}if(opts.defaultEvents!==false){for(var i=0;i<commonEvents.length;i++){delegator.listenTo(commonEvents[i])}}return delegator}Delegator.allocateHandle=DOMDelegator.allocateHandle;Delegator.transformHandle=DOMDelegator.transformHandle},{"./dom-delegator.js":71,cuid:69,"global/document":76,individual:77}],73:[function(require,module,exports){"use strict";var OneVersionConstraint=require("individual/one-version");var MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION;module.exports=EvStore;function EvStore(elem){var hash=elem[hashKey];if(!hash){hash=elem[hashKey]={}}return hash}},{"individual/one-version":75}],74:[function(require,module,exports){(function(global){"use strict";var root=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};module.exports=Individual;function Individual(key,value){if(key in root){return root[key]}root[key]=value;return value}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],75:[function(require,module,exports){"use strict";var Individual=require("./index.js");module.exports=OneVersion;function OneVersion(moduleName,version,defaultValue){var key="__INDIVIDUAL_ONE_VERSION_"+moduleName;var enforceKey=key+"_ENFORCE_SINGLETON";var versionValue=Individual(enforceKey,version);if(versionValue!==version){throw new Error("Can only have one copy of "+moduleName+".\n"+"You already have version "+versionValue+" installed.\n"+"This means you cannot install version "+version)}return Individual(key,defaultValue)}},{"./index.js":74}],76:[function(require,module,exports){(function(global){var topLevel=typeof global!=="undefined"?global:typeof window!=="undefined"?window:{};var minDoc=require("min-document");if(typeof document!=="undefined"){module.exports=document}else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}module.exports=doccy}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":67}],77:[function(require,module,exports){(function(global){var root=typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};module.exports=Individual;function Individual(key,value){if(root[key]){return root[key]}Object.defineProperty(root,key,{value:value,configurable:true});return value}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],78:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],79:[function(require,module,exports){var hiddenStore=require("./hidden-store.js");module.exports=createStore;function createStore(){var key={};return function(obj){if((typeof obj!=="object"||obj===null)&&typeof obj!=="function"){throw new Error("Weakmap-shim: Key must be object")}var store=obj.valueOf(key);return store&&store.identity===key?store:hiddenStore(obj,key)}}},{"./hidden-store.js":80}],80:[function(require,module,exports){module.exports=hiddenStore;function hiddenStore(obj,key){var store={identity:key};var valueOf=obj.valueOf;Object.defineProperty(obj,"valueOf",{value:function(value){return value!==key?valueOf.apply(this,arguments):store},writable:true});return store}},{}],81:[function(require,module,exports){var inherits=require("inherits");var ALL_PROPS=["altKey","bubbles","cancelable","ctrlKey","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","type","view","which"];var KEY_PROPS=["char","charCode","key","keyCode"];var MOUSE_PROPS=["button","buttons","clientX","clientY","layerX","layerY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement"];var rkeyEvent=/^key|input/;
var rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/;module.exports=ProxyEvent;function ProxyEvent(ev){if(!(this instanceof ProxyEvent)){return new ProxyEvent(ev)}if(rkeyEvent.test(ev.type)){return new KeyEvent(ev)}else if(rmouseEvent.test(ev.type)){return new MouseEvent(ev)}for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}this._rawEvent=ev;this._bubbles=false}ProxyEvent.prototype.preventDefault=function(){this._rawEvent.preventDefault()};ProxyEvent.prototype.startPropagation=function(){this._bubbles=true};function MouseEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<MOUSE_PROPS.length;j++){var mousePropKey=MOUSE_PROPS[j];this[mousePropKey]=ev[mousePropKey]}this._rawEvent=ev}inherits(MouseEvent,ProxyEvent);function KeyEvent(ev){for(var i=0;i<ALL_PROPS.length;i++){var propKey=ALL_PROPS[i];this[propKey]=ev[propKey]}for(var j=0;j<KEY_PROPS.length;j++){var keyPropKey=KEY_PROPS[j];this[keyPropKey]=ev[keyPropKey]}this._rawEvent=ev}inherits(KeyEvent,ProxyEvent)},{inherits:78}],82:[function(require,module,exports){var EvStore=require("ev-store");module.exports=removeEvent;function removeEvent(target,type,handler){var events=EvStore(target);var event=events[type];if(!event){return}else if(Array.isArray(event)){var index=event.indexOf(handler);if(index!==-1){event.splice(index,1)}}else if(event===handler){events[type]=null}}},{"ev-store":73}],83:[function(require,module,exports){!function(name,definition){if(typeof module!="undefined")module.exports=definition();else if(typeof define=="function"&&typeof define.amd=="object")define(definition);else this[name]=definition()}("domready",function(){var fns=[],listener,doc=document,hack=doc.documentElement.doScroll,domContentLoaded="DOMContentLoaded",loaded=(hack?/^loaded|^c/:/^loaded|^i|^c/).test(doc.readyState);if(!loaded)doc.addEventListener(domContentLoaded,listener=function(){doc.removeEventListener(domContentLoaded,listener);loaded=1;while(listener=fns.shift())listener()});return function(fn){loaded?setTimeout(fn,0):fns.push(fn)}})},{}],84:[function(require,module,exports){(function(){"use strict";function FastClick(layer,options){var oldOnClick;options=options||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=options.touchBoundary||10;this.layer=layer;this.tapDelay=options.tapDelay||200;this.tapTimeout=options.tapTimeout||700;if(FastClick.notNeeded(layer)){return}function bind(method,context){return function(){return method.apply(context,arguments)}}var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var context=this;for(var i=0,l=methods.length;i<l;i++){context[methods[i]]=bind(context[methods[i]],context)}if(deviceIsAndroid){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true)}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,callback.hijacked||callback,capture)}else{rmv.call(layer,type,callback,capture)}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event)}}),capture)}else{adv.call(layer,type,callback,capture)}}}if(typeof layer.onclick==="function"){oldOnClick=layer.onclick;layer.addEventListener("click",function(event){oldOnClick(event)},false);layer.onclick=null}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0;var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone;var deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent);var deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled){return true}break;case"input":if(deviceIsIOS&&target.type==="file"||target.disabled){return true}break;case"label":case"iframe":case"video":return true}return/\bneedsclick\b/.test(target.className)};FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return true;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}};FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur()}touch=event.changedTouches[0];clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent)};FastClick.prototype.determineEventType=function(targetElement){if(deviceIsAndroid&&targetElement.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(targetElement){var length;if(deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf("date")!==0&&targetElement.type!=="time"&&targetElement.type!=="month"){length=targetElement.value.length;targetElement.setSelectionRange(length,length)}else{targetElement.focus()}};FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode}return eventTarget};FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1){return true}targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true}if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement)}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if(event.timeStamp-this.lastClickTime<this.tapDelay){event.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true}return false};FastClick.prototype.onTouchMove=function(event){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(labelElement){if(labelElement.control!==undefined){return labelElement.control}if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor)}return labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true}if(event.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}if(event.timeStamp-this.trackingClickStart>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent}targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==="label"){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(deviceIsAndroid){return false}targetElement=forElement}}else if(this.needsFocus(targetElement)){if(event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&targetTagName==="input"){this.targetElement=null;return false}this.focus(targetElement);this.sendClick(targetElement,event);if(!deviceIsIOS||targetTagName!=="select"){this.targetElement=null;event.preventDefault()}return false}if(deviceIsIOS&&!deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true}}if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(event){if(!this.targetElement){return true}if(event.forwardedTouchEvent){return true}if(!event.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation()}else{event.propagationStopped=true}event.stopPropagation();event.preventDefault();return false}return true};FastClick.prototype.onClick=function(event){var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(event.target.type==="submit"&&event.detail===0){return true}permitted=this.onMouse(event);if(!permitted){this.targetElement=null}return permitted};FastClick.prototype.destroy=function(){var layer=this.layer;if(deviceIsAndroid){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true)}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(layer){var metaViewport;var chromeVersion;var blackberryVersion;var firefoxVersion;if(typeof window.ontouchstart==="undefined"){return true}chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(deviceIsAndroid){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(deviceIsBlackBerry10){blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(blackberryVersion[1]>=10&&blackberryVersion[2]>=3){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(layer.style.msTouchAction==="none"||layer.style.touchAction==="manipulation"){return true}firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(firefoxVersion>=27){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport&&(metaViewport.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(layer.style.touchAction==="none"||layer.style.touchAction==="manipulation"){return true}return false};FastClick.attach=function(layer,options){return new FastClick(layer,options)};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return FastClick})}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}})()},{}],85:[function(require,module,exports){var k_r_submitter=/^(?:submit|button|image|reset|file)$/i;var k_r_success_contrls=/^(?:input|select|textarea|keygen)/i;var object_brackets_regex=/\[(.+?)\]/g;var array_brackets_regex=/\[\]$/;var brackeks_prefix_regex=/^(.+?)\[/;function serialize(form,options){if(typeof options!="object"){options={hash:!!options}}else if(options.hash===undefined){options.hash=true}var result=options.hash?{}:"";var serializer=options.serializer||(options.hash?hash_serializer:str_serialize);var elements=form.elements||[];var radio_store=Object.create(null);for(var i=0;i<elements.length;++i){var element=elements[i];if(!options.disabled&&element.disabled||!element.name){continue}if(!k_r_success_contrls.test(element.nodeName)||k_r_submitter.test(element.type)){continue}var key=element.name;var val=element.value;if((element.type==="checkbox"||element.type==="radio")&&!element.checked){val=undefined}if(options.empty){if(element.type==="checkbox"&&!element.checked){val=""}if(element.type==="radio"){if(!radio_store[element.name]&&!element.checked){radio_store[element.name]=false}else if(element.checked){radio_store[element.name]=true}}if(!val&&element.type=="radio"){continue}}else{if(!val){continue}}if(element.type==="select-multiple"){val=[];var selectOptions=element.options;var isSelectedOptions=false;for(var j=0;j<selectOptions.length;++j){var option=selectOptions[j];if(option.selected){isSelectedOptions=true;result=serializer(result,key,option.value)}}if(!isSelectedOptions&&options.empty){result=serializer(result,key,"")}continue}result=serializer(result,key,val)}if(options.empty){for(var key in radio_store){if(!radio_store[key]){result=serializer(result,key,"")}}}return result}function hash_serializer(result,key,value){var is_array_key=has_array_brackets(key);if(is_array_key){key=key.replace(array_brackets_regex,"")}if(key in result){var existing=result[key];if(!Array.isArray(existing)){result[key]=[existing]}result[key].push(value)}else{if(has_object_brackets(key)){extract_from_brackets(result,key,value)}else{result[key]=is_array_key?[value]:value}}return result}function str_serialize(result,key,value){value=value.replace(/(\r)?\n/g,"\r\n");value=encodeURIComponent(value);value=value.replace(/%20/g,"+");return result+(result?"&":"")+encodeURIComponent(key)+"="+value}function has_object_brackets(string){return string.match(object_brackets_regex)}function has_array_brackets(string){return string.match(array_brackets_regex)}function matches_between_brackets(string){var regex=new RegExp(object_brackets_regex);var matches=[];var match;while(match=regex.exec(string)){matches.push(match[1])}return matches}function extract_from_brackets(result,key,value){var prefix=key.match(brackeks_prefix_regex)[1];if(!result[prefix])result[prefix]={};var parent=result[prefix];var matches_between=matches_between_brackets(key);var length=matches_between.length;for(var i=0;i<length;i++){var child=matches_between[i];var isLast=length===i+1;if(isLast){var existing=parent[child];if(existing){if(!Array.isArray(existing)){parent[child]=[existing]}parent[child].push(value)}else{parent[child]=value}}else{parent[child]=parent[child]||{};parent=parent[child]}}parent=value}module.exports=serialize},{}],86:[function(require,module,exports){(function(process){"use strict";var i=exports;function weCareAbout(val){return null!==val&&(Array.isArray(val)||isObjectLike(val))}function isObjectLike(val){return typeof val==="object"&&val.constructor===Object}exports._weCareAbout=weCareAbout;function arrayClone(arr){var index=0,length=arr.length,result=Array(length);for(;index<length;index+=1){result[index]=arr[index]}return result}function objClone(obj){var index=0,keys=Object.keys(obj),length=keys.length,key,result={};for(;index<length;index+=1){key=keys[index];result[key]=obj[key]}return result}function clone(coll){if(Array.isArray(coll)){return arrayClone(coll)}else{return objClone(coll)}}function freezeIfNeeded(coll){if(weCareAbout(coll)&&(!Object.isFrozen(coll)&&process.env.NODE_ENV!=="production")){return baseFreeze(coll,[])}return coll}function _freeze(coll){if(process.env.NODE_ENV==="production"){return coll}return Object.freeze(coll)}function baseFreeze(coll,prevNodes){if(prevNodes.some(function(node){return node===coll})){throw new Error("object has a reference cycle")}Object.freeze(coll);prevNodes.push(coll);Object.keys(coll).forEach(function(key){var prop=coll[key];if(weCareAbout(prop)){baseFreeze(prop,prevNodes)}});prevNodes.pop();return coll}exports.freeze=function freeze(coll){if(process.env.NODE_ENV==="production"){return coll}return baseFreeze(coll,[])};exports.thaw=function thaw(coll){if(weCareAbout(coll)&&Object.isFrozen(coll)){var newColl=clone(coll);Object.keys(newColl).forEach(function(key){newColl[key]=thaw(newColl[key])});return newColl}return coll};exports.assoc=function assoc(coll,key,value){var newObj=clone(coll);newObj[key]=freezeIfNeeded(value);return _freeze(newObj)};exports.dissoc=function dissoc(coll,key){var newObj=clone(coll);delete newObj[key];return _freeze(newObj)};exports.assocIn=function assocIn(coll,path,value){var key0=path[0];if(path.length===1){return i.assoc(coll,key0,value)}else{return i.assoc(coll,key0,assocIn(coll[key0]||{},path.slice(1),value))}};function baseGet(coll,path){return(path||[]).reduce(function(curr,key){if(!curr){return}return curr[key]},coll)}exports.getIn=baseGet;exports.updateIn=function updateIn(coll,path,callback){var existingVal=baseGet(coll,path);return i.assocIn(coll,path,callback(existingVal))};["push","unshift","pop","shift","reverse","sort"].forEach(function(methodName){exports[methodName]=function(arr,val){var newArr=arrayClone(arr);newArr[methodName](val);return _freeze(newArr)};exports[methodName].displayName="icepick."+methodName});exports.splice=function splice(arr){var newArr=arrayClone(arr),args=rest(arguments);newArr.splice.apply(newArr,args);return _freeze(newArr)};exports.slice=function slice(arr,arg1,arg2){var newArr=arr.slice(arg1,arg2);return _freeze(newArr)};["map","filter"].forEach(function(methodName){exports[methodName]=function(fn,arr){var newArr=arr[methodName](fn);return _freeze(newArr)};exports[methodName].displayName="icepick."+methodName});exports.extend=exports.assign=function assign(){var newObj=_slice(arguments).reduce(singleAssign,{});return _freeze(newObj)};function singleAssign(obj1,obj2){return Object.keys(obj2).reduce(function(obj,key){obj[key]=freezeIfNeeded(obj2[key]);return obj},obj1)}exports.merge=merge;function merge(target,source){if(target==null||source==null){return target}return Object.keys(source).reduce(function(obj,key){var sourceVal=source[key];var targetVal=obj[key];if(weCareAbout(sourceVal)&&weCareAbout(targetVal)){if((Object.isFrozen(sourceVal)&&Object.isFrozen(targetVal)||process.env.NODE_ENV==="production")&&sourceVal===targetVal){return obj}if(Array.isArray(sourceVal)){return i.assoc(obj,key,sourceVal)}return assocIfDifferent(obj,key,merge(targetVal,sourceVal))}return assocIfDifferent(obj,key,sourceVal)},target)}function assocIfDifferent(target,key,value){if(target[key]===value){return target}return i.assoc(target,key,value)}function _slice(array,start){var begin=start||0;var len=array.length;len-=begin;len=len<0?0:len;var result=new Array(len);for(var i=0;i<len;i+=1){result[i]=array[i+begin]}return result}exports._slice=_slice;function rest(args){return _slice(args,1)}}).call(this,require("_process"))},{_process:68}],87:[function(require,module,exports){!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=a.addEventListener,f=a.setTimeout,g=a.requestAnimationFrame||f,h=a.setImmediate||f,i=/^picture$/i,j=["load","error","lazyincluded","_lazyloaded"],k=function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");return a.className.match(c)&&c},l=function(a,b){k(a,b)||(a.className+=" "+b)},m=function(a,b){var c;(c=k(a,b))&&(a.className=a.className.replace(c," "))},n=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&n(a,b),j.forEach(function(c){a[d](c,b)})},o=function(a,c,d,e,f){var g=b.createEvent("CustomEvent");return g.initCustomEvent(c,!e,!f,d||{}),a.dispatchEvent(g),g},p=function(b,d){var e;a.HTMLPictureElement||((e=a.picturefill||a.respimage||c.pf)?e({reevaluate:!0,elements:[b]}):d&&d.src&&(b.src=d.src))},q=function(a,b){return(getComputedStyle(a,null)||{})[b]},r=function(a,b,d){for(d=d||a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},s=function(b){var d,e=0,i=a.Date,j=function(){d=!1,e=i.now(),b()},k=function(){h(j)},l=function(){g(k)};return function(){if(!d){var a=c.throttle-(i.now()-e);d=!0,6>a&&(a=6),f(l,a)}}},t=function(){var h,j,r,t,v,w,x,y,z,A,B,C,D,E=/^img$/i,F=/^iframe$/i,G="onscroll"in a&&!/glebot/.test(navigator.userAgent),H=0,I=0,J=0,K=0,L=function(a){J--,a&&a.target&&n(a.target,L),(!a||0>J||!a.target)&&(J=0)},M=function(a,b){var c,d=a,e="hidden"!=q(a,"visibility");for(y-=b,B+=b,z-=b,A+=b;e&&(d=d.offsetParent);)e=(q(d,"opacity")||1)>0,e&&"visible"!=q(d,"overflow")&&(c=d.getBoundingClientRect(),e=A>c.left&&z<c.right&&B>c.top-1&&y<c.bottom+1);return e},N=function(){var a,b,d,e,f,g,i,k,l;if((v=c.loadMode)&&8>J&&(a=h.length)){for(b=0,K++,D>I&&1>J&&K>3&&v>2?(I=D,K=0):I=I!=C&&v>1&&K>2&&6>J?C:H;a>b;b++)if(h[b]&&!h[b]._lazyRace)if(G)if((k=h[b].getAttribute("data-expand"))&&(g=1*k)||(g=I),l!==g&&(w=innerWidth+g,x=innerHeight+g,i=-1*g,l=g),d=h[b].getBoundingClientRect(),(B=d.bottom)>=i&&(y=d.top)<=x&&(A=d.right)>=i&&(z=d.left)<=w&&(B||A||z||y)&&(r&&3>J&&!k&&(3>v||4>K)||M(h[b],g))){if(S(h[b],d.width),f=!0,J>9)break}else!f&&r&&!e&&3>J&&4>K&&v>2&&(j[0]||c.preloadAfterLoad)&&(j[0]||!k&&(B||A||z||y||"auto"!=h[b].getAttribute(c.sizesAttr)))&&(e=j[0]||h[b]);else S(h[b]);e&&!f&&S(e)}},O=s(N),P=function(a){l(a.target,c.loadedClass),m(a.target,c.loadingClass),n(a.target,P)},Q=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.setAttribute("src",b)}},R=function(){var a,b=[],c=function(){for(;b.length;)b.shift()();a=!1};return function(d){b.push(d),a||(a=!0,g(c))}}(),S=function(a,b){var d,e,g,h,j,q,s,v,w,x,y,z=E.test(a.nodeName),A=z&&(a.getAttribute(c.sizesAttr)||a.getAttribute("sizes")),B="auto"==A;(!B&&r||!z||!a.src&&!a.srcset||a.complete||k(a,c.errorClass))&&(a._lazyRace=!0,J++,R(function(){if(a._lazyRace&&delete a._lazyRace,m(a,c.lazyClass),!(w=o(a,"lazybeforeunveil")).defaultPrevented){if(A&&(B?(u.updateElem(a,!0,b),l(a,c.autosizesClass)):a.setAttribute("sizes",A)),q=a.getAttribute(c.srcsetAttr),j=a.getAttribute(c.srcAttr),z&&(s=a.parentNode,v=s&&i.test(s.nodeName||"")),x=w.detail.firesLoad||"src"in a&&(q||j||v),w={target:a},x&&(n(a,L,!0),clearTimeout(t),t=f(L,2500),l(a,c.loadingClass),n(a,P,!0)),v)for(d=s.getElementsByTagName("source"),e=0,g=d.length;g>e;e++)(y=c.customMedia[d[e].getAttribute("data-media")||d[e].getAttribute("media")])&&d[e].setAttribute("media",y),h=d[e].getAttribute(c.srcsetAttr),h&&d[e].setAttribute("srcset",h);q?a.setAttribute("srcset",q):j&&(F.test(a.nodeName)?Q(a,j):a.setAttribute("src",j)),(q||v)&&p(a,{src:j})}(!x||a.complete)&&(x?L(w):J--,P(w))}))},T=function(){var a,b=function(){c.loadMode=3,O()};r=!0,K+=8,c.loadMode=3,e("scroll",function(){3==c.loadMode&&(c.loadMode=2),clearTimeout(a),a=f(b,99)},!0)};return{_:function(){h=b.getElementsByClassName(c.lazyClass),j=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),C=c.expand,D=Math.round(C*c.expFactor),e("scroll",O,!0),e("resize",O,!0),a.MutationObserver?new MutationObserver(O).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d.addEventListener("DOMNodeInserted",O,!0),d.addEventListener("DOMAttrModified",O,!0),setInterval(O,999)),e("hashchange",O,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b.addEventListener(a,O,!0)}),/d$|^c/.test(b.readyState)?T():(e("load",T),b.addEventListener("DOMContentLoaded",O)),O()},checkElems:O,unveil:S}}(),u=function(){var a,d=function(a,b,c){var d,e,f,g,h=a.parentNode;if(h&&(c=r(a,h,c),g=o(a,"lazybeforesizes",{width:c,dataAttr:!!b}),!g.defaultPrevented&&(c=g.detail.width,c&&c!==a._lazysizesWidth))){if(a._lazysizesWidth=c,c+="px",a.setAttribute("sizes",c),i.test(h.nodeName||""))for(d=h.getElementsByTagName("source"),e=0,f=d.length;f>e;e++)d[e].setAttribute("sizes",c);g.detail.dataAttr||p(a,g.detail)}},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)d(a[b])},g=s(f);return{_:function(){a=b.getElementsByClassName(c.autosizesClass),e("resize",g)},checkElems:g,updateElem:d}}(),v=function(){v.i||(v.i=!0,u._(),t._())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:2,expand:359,loadMode:2,throttle:125};c=a.lazySizesConfig||a.lazysizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,f(function(){c.init&&v()})}(),{cfg:c,autoSizer:u,loader:t,init:v,uP:p,aC:l,rC:m,hC:k,fire:o,gW:r}}})},{}],88:[function(require,module,exports){(function(){"use strict";if(!window.addEventListener){return}var regSplitSet=/\s*\|\s+|\s+\|\s*/g;var regSource=/^(.+?)(?:\s+\[\s*(.+?)\s*\])?$/;var allowedBackgroundSize={contain:1,cover:1};var proxyWidth=function(elem){var width=lazySizes.gW(elem,elem.parentNode);if(!elem._lazysizesWidth||width>elem._lazysizesWidth){elem._lazysizesWidth=width}return elem._lazysizesWidth};var createPicture=function(sets,elem,img){var bgSize;var picture=document.createElement("picture");var sizes=elem.getAttribute(lazySizesConfig.sizesAttr);var optimumx=elem.getAttribute("data-optimumx");if(elem._lazybgset&&elem._lazybgset.parentNode==elem){elem.removeChild(elem._lazybgset)}Object.defineProperty(img,"_lazybgset",{value:elem,writable:true});Object.defineProperty(elem,"_lazybgset",{value:picture,writable:true});sets=sets.split(regSplitSet);picture.style.display="none";img.className=lazySizesConfig.lazyClass;if(sets.length==1&&!sizes){sizes="auto"}sets.forEach(function(set){var source=document.createElement("source");if(sizes&&sizes!="auto"){source.setAttribute("sizes",sizes)}if(set.match(regSource)){source.setAttribute(lazySizesConfig.srcsetAttr,RegExp.$1);if(RegExp.$2){source.setAttribute("media",lazySizesConfig.customMedia[RegExp.$2]||RegExp.$2)}}picture.appendChild(source)});if(sizes){img.setAttribute(lazySizesConfig.sizesAttr,sizes);elem.removeAttribute(lazySizesConfig.sizesAttr);elem.removeAttribute("sizes");bgSize=(getComputedStyle(elem)||{getPropertyValue:function(){}}).getPropertyValue("background-size");if(lazySizes.parentFit&&sizes=="auto"&&allowedBackgroundSize[bgSize]){img.setAttribute("data-parent-fit",bgSize)}}if(optimumx){img.setAttribute("data-optimumx",optimumx)}picture.appendChild(img);elem.appendChild(picture)};var proxyLoad=function(e){if(!e.target._lazybgset){return}var image=e.target;var elem=image._lazybgset;var bg=image.currentSrc||image.src;if(bg){elem.style.backgroundImage="url("+bg+")"}if(image._lazybgsetLoading){lazySizes.fire(elem,"_lazyloaded",{},false,true);delete image._lazybgsetLoading}};addEventListener("lazybeforeunveil",function(e){var set,image,elem;if(e.defaultPrevented||!(set=e.target.getAttribute("data-bgset"))){return}elem=e.target;image=document.createElement("img");image._lazybgsetLoading=true;e.detail.firesLoad=true;createPicture(set,elem,image);lazySizes.loader.unveil(image);lazySizes.fire(image,"_lazyloaded",{},true,true);setTimeout(function(){if(image.complete){proxyLoad({target:image})}})});document.addEventListener("load",proxyLoad,true);document.documentElement.addEventListener("lazybeforesizes",function(e){if(e.defaultPrevented||!e.target._lazybgset){return}e.detail.width=proxyWidth(e.target._lazybgset)})})()},{}],89:[function(require,module,exports){(function(document){"use strict";var regImg,onLoad;if("srcset"in document.createElement("img")){regImg=/^img$/i;onLoad=function(e){e.target.style.backgroundSize="";e.target.style.backgroundImage="";e.target.removeEventListener(e.type,onLoad)};document.addEventListener("lazybeforeunveil",function(e){var img=e.target;if(!regImg.test(img.nodeName)){return}var src=img.getAttribute("src");if(src){img.style.backgroundSize="100% 100%";img.style.backgroundImage="url("+src+")";img.removeAttribute("src");img.addEventListener("load",onLoad)}},false)}})(document)},{}],90:[function(require,module,exports){(function(window,document,undefined){"use strict";var polyfill;var config=window.lazySizes&&lazySizes.cfg||window.lazySizesConfig;if(!config){config={};window.lazySizesConfig=config}if(!config.supportsType){config.supportsType=function(type){return!type}}if(window.picturefill||window.respimage||config.pf){return}config.pf=function(options){var i,len;if(window.picturefill||window.respimage){return}for(i=0,len=options.elements.length;i<len;i++){polyfill(options.elements[i])}};polyfill=function(){var ascendingSort=function(a,b){return a.w-b.w};var regPxLength=/^\s*\d+px\s*$/;var reduceCandidate=function(srces){var lowerCandidate,bonusFactor;var len=srces.length;var candidate=srces[len-1];var i=0;for(i;i<len;i++){candidate=srces[i];candidate.d=candidate.w/srces.w;if(candidate.d>=srces.d){if(!candidate.cached&&(lowerCandidate=srces[i-1])&&lowerCandidate.d>srces.d-.13*Math.pow(srces.d,2.2)){bonusFactor=Math.pow(lowerCandidate.d-.6,1.6);if(lowerCandidate.cached){lowerCandidate.d+=.15*bonusFactor}if(lowerCandidate.d+(candidate.d-srces.d)*bonusFactor>srces.d){candidate=lowerCandidate}}break}}return candidate};var parseWsrcset=function(){var candidates;var regWCandidates=/(([^,\s].[^\s]+)\s+(\d+)w)/g;var regHDesc=/\s+\d+h/g;var regMultiple=/\s/;var addCandidate=function(match,candidate,url,wDescriptor){candidates.push({c:candidate,u:url,w:wDescriptor*1})};return function(input){candidates=[];input=input.trim();input.replace(regHDesc,"").replace(regWCandidates,addCandidate);if(!candidates.length&&input&&!regMultiple.test(input)){candidates.push({c:input,u:input,w:99})}return candidates}}();var runMatchMedia=function(){if(runMatchMedia.init){return}runMatchMedia.init=true;addEventListener("resize",function(){var timer;var matchMediaElems=document.getElementsByClassName("lazymatchmedia");var run=function(){var i,len;for(i=0,len=matchMediaElems.length;i<len;i++){polyfill(matchMediaElems[i])}};return function(){clearTimeout(timer);timer=setTimeout(run,66)}}())};var createSrcset=function(elem,isImage){var parsedSet;var srcSet=elem.getAttribute("srcset")||elem.getAttribute(config.srcsetAttr);if(!srcSet&&isImage){srcSet=!elem._lazypolyfill?elem.getAttribute("src")||elem.getAttribute(config.srcAttr):elem._lazypolyfill._set}if(!elem._lazypolyfill||elem._lazypolyfill._set!=srcSet){
parsedSet=parseWsrcset(srcSet||"");if(isImage&&elem.parentNode){parsedSet.isPicture=elem.parentNode.nodeName.toUpperCase()=="PICTURE";if(parsedSet.isPicture&&elem.getAttribute(config.sizesAttr)!="auto"){if(window.matchMedia||window.Modernizr&&Modernizr.mq){lazySizes.aC(elem,"lazymatchmedia");runMatchMedia()}}}parsedSet._set=srcSet;Object.defineProperty(elem,"_lazypolyfill",{value:parsedSet,writable:true})}};var getX=function(elem){var dpr=window.devicePixelRatio||1;var optimum=lazySizes.getX&&lazySizes.getX(elem);return Math.min(optimum||dpr,2.5,dpr)};var matchesMedia=function(media){if(window.matchMedia){matchesMedia=function(media){return!media||(matchMedia(media)||{}).matches}}else if(window.Modernizr&&Modernizr.mq){return!media||Modernizr.mq(media)}else{return!media}return matchesMedia(media)};var getCandidate=function(elem){var sources,i,len,media,source,srces,src,width;source=elem;createSrcset(source,true);srces=source._lazypolyfill;if(srces.isPicture){for(i=0,sources=elem.parentNode.getElementsByTagName("source"),len=sources.length;i<len;i++){if(config.supportsType(sources[i].getAttribute("type"),elem)&&matchesMedia(sources[i].getAttribute("media"))){source=sources[i];createSrcset(source);srces=source._lazypolyfill;break}}}if(srces.length>1){width=source.getAttribute("sizes")||"";width=regPxLength.test(width)&&parseInt(width,10)||lazySizes.gW(elem,elem.parentNode);srces.d=getX(elem);if(!srces.w||srces.w<width){srces.w=width;src=reduceCandidate(srces.sort(ascendingSort))}}else{src=srces[0]}return src};var p=function(elem){var candidate=getCandidate(elem);if(candidate&&candidate.u&&elem._lazypolyfill.cur!=candidate.u){elem._lazypolyfill.cur=candidate.u;candidate.cached=true;elem.setAttribute(config.srcAttr,candidate.u);elem.setAttribute("src",candidate.u)}};p.parse=parseWsrcset;return p}();if(window.HTMLPictureElement){return}if(config.loadedClass&&config.loadingClass){(function(){var sels=[];['img[sizes$="px"][srcset].',"picture > img:not([srcset])."].forEach(function(sel){sels.push(sel+config.loadedClass);sels.push(sel+config.loadingClass)});config.pf({elements:document.querySelectorAll(sels.join(", "))})})()}})(window,document);(function(document){"use strict";var regPicture;var img=document.createElement("img");if("srcset"in img&&!("sizes"in img)){regPicture=/^picture$/i;document.addEventListener("lazybeforeunveil",function(e){var elem,parent,srcset,sizes,isPicture;var picture,source;if(e.defaultPrevented||lazySizesConfig.noIOSFix||!(elem=e.target)||!(srcset=elem.getAttribute(lazySizesConfig.srcsetAttr))||!(parent=elem.parentNode)||!(isPicture=regPicture.test(parent.nodeName||""))&&!(sizes=elem.getAttribute("sizes")||elem.getAttribute(lazySizesConfig.sizesAttr))){return}picture=isPicture?parent:document.createElement("picture");if(!elem._lazyImgSrc){Object.defineProperty(elem,"_lazyImgSrc",{value:document.createElement("source"),writable:true})}source=elem._lazyImgSrc;if(sizes){source.setAttribute("sizes",sizes)}source.setAttribute(lazySizesConfig.srcsetAttr,srcset);elem.setAttribute("data-pfsrcset",srcset);elem.removeAttribute(lazySizesConfig.srcsetAttr);if(!isPicture){parent.insertBefore(picture,elem);picture.appendChild(elem)}picture.insertBefore(source,elem)})}})(document)},{}],91:[function(require,module,exports){(function(global){!function(t,n,e){n[t]=n[t]||e(),"undefined"!=typeof module&&module.exports?module.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Promise","undefined"!=typeof global?global:this,function(){"use strict";function t(t,n){l.add(t,n),h||(h=y(l.drain))}function n(t){var n,e=typeof t;return null==t||"object"!=e&&"function"!=e||(n=t.then),"function"==typeof n?n:!1}function e(){for(var t=0;t<this.chain.length;t++)o(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function o(t,e,o){var r,i;try{e===!1?o.reject(t.msg):(r=e===!0?t.msg:e.call(void 0,t.msg),r===o.promise?o.reject(TypeError("Promise-chain cycle")):(i=n(r))?i.call(r,o.resolve,o.reject):o.resolve(r))}catch(c){o.reject(c)}}function r(o){var c,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(c=n(o))?t(function(){var t=new f(u);try{c.call(o,function(){r.apply(t,arguments)},function(){i.apply(t,arguments)})}catch(n){i.call(t,n)}}):(u.msg=o,u.state=1,u.chain.length>0&&t(e,u))}catch(a){i.call(new f(u),a)}}}function i(n){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=n,o.state=2,o.chain.length>0&&t(e,o))}function c(t,n,e,o){for(var r=0;r<n.length;r++)!function(r){t.resolve(n[r]).then(function(t){e(r,t)},o)}(r)}function f(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function a(n){if("function"!=typeof n)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var o=new u(this);this.then=function(n,r){var i={success:"function"==typeof n?n:!0,failure:"function"==typeof r?r:!1};return i.promise=new this.constructor(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");i.resolve=t,i.reject=n}),o.chain.push(i),0!==o.state&&t(e,o),i.promise},this["catch"]=function(t){return this.then(void 0,t)};try{n.call(void 0,function(t){r.call(o,t)},function(t){i.call(o,t)})}catch(c){i.call(o,c)}}var s,h,l,p=Object.prototype.toString,y="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(t,n,e,o){return Object.defineProperty(t,n,{value:e,writable:!0,configurable:o!==!1})}}catch(d){s=function(t,n,e){return t[n]=e,t}}l=function(){function t(t,n){this.fn=t,this.self=n,this.next=void 0}var n,e,o;return{add:function(r,i){o=new t(r,i),e?e.next=o:n=o,e=o,o=void 0},drain:function(){var t=n;for(n=e=h=void 0;t;)t.fn.call(t.self),t=t.next}}}();var g=s({},"constructor",a,!1);return a.prototype=g,s(g,"__NPO__",0,!1),s(a,"resolve",function(t){var n=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new n(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");n(t)})}),s(a,"reject",function(t){return new this(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");e(t)})}),s(a,"all",function(t){var n=this;return"[object Array]"!=p.call(t)?n.reject(TypeError("Not an array")):0===t.length?n.resolve([]):new n(function(e,o){if("function"!=typeof e||"function"!=typeof o)throw TypeError("Not a function");var r=t.length,i=Array(r),f=0;c(n,t,function(t,n){i[t]=n,++f===r&&e(i)},o)})}),s(a,"race",function(t){var n=this;return"[object Array]"!=p.call(t)?n.reject(TypeError("Not an array")):new n(function(e,o){if("function"!=typeof e||"function"!=typeof o)throw TypeError("Not a function");c(n,t,function(t,n){e(n)},o)})}),a})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],92:[function(require,module,exports){module.exports=require("./lib/polyglot")},{"./lib/polyglot":93}],93:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define([],function(){return factory(root)})}else if(typeof exports==="object"){module.exports=factory(root)}else{root.Polyglot=factory(root)}})(this,function(root){"use strict";function Polyglot(options){options=options||{};this.phrases={};this.extend(options.phrases||{});this.currentLocale=options.locale||"en";this.allowMissing=!!options.allowMissing;this.warn=options.warn||warn}Polyglot.VERSION="0.4.3";Polyglot.prototype.locale=function(newLocale){if(newLocale)this.currentLocale=newLocale;return this.currentLocale};Polyglot.prototype.extend=function(morePhrases,prefix){var phrase;for(var key in morePhrases){if(morePhrases.hasOwnProperty(key)){phrase=morePhrases[key];if(prefix)key=prefix+"."+key;if(typeof phrase==="object"){this.extend(phrase,key)}else{this.phrases[key]=phrase}}}};Polyglot.prototype.clear=function(){this.phrases={}};Polyglot.prototype.replace=function(newPhrases){this.clear();this.extend(newPhrases)};Polyglot.prototype.t=function(key,options){var phrase,result;options=options==null?{}:options;if(typeof options==="number"){options={smart_count:options}}if(typeof this.phrases[key]==="string"){phrase=this.phrases[key]}else if(typeof options._==="string"){phrase=options._}else if(this.allowMissing){phrase=key}else{this.warn('Missing translation for key: "'+key+'"');result=key}if(typeof phrase==="string"){options=clone(options);result=choosePluralForm(phrase,this.currentLocale,options.smart_count);result=interpolate(result,options)}return result};Polyglot.prototype.has=function(key){return key in this.phrases};var delimeter="||||";var pluralTypes={chinese:function(n){return 0},german:function(n){return n!==1?1:0},french:function(n){return n>1?1:0},russian:function(n){return n%10===1&&n%100!==11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},czech:function(n){return n===1?0:n>=2&&n<=4?1:2},polish:function(n){return n===1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!==1||n%100===11?1:0}};var pluralTypeToLanguages={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};function langToTypeMap(mapping){var type,langs,l,ret={};for(type in mapping){if(mapping.hasOwnProperty(type)){langs=mapping[type];for(l in langs){ret[langs[l]]=type}}}return ret}function trim(str){var trimRe=/^\s+|\s+$/g;return str.replace(trimRe,"")}function choosePluralForm(text,locale,count){var ret,texts,chosenText;if(count!=null&&text){texts=text.split(delimeter);chosenText=texts[pluralTypeIndex(locale,count)]||texts[0];ret=trim(chosenText)}else{ret=text}return ret}function pluralTypeName(locale){var langToPluralType=langToTypeMap(pluralTypeToLanguages);return langToPluralType[locale]||langToPluralType.en}function pluralTypeIndex(locale,count){return pluralTypes[pluralTypeName(locale)](count)}function interpolate(phrase,options){for(var arg in options){if(arg!=="_"&&options.hasOwnProperty(arg)){phrase=phrase.replace(new RegExp("%\\{"+arg+"\\}","g"),options[arg])}}return phrase}function warn(message){root.console&&root.console.warn&&root.console.warn("WARNING: "+message)}function clone(source){var ret={};for(var prop in source){ret[prop]=source[prop]}return ret}return Polyglot})},{}],94:[function(require,module,exports){function E(){}E.prototype={on:function(name,callback,ctx){var e=this.e||(this.e={});(e[name]||(e[name]=[])).push({fn:callback,ctx:ctx});return this},once:function(name,callback,ctx){var self=this;var fn=function(){self.off(name,fn);callback.apply(ctx,arguments)};return this.on(name,fn,ctx)},emit:function(name){var data=[].slice.call(arguments,1);var evtArr=((this.e||(this.e={}))[name]||[]).slice();var i=0;var len=evtArr.length;for(i;i<len;i++){evtArr[i].fn.apply(evtArr[i].ctx,data)}return this},off:function(name,callback){var e=this.e||(this.e={});var evts=e[name];var liveEvents=[];if(evts&&callback){for(var i=0,len=evts.length;i<len;i++){if(evts[i].fn!==callback)liveEvents.push(evts[i])}}liveEvents.length?e[name]=liveEvents:delete e[name];return this}};module.exports=E},{}],95:[function(require,module,exports){"use strict";var VNode=require("virtual-dom/vnode/vnode");var VText=require("virtual-dom/vnode/vtext");var domParser=new DOMParser;var propertyMap=require("./property-map");var namespaceMap=require("./namespace-map");var HTML_NAMESPACE="http://www.w3.org/1999/xhtml";module.exports=parser;function parser(el,attr){if(!el){return createNode(document.createTextNode(""))}if(typeof el==="string"){var doc=domParser.parseFromString(el,"text/html");if(doc.body.firstChild){el=doc.body.firstChild}else if(doc.head.firstChild&&(doc.head.firstChild.tagName!=="TITLE"||doc.title)){el=doc.head.firstChild}else if(doc.firstChild&&doc.firstChild.tagName!=="HTML"){el=doc.firstChild}else{el=document.createTextNode("")}}if(typeof el!=="object"||!el||!el.nodeType){throw new Error("invalid dom node",el)}return createNode(el,attr)}function createNode(el,attr){if(el.nodeType===3){return createVirtualTextNode(el)}else if(el.nodeType===1||el.nodeType===9){return createVirtualDomNode(el,attr)}return new VText("")}function createVirtualTextNode(el){return new VText(el.nodeValue)}function createVirtualDomNode(el,attr){var ns=el.namespaceURI!==HTML_NAMESPACE?el.namespaceURI:null;var key=attr&&el.getAttribute(attr)?el.getAttribute(attr):null;return new VNode(el.tagName,createProperties(el),createChildren(el,attr),key,ns)}function createChildren(el,attr){var children=[];for(var i=0;i<el.childNodes.length;i++){children.push(createNode(el.childNodes[i],attr))}return children}function createProperties(el){var properties={};if(!el.hasAttributes()){return properties}var ns;if(el.namespaceURI&&el.namespaceURI!==HTML_NAMESPACE){ns=el.namespaceURI}var attr;for(var i=0;i<el.attributes.length;i++){if(ns){attr=createPropertyNS(el.attributes[i])}else{attr=createProperty(el.attributes[i])}if(attr.ns){properties[attr.name]={namespace:attr.ns,value:attr.value}}else if(attr.isAttr){if(!properties.attributes){properties.attributes={}}properties.attributes[attr.name]=attr.value}else{properties[attr.name]=attr.value}}return properties}function createProperty(attr){var name,value,isAttr;if(propertyMap[attr.name]){name=propertyMap[attr.name]}else{name=attr.name}if(name==="style"){var style={};attr.value.split(";").forEach(function(s){var pos=s.indexOf(":");if(pos<0){return}style[s.substr(0,pos).trim()]=s.substr(pos+1).trim()});value=style}else if(name.indexOf("data-")===0){value=attr.value;isAttr=true}else{value=attr.value}return{name:name,value:value,isAttr:isAttr||false}}function createPropertyNS(attr){var name,value;return{name:attr.name,value:attr.value,ns:namespaceMap[attr.name]||""}}},{"./namespace-map":96,"./property-map":97,"virtual-dom/vnode/vnode":128,"virtual-dom/vnode/vtext":130}],96:[function(require,module,exports){"use strict";var DEFAULT_NAMESPACE=null;var EV_NAMESPACE="http://www.w3.org/2001/xml-events";var XLINK_NAMESPACE="http://www.w3.org/1999/xlink";var XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";var namespaces={about:DEFAULT_NAMESPACE,"accent-height":DEFAULT_NAMESPACE,accumulate:DEFAULT_NAMESPACE,additive:DEFAULT_NAMESPACE,"alignment-baseline":DEFAULT_NAMESPACE,alphabetic:DEFAULT_NAMESPACE,amplitude:DEFAULT_NAMESPACE,"arabic-form":DEFAULT_NAMESPACE,ascent:DEFAULT_NAMESPACE,attributeName:DEFAULT_NAMESPACE,attributeType:DEFAULT_NAMESPACE,azimuth:DEFAULT_NAMESPACE,bandwidth:DEFAULT_NAMESPACE,baseFrequency:DEFAULT_NAMESPACE,baseProfile:DEFAULT_NAMESPACE,"baseline-shift":DEFAULT_NAMESPACE,bbox:DEFAULT_NAMESPACE,begin:DEFAULT_NAMESPACE,bias:DEFAULT_NAMESPACE,by:DEFAULT_NAMESPACE,calcMode:DEFAULT_NAMESPACE,"cap-height":DEFAULT_NAMESPACE,"class":DEFAULT_NAMESPACE,clip:DEFAULT_NAMESPACE,"clip-path":DEFAULT_NAMESPACE,"clip-rule":DEFAULT_NAMESPACE,clipPathUnits:DEFAULT_NAMESPACE,color:DEFAULT_NAMESPACE,"color-interpolation":DEFAULT_NAMESPACE,"color-interpolation-filters":DEFAULT_NAMESPACE,"color-profile":DEFAULT_NAMESPACE,"color-rendering":DEFAULT_NAMESPACE,content:DEFAULT_NAMESPACE,contentScriptType:DEFAULT_NAMESPACE,contentStyleType:DEFAULT_NAMESPACE,cursor:DEFAULT_NAMESPACE,cx:DEFAULT_NAMESPACE,cy:DEFAULT_NAMESPACE,d:DEFAULT_NAMESPACE,datatype:DEFAULT_NAMESPACE,defaultAction:DEFAULT_NAMESPACE,descent:DEFAULT_NAMESPACE,diffuseConstant:DEFAULT_NAMESPACE,direction:DEFAULT_NAMESPACE,display:DEFAULT_NAMESPACE,divisor:DEFAULT_NAMESPACE,"dominant-baseline":DEFAULT_NAMESPACE,dur:DEFAULT_NAMESPACE,dx:DEFAULT_NAMESPACE,dy:DEFAULT_NAMESPACE,edgeMode:DEFAULT_NAMESPACE,editable:DEFAULT_NAMESPACE,elevation:DEFAULT_NAMESPACE,"enable-background":DEFAULT_NAMESPACE,end:DEFAULT_NAMESPACE,"ev:event":EV_NAMESPACE,event:DEFAULT_NAMESPACE,exponent:DEFAULT_NAMESPACE,externalResourcesRequired:DEFAULT_NAMESPACE,fill:DEFAULT_NAMESPACE,"fill-opacity":DEFAULT_NAMESPACE,"fill-rule":DEFAULT_NAMESPACE,filter:DEFAULT_NAMESPACE,filterRes:DEFAULT_NAMESPACE,filterUnits:DEFAULT_NAMESPACE,"flood-color":DEFAULT_NAMESPACE,"flood-opacity":DEFAULT_NAMESPACE,focusHighlight:DEFAULT_NAMESPACE,focusable:DEFAULT_NAMESPACE,"font-family":DEFAULT_NAMESPACE,"font-size":DEFAULT_NAMESPACE,"font-size-adjust":DEFAULT_NAMESPACE,"font-stretch":DEFAULT_NAMESPACE,"font-style":DEFAULT_NAMESPACE,"font-variant":DEFAULT_NAMESPACE,"font-weight":DEFAULT_NAMESPACE,format:DEFAULT_NAMESPACE,from:DEFAULT_NAMESPACE,fx:DEFAULT_NAMESPACE,fy:DEFAULT_NAMESPACE,g1:DEFAULT_NAMESPACE,g2:DEFAULT_NAMESPACE,"glyph-name":DEFAULT_NAMESPACE,"glyph-orientation-horizontal":DEFAULT_NAMESPACE,"glyph-orientation-vertical":DEFAULT_NAMESPACE,glyphRef:DEFAULT_NAMESPACE,gradientTransform:DEFAULT_NAMESPACE,gradientUnits:DEFAULT_NAMESPACE,handler:DEFAULT_NAMESPACE,hanging:DEFAULT_NAMESPACE,height:DEFAULT_NAMESPACE,"horiz-adv-x":DEFAULT_NAMESPACE,"horiz-origin-x":DEFAULT_NAMESPACE,"horiz-origin-y":DEFAULT_NAMESPACE,id:DEFAULT_NAMESPACE,ideographic:DEFAULT_NAMESPACE,"image-rendering":DEFAULT_NAMESPACE,"in":DEFAULT_NAMESPACE,in2:DEFAULT_NAMESPACE,initialVisibility:DEFAULT_NAMESPACE,intercept:DEFAULT_NAMESPACE,k:DEFAULT_NAMESPACE,k1:DEFAULT_NAMESPACE,k2:DEFAULT_NAMESPACE,k3:DEFAULT_NAMESPACE,k4:DEFAULT_NAMESPACE,kernelMatrix:DEFAULT_NAMESPACE,kernelUnitLength:DEFAULT_NAMESPACE,kerning:DEFAULT_NAMESPACE,keyPoints:DEFAULT_NAMESPACE,keySplines:DEFAULT_NAMESPACE,keyTimes:DEFAULT_NAMESPACE,lang:DEFAULT_NAMESPACE,lengthAdjust:DEFAULT_NAMESPACE,"letter-spacing":DEFAULT_NAMESPACE,"lighting-color":DEFAULT_NAMESPACE,limitingConeAngle:DEFAULT_NAMESPACE,local:DEFAULT_NAMESPACE,"marker-end":DEFAULT_NAMESPACE,"marker-mid":DEFAULT_NAMESPACE,"marker-start":DEFAULT_NAMESPACE,markerHeight:DEFAULT_NAMESPACE,markerUnits:DEFAULT_NAMESPACE,markerWidth:DEFAULT_NAMESPACE,mask:DEFAULT_NAMESPACE,maskContentUnits:DEFAULT_NAMESPACE,maskUnits:DEFAULT_NAMESPACE,mathematical:DEFAULT_NAMESPACE,max:DEFAULT_NAMESPACE,media:DEFAULT_NAMESPACE,mediaCharacterEncoding:DEFAULT_NAMESPACE,mediaContentEncodings:DEFAULT_NAMESPACE,mediaSize:DEFAULT_NAMESPACE,mediaTime:DEFAULT_NAMESPACE,method:DEFAULT_NAMESPACE,min:DEFAULT_NAMESPACE,mode:DEFAULT_NAMESPACE,name:DEFAULT_NAMESPACE,"nav-down":DEFAULT_NAMESPACE,"nav-down-left":DEFAULT_NAMESPACE,"nav-down-right":DEFAULT_NAMESPACE,"nav-left":DEFAULT_NAMESPACE,"nav-next":DEFAULT_NAMESPACE,"nav-prev":DEFAULT_NAMESPACE,"nav-right":DEFAULT_NAMESPACE,"nav-up":DEFAULT_NAMESPACE,"nav-up-left":DEFAULT_NAMESPACE,"nav-up-right":DEFAULT_NAMESPACE,numOctaves:DEFAULT_NAMESPACE,observer:DEFAULT_NAMESPACE,offset:DEFAULT_NAMESPACE,opacity:DEFAULT_NAMESPACE,operator:DEFAULT_NAMESPACE,order:DEFAULT_NAMESPACE,orient:DEFAULT_NAMESPACE,orientation:DEFAULT_NAMESPACE,origin:DEFAULT_NAMESPACE,overflow:DEFAULT_NAMESPACE,overlay:DEFAULT_NAMESPACE,"overline-position":DEFAULT_NAMESPACE,"overline-thickness":DEFAULT_NAMESPACE,"panose-1":DEFAULT_NAMESPACE,path:DEFAULT_NAMESPACE,pathLength:DEFAULT_NAMESPACE,patternContentUnits:DEFAULT_NAMESPACE,patternTransform:DEFAULT_NAMESPACE,patternUnits:DEFAULT_NAMESPACE,phase:DEFAULT_NAMESPACE,playbackOrder:DEFAULT_NAMESPACE,"pointer-events":DEFAULT_NAMESPACE,points:DEFAULT_NAMESPACE,pointsAtX:DEFAULT_NAMESPACE,pointsAtY:DEFAULT_NAMESPACE,pointsAtZ:DEFAULT_NAMESPACE,preserveAlpha:DEFAULT_NAMESPACE,preserveAspectRatio:DEFAULT_NAMESPACE,primitiveUnits:DEFAULT_NAMESPACE,propagate:DEFAULT_NAMESPACE,property:DEFAULT_NAMESPACE,r:DEFAULT_NAMESPACE,radius:DEFAULT_NAMESPACE,refX:DEFAULT_NAMESPACE,refY:DEFAULT_NAMESPACE,rel:DEFAULT_NAMESPACE,"rendering-intent":DEFAULT_NAMESPACE,repeatCount:DEFAULT_NAMESPACE,repeatDur:DEFAULT_NAMESPACE,requiredExtensions:DEFAULT_NAMESPACE,requiredFeatures:DEFAULT_NAMESPACE,requiredFonts:DEFAULT_NAMESPACE,requiredFormats:DEFAULT_NAMESPACE,resource:DEFAULT_NAMESPACE,restart:DEFAULT_NAMESPACE,result:DEFAULT_NAMESPACE,rev:DEFAULT_NAMESPACE,role:DEFAULT_NAMESPACE,rotate:DEFAULT_NAMESPACE,rx:DEFAULT_NAMESPACE,ry:DEFAULT_NAMESPACE,scale:DEFAULT_NAMESPACE,seed:DEFAULT_NAMESPACE,"shape-rendering":DEFAULT_NAMESPACE,slope:DEFAULT_NAMESPACE,snapshotTime:DEFAULT_NAMESPACE,spacing:DEFAULT_NAMESPACE,specularConstant:DEFAULT_NAMESPACE,specularExponent:DEFAULT_NAMESPACE,spreadMethod:DEFAULT_NAMESPACE,startOffset:DEFAULT_NAMESPACE,stdDeviation:DEFAULT_NAMESPACE,stemh:DEFAULT_NAMESPACE,stemv:DEFAULT_NAMESPACE,stitchTiles:DEFAULT_NAMESPACE,"stop-color":DEFAULT_NAMESPACE,"stop-opacity":DEFAULT_NAMESPACE,"strikethrough-position":DEFAULT_NAMESPACE,"strikethrough-thickness":DEFAULT_NAMESPACE,string:DEFAULT_NAMESPACE,stroke:DEFAULT_NAMESPACE,"stroke-dasharray":DEFAULT_NAMESPACE,"stroke-dashoffset":DEFAULT_NAMESPACE,"stroke-linecap":DEFAULT_NAMESPACE,"stroke-linejoin":DEFAULT_NAMESPACE,"stroke-miterlimit":DEFAULT_NAMESPACE,"stroke-opacity":DEFAULT_NAMESPACE,"stroke-width":DEFAULT_NAMESPACE,surfaceScale:DEFAULT_NAMESPACE,syncBehavior:DEFAULT_NAMESPACE,syncBehaviorDefault:DEFAULT_NAMESPACE,syncMaster:DEFAULT_NAMESPACE,syncTolerance:DEFAULT_NAMESPACE,syncToleranceDefault:DEFAULT_NAMESPACE,systemLanguage:DEFAULT_NAMESPACE,tableValues:DEFAULT_NAMESPACE,target:DEFAULT_NAMESPACE,targetX:DEFAULT_NAMESPACE,targetY:DEFAULT_NAMESPACE,"text-anchor":DEFAULT_NAMESPACE,"text-decoration":DEFAULT_NAMESPACE,"text-rendering":DEFAULT_NAMESPACE,textLength:DEFAULT_NAMESPACE,timelineBegin:DEFAULT_NAMESPACE,title:DEFAULT_NAMESPACE,to:DEFAULT_NAMESPACE,transform:DEFAULT_NAMESPACE,transformBehavior:DEFAULT_NAMESPACE,type:DEFAULT_NAMESPACE,"typeof":DEFAULT_NAMESPACE,u1:DEFAULT_NAMESPACE,u2:DEFAULT_NAMESPACE,"underline-position":DEFAULT_NAMESPACE,"underline-thickness":DEFAULT_NAMESPACE,unicode:DEFAULT_NAMESPACE,"unicode-bidi":DEFAULT_NAMESPACE,"unicode-range":DEFAULT_NAMESPACE,"units-per-em":DEFAULT_NAMESPACE,"v-alphabetic":DEFAULT_NAMESPACE,"v-hanging":DEFAULT_NAMESPACE,"v-ideographic":DEFAULT_NAMESPACE,"v-mathematical":DEFAULT_NAMESPACE,values:DEFAULT_NAMESPACE,version:DEFAULT_NAMESPACE,"vert-adv-y":DEFAULT_NAMESPACE,"vert-origin-x":DEFAULT_NAMESPACE,"vert-origin-y":DEFAULT_NAMESPACE,viewBox:DEFAULT_NAMESPACE,viewTarget:DEFAULT_NAMESPACE,visibility:DEFAULT_NAMESPACE,width:DEFAULT_NAMESPACE,widths:DEFAULT_NAMESPACE,"word-spacing":DEFAULT_NAMESPACE,"writing-mode":DEFAULT_NAMESPACE,x:DEFAULT_NAMESPACE,"x-height":DEFAULT_NAMESPACE,x1:DEFAULT_NAMESPACE,x2:DEFAULT_NAMESPACE,xChannelSelector:DEFAULT_NAMESPACE,"xlink:actuate":XLINK_NAMESPACE,"xlink:arcrole":XLINK_NAMESPACE,"xlink:href":XLINK_NAMESPACE,"xlink:role":XLINK_NAMESPACE,"xlink:show":XLINK_NAMESPACE,"xlink:title":XLINK_NAMESPACE,"xlink:type":XLINK_NAMESPACE,"xml:base":XML_NAMESPACE,"xml:id":XML_NAMESPACE,"xml:lang":XML_NAMESPACE,"xml:space":XML_NAMESPACE,y:DEFAULT_NAMESPACE,y1:DEFAULT_NAMESPACE,y2:DEFAULT_NAMESPACE,yChannelSelector:DEFAULT_NAMESPACE,z:DEFAULT_NAMESPACE,zoomAndPan:DEFAULT_NAMESPACE};module.exports=namespaces},{}],97:[function(require,module,exports){"use strict";var properties={abbr:"abbr",accept:"accept","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",allowtransparency:"allowTransparency",alt:"alt",async:"async",autocomplete:"autoComplete",autofocus:"autoFocus",autoplay:"autoPlay",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charset",checked:"checked",cite:"cite","class":"className",cols:"cols",colspan:"colSpan",command:"command",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",coords:"coords",crossorigin:"crossOrigin",data:"data",datetime:"dateTime","default":"default",defer:"defer",dir:"dir",disabled:"disabled",download:"download",draggable:"draggable",dropzone:"dropzone",enctype:"encType","for":"htmlFor",form:"form",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",frameBorder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang","http-equiv":"httpEquiv",icon:"icon",id:"id",inputmode:"inputMode",ismap:"isMap",itemid:"itemId",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",manifest:"manifest",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",ping:"ping",placeholder:"placeholder",poster:"poster",preload:"preload",radiogroup:"radioGroup",readonly:"readOnly",rel:"rel",required:"required",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",sortable:"sortable",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srcset:"srcSet",start:"start",step:"step",style:"style",tabindex:"tabIndex",target:"target",title:"title",translate:"translate",type:"type",typemustmatch:"typeMustMatch",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap"};module.exports=properties},{}],98:[function(require,module,exports){var diff=require("./vtree/diff.js");module.exports=diff},{"./vtree/diff.js":132}],99:[function(require,module,exports){var h=require("./virtual-hyperscript/index.js");module.exports=h},{"./virtual-hyperscript/index.js":117}],100:[function(require,module,exports){module.exports=function split(undef){var nativeSplit=String.prototype.split,compliantExecNpcg=/()??/.exec("")[1]===undef,self;self=function(str,separator,limit){if(Object.prototype.toString.call(separator)!=="[object RegExp]"){return nativeSplit.call(str,separator,limit)}var output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.extended?"x":"")+(separator.sticky?"y":""),lastLastIndex=0,separator=new RegExp(separator.source,flags+"g"),separator2,match,lastIndex,lastLength;str+="";if(!compliantExecNpcg){separator2=new RegExp("^"+separator.source+"$(?!\\s)",flags)}limit=limit===undef?-1>>>0:limit>>>0;while(match=separator.exec(str)){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!compliantExecNpcg&&match.length>1){match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++){if(arguments[i]===undef){match[i]=undef}}})}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex++}}if(lastLastIndex===str.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};return self}()},{}],101:[function(require,module,exports){arguments[4][73][0].apply(exports,arguments)},{dup:73,"individual/one-version":103}],102:[function(require,module,exports){arguments[4][74][0].apply(exports,arguments)},{dup:74}],103:[function(require,module,exports){arguments[4][75][0].apply(exports,arguments)},{"./index.js":102,dup:75}],104:[function(require,module,exports){arguments[4][76][0].apply(exports,arguments)},{dup:76,"min-document":67}],105:[function(require,module,exports){"use strict";module.exports=function isObject(x){return typeof x==="object"&&x!==null}},{}],106:[function(require,module,exports){var nativeIsArray=Array.isArray;var toString=Object.prototype.toString;module.exports=nativeIsArray||isArray;function isArray(obj){return toString.call(obj)==="[object Array]"}},{}],107:[function(require,module,exports){var patch=require("./vdom/patch.js");module.exports=patch},{"./vdom/patch.js":112}],108:[function(require,module,exports){var isObject=require("is-object");var isHook=require("../vnode/is-vhook.js");module.exports=applyProperties;function applyProperties(node,props,previous){for(var propName in props){var propValue=props[propName];if(propValue===undefined){removeProperty(node,propName,propValue,previous)}else if(isHook(propValue)){removeProperty(node,propName,propValue,previous);if(propValue.hook){propValue.hook(node,propName,previous?previous[propName]:undefined)}}else{if(isObject(propValue)){patchObject(node,props,previous,propName,propValue)}else{node[propName]=propValue}}}}function removeProperty(node,propName,propValue,previous){if(previous){var previousValue=previous[propName];if(!isHook(previousValue)){if(propName==="attributes"){for(var attrName in previousValue){node.removeAttribute(attrName)}}else if(propName==="style"){for(var i in previousValue){node.style[i]=""}}else if(typeof previousValue==="string"){node[propName]=""}else{node[propName]=null}}else if(previousValue.unhook){previousValue.unhook(node,propName,propValue)}}}function patchObject(node,props,previous,propName,propValue){var previousValue=previous?previous[propName]:undefined;if(propName==="attributes"){for(var attrName in propValue){var attrValue=propValue[attrName];if(attrValue===undefined){node.removeAttribute(attrName)}else{node.setAttribute(attrName,attrValue)}}return}if(previousValue&&isObject(previousValue)&&getPrototype(previousValue)!==getPrototype(propValue)){node[propName]=propValue;return}if(!isObject(node[propName])){node[propName]={}}var replacer=propName==="style"?"":undefined;for(var k in propValue){var value=propValue[k];node[propName][k]=value===undefined?replacer:value}}function getPrototype(value){if(Object.getPrototypeOf){return Object.getPrototypeOf(value)}else if(value.__proto__){return value.__proto__}else if(value.constructor){return value.constructor.prototype}}},{"../vnode/is-vhook.js":123,"is-object":105}],109:[function(require,module,exports){var document=require("global/document");var applyProperties=require("./apply-properties");var isVNode=require("../vnode/is-vnode.js");var isVText=require("../vnode/is-vtext.js");var isWidget=require("../vnode/is-widget.js");var handleThunk=require("../vnode/handle-thunk.js");module.exports=createElement;function createElement(vnode,opts){var doc=opts?opts.document||document:document;var warn=opts?opts.warn:null;vnode=handleThunk(vnode).a;if(isWidget(vnode)){return vnode.init()}else if(isVText(vnode)){return doc.createTextNode(vnode.text)}else if(!isVNode(vnode)){if(warn){warn("Item is not a valid virtual dom node",vnode)}return null}var node=vnode.namespace===null?doc.createElement(vnode.tagName):doc.createElementNS(vnode.namespace,vnode.tagName);var props=vnode.properties;applyProperties(node,props);var children=vnode.children;for(var i=0;i<children.length;i++){var childNode=createElement(children[i],opts);if(childNode){node.appendChild(childNode)}}return node}},{"../vnode/handle-thunk.js":121,"../vnode/is-vnode.js":124,"../vnode/is-vtext.js":125,"../vnode/is-widget.js":126,"./apply-properties":108,"global/document":104}],110:[function(require,module,exports){var noChild={};module.exports=domIndex;function domIndex(rootNode,tree,indices,nodes){if(!indices||indices.length===0){return{}}else{indices.sort(ascending);return recurse(rootNode,tree,indices,nodes,0)}}function recurse(rootNode,tree,indices,nodes,rootIndex){nodes=nodes||{};if(rootNode){if(indexInRange(indices,rootIndex,rootIndex)){nodes[rootIndex]=rootNode}var vChildren=tree.children;if(vChildren){var childNodes=rootNode.childNodes;for(var i=0;i<tree.children.length;i++){rootIndex+=1;var vChild=vChildren[i]||noChild;var nextIndex=rootIndex+(vChild.count||0);if(indexInRange(indices,rootIndex,nextIndex)){recurse(childNodes[i],vChild,indices,nodes,rootIndex)}rootIndex=nextIndex}}}return nodes}function indexInRange(indices,left,right){if(indices.length===0){return false}var minIndex=0;var maxIndex=indices.length-1;var currentIndex;var currentItem;while(minIndex<=maxIndex){currentIndex=(maxIndex+minIndex)/2>>0;currentItem=indices[currentIndex];if(minIndex===maxIndex){return currentItem>=left&&currentItem<=right}else if(currentItem<left){minIndex=currentIndex+1;
}else if(currentItem>right){maxIndex=currentIndex-1}else{return true}}return false}function ascending(a,b){return a>b?1:-1}},{}],111:[function(require,module,exports){var applyProperties=require("./apply-properties");var isWidget=require("../vnode/is-widget.js");var VPatch=require("../vnode/vpatch.js");var updateWidget=require("./update-widget");module.exports=applyPatch;function applyPatch(vpatch,domNode,renderOptions){var type=vpatch.type;var vNode=vpatch.vNode;var patch=vpatch.patch;switch(type){case VPatch.REMOVE:return removeNode(domNode,vNode);case VPatch.INSERT:return insertNode(domNode,patch,renderOptions);case VPatch.VTEXT:return stringPatch(domNode,vNode,patch,renderOptions);case VPatch.WIDGET:return widgetPatch(domNode,vNode,patch,renderOptions);case VPatch.VNODE:return vNodePatch(domNode,vNode,patch,renderOptions);case VPatch.ORDER:reorderChildren(domNode,patch);return domNode;case VPatch.PROPS:applyProperties(domNode,patch,vNode.properties);return domNode;case VPatch.THUNK:return replaceRoot(domNode,renderOptions.patch(domNode,patch,renderOptions));default:return domNode}}function removeNode(domNode,vNode){var parentNode=domNode.parentNode;if(parentNode){parentNode.removeChild(domNode)}destroyWidget(domNode,vNode);return null}function insertNode(parentNode,vNode,renderOptions){var newNode=renderOptions.render(vNode,renderOptions);if(parentNode){parentNode.appendChild(newNode)}return parentNode}function stringPatch(domNode,leftVNode,vText,renderOptions){var newNode;if(domNode.nodeType===3){domNode.replaceData(0,domNode.length,vText.text);newNode=domNode}else{var parentNode=domNode.parentNode;newNode=renderOptions.render(vText,renderOptions);if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}}return newNode}function widgetPatch(domNode,leftVNode,widget,renderOptions){var updating=updateWidget(leftVNode,widget);var newNode;if(updating){newNode=widget.update(leftVNode,domNode)||domNode}else{newNode=renderOptions.render(widget,renderOptions)}var parentNode=domNode.parentNode;if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}if(!updating){destroyWidget(domNode,leftVNode)}return newNode}function vNodePatch(domNode,leftVNode,vNode,renderOptions){var parentNode=domNode.parentNode;var newNode=renderOptions.render(vNode,renderOptions);if(parentNode&&newNode!==domNode){parentNode.replaceChild(newNode,domNode)}return newNode}function destroyWidget(domNode,w){if(typeof w.destroy==="function"&&isWidget(w)){w.destroy(domNode)}}function reorderChildren(domNode,moves){var childNodes=domNode.childNodes;var keyMap={};var node;var remove;var insert;for(var i=0;i<moves.removes.length;i++){remove=moves.removes[i];node=childNodes[remove.from];if(remove.key){keyMap[remove.key]=node}domNode.removeChild(node)}var length=childNodes.length;for(var j=0;j<moves.inserts.length;j++){insert=moves.inserts[j];node=keyMap[insert.key];domNode.insertBefore(node,insert.to>=length++?null:childNodes[insert.to])}}function replaceRoot(oldRoot,newRoot){if(oldRoot&&newRoot&&oldRoot!==newRoot&&oldRoot.parentNode){oldRoot.parentNode.replaceChild(newRoot,oldRoot)}return newRoot}},{"../vnode/is-widget.js":126,"../vnode/vpatch.js":129,"./apply-properties":108,"./update-widget":113}],112:[function(require,module,exports){var document=require("global/document");var isArray=require("x-is-array");var render=require("./create-element");var domIndex=require("./dom-index");var patchOp=require("./patch-op");module.exports=patch;function patch(rootNode,patches,renderOptions){renderOptions=renderOptions||{};renderOptions.patch=renderOptions.patch&&renderOptions.patch!==patch?renderOptions.patch:patchRecursive;renderOptions.render=renderOptions.render||render;return renderOptions.patch(rootNode,patches,renderOptions)}function patchRecursive(rootNode,patches,renderOptions){var indices=patchIndices(patches);if(indices.length===0){return rootNode}var index=domIndex(rootNode,patches.a,indices);var ownerDocument=rootNode.ownerDocument;if(!renderOptions.document&&ownerDocument!==document){renderOptions.document=ownerDocument}for(var i=0;i<indices.length;i++){var nodeIndex=indices[i];rootNode=applyPatch(rootNode,index[nodeIndex],patches[nodeIndex],renderOptions)}return rootNode}function applyPatch(rootNode,domNode,patchList,renderOptions){if(!domNode){return rootNode}var newNode;if(isArray(patchList)){for(var i=0;i<patchList.length;i++){newNode=patchOp(patchList[i],domNode,renderOptions);if(domNode===rootNode){rootNode=newNode}}}else{newNode=patchOp(patchList,domNode,renderOptions);if(domNode===rootNode){rootNode=newNode}}return rootNode}function patchIndices(patches){var indices=[];for(var key in patches){if(key!=="a"){indices.push(Number(key))}}return indices}},{"./create-element":109,"./dom-index":110,"./patch-op":111,"global/document":104,"x-is-array":106}],113:[function(require,module,exports){var isWidget=require("../vnode/is-widget.js");module.exports=updateWidget;function updateWidget(a,b){if(isWidget(a)&&isWidget(b)){if("name"in a&&"name"in b){return a.id===b.id}else{return a.init===b.init}}return false}},{"../vnode/is-widget.js":126}],114:[function(require,module,exports){"use strict";module.exports=AttributeHook;function AttributeHook(namespace,value){if(!(this instanceof AttributeHook)){return new AttributeHook(namespace,value)}this.namespace=namespace;this.value=value}AttributeHook.prototype.hook=function(node,prop,prev){if(prev&&prev.type==="AttributeHook"&&prev.value===this.value&&prev.namespace===this.namespace){return}node.setAttributeNS(this.namespace,prop,this.value)};AttributeHook.prototype.unhook=function(node,prop,next){if(next&&next.type==="AttributeHook"&&next.namespace===this.namespace){return}var colonPosition=prop.indexOf(":");var localName=colonPosition>-1?prop.substr(colonPosition+1):prop;node.removeAttributeNS(this.namespace,localName)};AttributeHook.prototype.type="AttributeHook"},{}],115:[function(require,module,exports){"use strict";var EvStore=require("ev-store");module.exports=EvHook;function EvHook(value){if(!(this instanceof EvHook)){return new EvHook(value)}this.value=value}EvHook.prototype.hook=function(node,propertyName){var es=EvStore(node);var propName=propertyName.substr(3);es[propName]=this.value};EvHook.prototype.unhook=function(node,propertyName){var es=EvStore(node);var propName=propertyName.substr(3);es[propName]=undefined}},{"ev-store":101}],116:[function(require,module,exports){"use strict";module.exports=SoftSetHook;function SoftSetHook(value){if(!(this instanceof SoftSetHook)){return new SoftSetHook(value)}this.value=value}SoftSetHook.prototype.hook=function(node,propertyName){if(node[propertyName]!==this.value){node[propertyName]=this.value}}},{}],117:[function(require,module,exports){"use strict";var isArray=require("x-is-array");var VNode=require("../vnode/vnode.js");var VText=require("../vnode/vtext.js");var isVNode=require("../vnode/is-vnode");var isVText=require("../vnode/is-vtext");var isWidget=require("../vnode/is-widget");var isHook=require("../vnode/is-vhook");var isVThunk=require("../vnode/is-thunk");var parseTag=require("./parse-tag.js");var softSetHook=require("./hooks/soft-set-hook.js");var evHook=require("./hooks/ev-hook.js");module.exports=h;function h(tagName,properties,children){var childNodes=[];var tag,props,key,namespace;if(!children&&isChildren(properties)){children=properties;props={}}props=props||properties||{};tag=parseTag(tagName,props);if(props.hasOwnProperty("key")){key=props.key;props.key=undefined}if(props.hasOwnProperty("namespace")){namespace=props.namespace;props.namespace=undefined}if(tag==="INPUT"&&!namespace&&props.hasOwnProperty("value")&&props.value!==undefined&&!isHook(props.value)){props.value=softSetHook(props.value)}transformProperties(props);if(children!==undefined&&children!==null){addChild(children,childNodes,tag,props)}return new VNode(tag,props,childNodes,key,namespace)}function addChild(c,childNodes,tag,props){if(typeof c==="string"){childNodes.push(new VText(c))}else if(typeof c==="number"){childNodes.push(new VText(String(c)))}else if(isChild(c)){childNodes.push(c)}else if(isArray(c)){for(var i=0;i<c.length;i++){addChild(c[i],childNodes,tag,props)}}else if(c===null||c===undefined){return}else{throw UnexpectedVirtualElement({foreignObject:c,parentVnode:{tagName:tag,properties:props}})}}function transformProperties(props){for(var propName in props){if(props.hasOwnProperty(propName)){var value=props[propName];if(isHook(value)){continue}if(propName.substr(0,3)==="ev-"){props[propName]=evHook(value)}}}}function isChild(x){return isVNode(x)||isVText(x)||isWidget(x)||isVThunk(x)}function isChildren(x){return typeof x==="string"||isArray(x)||isChild(x)}function UnexpectedVirtualElement(data){var err=new Error;err.type="virtual-hyperscript.unexpected.virtual-element";err.message="Unexpected virtual child passed to h().\n"+"Expected a VNode / Vthunk / VWidget / string but:\n"+"got:\n"+errorString(data.foreignObject)+".\n"+"The parent vnode is:\n"+errorString(data.parentVnode);"\n"+"Suggested fix: change your `h(..., [ ... ])` callsite.";err.foreignObject=data.foreignObject;err.parentVnode=data.parentVnode;return err}function errorString(obj){try{return JSON.stringify(obj,null,"    ")}catch(e){return String(obj)}}},{"../vnode/is-thunk":122,"../vnode/is-vhook":123,"../vnode/is-vnode":124,"../vnode/is-vtext":125,"../vnode/is-widget":126,"../vnode/vnode.js":128,"../vnode/vtext.js":130,"./hooks/ev-hook.js":115,"./hooks/soft-set-hook.js":116,"./parse-tag.js":118,"x-is-array":106}],118:[function(require,module,exports){"use strict";var split=require("browser-split");var classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/;var notClassId=/^\.|#/;module.exports=parseTag;function parseTag(tag,props){if(!tag){return"DIV"}var noId=!props.hasOwnProperty("id");var tagParts=split(tag,classIdSplit);var tagName=null;if(notClassId.test(tagParts[1])){tagName="DIV"}var classes,part,type,i;for(i=0;i<tagParts.length;i++){part=tagParts[i];if(!part){continue}type=part.charAt(0);if(!tagName){tagName=part}else if(type==="."){classes=classes||[];classes.push(part.substring(1,part.length))}else if(type==="#"&&noId){props.id=part.substring(1,part.length)}}if(classes){if(props.className){classes.push(props.className)}props.className=classes.join(" ")}return props.namespace?tagName:tagName.toUpperCase()}},{"browser-split":100}],119:[function(require,module,exports){"use strict";var DEFAULT_NAMESPACE=null;var EV_NAMESPACE="http://www.w3.org/2001/xml-events";var XLINK_NAMESPACE="http://www.w3.org/1999/xlink";var XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";var SVG_PROPERTIES={about:DEFAULT_NAMESPACE,"accent-height":DEFAULT_NAMESPACE,accumulate:DEFAULT_NAMESPACE,additive:DEFAULT_NAMESPACE,"alignment-baseline":DEFAULT_NAMESPACE,alphabetic:DEFAULT_NAMESPACE,amplitude:DEFAULT_NAMESPACE,"arabic-form":DEFAULT_NAMESPACE,ascent:DEFAULT_NAMESPACE,attributeName:DEFAULT_NAMESPACE,attributeType:DEFAULT_NAMESPACE,azimuth:DEFAULT_NAMESPACE,bandwidth:DEFAULT_NAMESPACE,baseFrequency:DEFAULT_NAMESPACE,baseProfile:DEFAULT_NAMESPACE,"baseline-shift":DEFAULT_NAMESPACE,bbox:DEFAULT_NAMESPACE,begin:DEFAULT_NAMESPACE,bias:DEFAULT_NAMESPACE,by:DEFAULT_NAMESPACE,calcMode:DEFAULT_NAMESPACE,"cap-height":DEFAULT_NAMESPACE,"class":DEFAULT_NAMESPACE,clip:DEFAULT_NAMESPACE,"clip-path":DEFAULT_NAMESPACE,"clip-rule":DEFAULT_NAMESPACE,clipPathUnits:DEFAULT_NAMESPACE,color:DEFAULT_NAMESPACE,"color-interpolation":DEFAULT_NAMESPACE,"color-interpolation-filters":DEFAULT_NAMESPACE,"color-profile":DEFAULT_NAMESPACE,"color-rendering":DEFAULT_NAMESPACE,content:DEFAULT_NAMESPACE,contentScriptType:DEFAULT_NAMESPACE,contentStyleType:DEFAULT_NAMESPACE,cursor:DEFAULT_NAMESPACE,cx:DEFAULT_NAMESPACE,cy:DEFAULT_NAMESPACE,d:DEFAULT_NAMESPACE,datatype:DEFAULT_NAMESPACE,defaultAction:DEFAULT_NAMESPACE,descent:DEFAULT_NAMESPACE,diffuseConstant:DEFAULT_NAMESPACE,direction:DEFAULT_NAMESPACE,display:DEFAULT_NAMESPACE,divisor:DEFAULT_NAMESPACE,"dominant-baseline":DEFAULT_NAMESPACE,dur:DEFAULT_NAMESPACE,dx:DEFAULT_NAMESPACE,dy:DEFAULT_NAMESPACE,edgeMode:DEFAULT_NAMESPACE,editable:DEFAULT_NAMESPACE,elevation:DEFAULT_NAMESPACE,"enable-background":DEFAULT_NAMESPACE,end:DEFAULT_NAMESPACE,"ev:event":EV_NAMESPACE,event:DEFAULT_NAMESPACE,exponent:DEFAULT_NAMESPACE,externalResourcesRequired:DEFAULT_NAMESPACE,fill:DEFAULT_NAMESPACE,"fill-opacity":DEFAULT_NAMESPACE,"fill-rule":DEFAULT_NAMESPACE,filter:DEFAULT_NAMESPACE,filterRes:DEFAULT_NAMESPACE,filterUnits:DEFAULT_NAMESPACE,"flood-color":DEFAULT_NAMESPACE,"flood-opacity":DEFAULT_NAMESPACE,focusHighlight:DEFAULT_NAMESPACE,focusable:DEFAULT_NAMESPACE,"font-family":DEFAULT_NAMESPACE,"font-size":DEFAULT_NAMESPACE,"font-size-adjust":DEFAULT_NAMESPACE,"font-stretch":DEFAULT_NAMESPACE,"font-style":DEFAULT_NAMESPACE,"font-variant":DEFAULT_NAMESPACE,"font-weight":DEFAULT_NAMESPACE,format:DEFAULT_NAMESPACE,from:DEFAULT_NAMESPACE,fx:DEFAULT_NAMESPACE,fy:DEFAULT_NAMESPACE,g1:DEFAULT_NAMESPACE,g2:DEFAULT_NAMESPACE,"glyph-name":DEFAULT_NAMESPACE,"glyph-orientation-horizontal":DEFAULT_NAMESPACE,"glyph-orientation-vertical":DEFAULT_NAMESPACE,glyphRef:DEFAULT_NAMESPACE,gradientTransform:DEFAULT_NAMESPACE,gradientUnits:DEFAULT_NAMESPACE,handler:DEFAULT_NAMESPACE,hanging:DEFAULT_NAMESPACE,height:DEFAULT_NAMESPACE,"horiz-adv-x":DEFAULT_NAMESPACE,"horiz-origin-x":DEFAULT_NAMESPACE,"horiz-origin-y":DEFAULT_NAMESPACE,id:DEFAULT_NAMESPACE,ideographic:DEFAULT_NAMESPACE,"image-rendering":DEFAULT_NAMESPACE,"in":DEFAULT_NAMESPACE,in2:DEFAULT_NAMESPACE,initialVisibility:DEFAULT_NAMESPACE,intercept:DEFAULT_NAMESPACE,k:DEFAULT_NAMESPACE,k1:DEFAULT_NAMESPACE,k2:DEFAULT_NAMESPACE,k3:DEFAULT_NAMESPACE,k4:DEFAULT_NAMESPACE,kernelMatrix:DEFAULT_NAMESPACE,kernelUnitLength:DEFAULT_NAMESPACE,kerning:DEFAULT_NAMESPACE,keyPoints:DEFAULT_NAMESPACE,keySplines:DEFAULT_NAMESPACE,keyTimes:DEFAULT_NAMESPACE,lang:DEFAULT_NAMESPACE,lengthAdjust:DEFAULT_NAMESPACE,"letter-spacing":DEFAULT_NAMESPACE,"lighting-color":DEFAULT_NAMESPACE,limitingConeAngle:DEFAULT_NAMESPACE,local:DEFAULT_NAMESPACE,"marker-end":DEFAULT_NAMESPACE,"marker-mid":DEFAULT_NAMESPACE,"marker-start":DEFAULT_NAMESPACE,markerHeight:DEFAULT_NAMESPACE,markerUnits:DEFAULT_NAMESPACE,markerWidth:DEFAULT_NAMESPACE,mask:DEFAULT_NAMESPACE,maskContentUnits:DEFAULT_NAMESPACE,maskUnits:DEFAULT_NAMESPACE,mathematical:DEFAULT_NAMESPACE,max:DEFAULT_NAMESPACE,media:DEFAULT_NAMESPACE,mediaCharacterEncoding:DEFAULT_NAMESPACE,mediaContentEncodings:DEFAULT_NAMESPACE,mediaSize:DEFAULT_NAMESPACE,mediaTime:DEFAULT_NAMESPACE,method:DEFAULT_NAMESPACE,min:DEFAULT_NAMESPACE,mode:DEFAULT_NAMESPACE,name:DEFAULT_NAMESPACE,"nav-down":DEFAULT_NAMESPACE,"nav-down-left":DEFAULT_NAMESPACE,"nav-down-right":DEFAULT_NAMESPACE,"nav-left":DEFAULT_NAMESPACE,"nav-next":DEFAULT_NAMESPACE,"nav-prev":DEFAULT_NAMESPACE,"nav-right":DEFAULT_NAMESPACE,"nav-up":DEFAULT_NAMESPACE,"nav-up-left":DEFAULT_NAMESPACE,"nav-up-right":DEFAULT_NAMESPACE,numOctaves:DEFAULT_NAMESPACE,observer:DEFAULT_NAMESPACE,offset:DEFAULT_NAMESPACE,opacity:DEFAULT_NAMESPACE,operator:DEFAULT_NAMESPACE,order:DEFAULT_NAMESPACE,orient:DEFAULT_NAMESPACE,orientation:DEFAULT_NAMESPACE,origin:DEFAULT_NAMESPACE,overflow:DEFAULT_NAMESPACE,overlay:DEFAULT_NAMESPACE,"overline-position":DEFAULT_NAMESPACE,"overline-thickness":DEFAULT_NAMESPACE,"panose-1":DEFAULT_NAMESPACE,path:DEFAULT_NAMESPACE,pathLength:DEFAULT_NAMESPACE,patternContentUnits:DEFAULT_NAMESPACE,patternTransform:DEFAULT_NAMESPACE,patternUnits:DEFAULT_NAMESPACE,phase:DEFAULT_NAMESPACE,playbackOrder:DEFAULT_NAMESPACE,"pointer-events":DEFAULT_NAMESPACE,points:DEFAULT_NAMESPACE,pointsAtX:DEFAULT_NAMESPACE,pointsAtY:DEFAULT_NAMESPACE,pointsAtZ:DEFAULT_NAMESPACE,preserveAlpha:DEFAULT_NAMESPACE,preserveAspectRatio:DEFAULT_NAMESPACE,primitiveUnits:DEFAULT_NAMESPACE,propagate:DEFAULT_NAMESPACE,property:DEFAULT_NAMESPACE,r:DEFAULT_NAMESPACE,radius:DEFAULT_NAMESPACE,refX:DEFAULT_NAMESPACE,refY:DEFAULT_NAMESPACE,rel:DEFAULT_NAMESPACE,"rendering-intent":DEFAULT_NAMESPACE,repeatCount:DEFAULT_NAMESPACE,repeatDur:DEFAULT_NAMESPACE,requiredExtensions:DEFAULT_NAMESPACE,requiredFeatures:DEFAULT_NAMESPACE,requiredFonts:DEFAULT_NAMESPACE,requiredFormats:DEFAULT_NAMESPACE,resource:DEFAULT_NAMESPACE,restart:DEFAULT_NAMESPACE,result:DEFAULT_NAMESPACE,rev:DEFAULT_NAMESPACE,role:DEFAULT_NAMESPACE,rotate:DEFAULT_NAMESPACE,rx:DEFAULT_NAMESPACE,ry:DEFAULT_NAMESPACE,scale:DEFAULT_NAMESPACE,seed:DEFAULT_NAMESPACE,"shape-rendering":DEFAULT_NAMESPACE,slope:DEFAULT_NAMESPACE,snapshotTime:DEFAULT_NAMESPACE,spacing:DEFAULT_NAMESPACE,specularConstant:DEFAULT_NAMESPACE,specularExponent:DEFAULT_NAMESPACE,spreadMethod:DEFAULT_NAMESPACE,startOffset:DEFAULT_NAMESPACE,stdDeviation:DEFAULT_NAMESPACE,stemh:DEFAULT_NAMESPACE,stemv:DEFAULT_NAMESPACE,stitchTiles:DEFAULT_NAMESPACE,"stop-color":DEFAULT_NAMESPACE,"stop-opacity":DEFAULT_NAMESPACE,"strikethrough-position":DEFAULT_NAMESPACE,"strikethrough-thickness":DEFAULT_NAMESPACE,string:DEFAULT_NAMESPACE,stroke:DEFAULT_NAMESPACE,"stroke-dasharray":DEFAULT_NAMESPACE,"stroke-dashoffset":DEFAULT_NAMESPACE,"stroke-linecap":DEFAULT_NAMESPACE,"stroke-linejoin":DEFAULT_NAMESPACE,"stroke-miterlimit":DEFAULT_NAMESPACE,"stroke-opacity":DEFAULT_NAMESPACE,"stroke-width":DEFAULT_NAMESPACE,surfaceScale:DEFAULT_NAMESPACE,syncBehavior:DEFAULT_NAMESPACE,syncBehaviorDefault:DEFAULT_NAMESPACE,syncMaster:DEFAULT_NAMESPACE,syncTolerance:DEFAULT_NAMESPACE,syncToleranceDefault:DEFAULT_NAMESPACE,systemLanguage:DEFAULT_NAMESPACE,tableValues:DEFAULT_NAMESPACE,target:DEFAULT_NAMESPACE,targetX:DEFAULT_NAMESPACE,targetY:DEFAULT_NAMESPACE,"text-anchor":DEFAULT_NAMESPACE,"text-decoration":DEFAULT_NAMESPACE,"text-rendering":DEFAULT_NAMESPACE,textLength:DEFAULT_NAMESPACE,timelineBegin:DEFAULT_NAMESPACE,title:DEFAULT_NAMESPACE,to:DEFAULT_NAMESPACE,transform:DEFAULT_NAMESPACE,transformBehavior:DEFAULT_NAMESPACE,type:DEFAULT_NAMESPACE,"typeof":DEFAULT_NAMESPACE,u1:DEFAULT_NAMESPACE,u2:DEFAULT_NAMESPACE,"underline-position":DEFAULT_NAMESPACE,"underline-thickness":DEFAULT_NAMESPACE,unicode:DEFAULT_NAMESPACE,"unicode-bidi":DEFAULT_NAMESPACE,"unicode-range":DEFAULT_NAMESPACE,"units-per-em":DEFAULT_NAMESPACE,"v-alphabetic":DEFAULT_NAMESPACE,"v-hanging":DEFAULT_NAMESPACE,"v-ideographic":DEFAULT_NAMESPACE,"v-mathematical":DEFAULT_NAMESPACE,values:DEFAULT_NAMESPACE,version:DEFAULT_NAMESPACE,"vert-adv-y":DEFAULT_NAMESPACE,"vert-origin-x":DEFAULT_NAMESPACE,"vert-origin-y":DEFAULT_NAMESPACE,viewBox:DEFAULT_NAMESPACE,viewTarget:DEFAULT_NAMESPACE,visibility:DEFAULT_NAMESPACE,width:DEFAULT_NAMESPACE,widths:DEFAULT_NAMESPACE,"word-spacing":DEFAULT_NAMESPACE,"writing-mode":DEFAULT_NAMESPACE,x:DEFAULT_NAMESPACE,"x-height":DEFAULT_NAMESPACE,x1:DEFAULT_NAMESPACE,x2:DEFAULT_NAMESPACE,xChannelSelector:DEFAULT_NAMESPACE,"xlink:actuate":XLINK_NAMESPACE,"xlink:arcrole":XLINK_NAMESPACE,"xlink:href":XLINK_NAMESPACE,"xlink:role":XLINK_NAMESPACE,"xlink:show":XLINK_NAMESPACE,"xlink:title":XLINK_NAMESPACE,"xlink:type":XLINK_NAMESPACE,"xml:base":XML_NAMESPACE,"xml:id":XML_NAMESPACE,"xml:lang":XML_NAMESPACE,"xml:space":XML_NAMESPACE,y:DEFAULT_NAMESPACE,y1:DEFAULT_NAMESPACE,y2:DEFAULT_NAMESPACE,yChannelSelector:DEFAULT_NAMESPACE,z:DEFAULT_NAMESPACE,zoomAndPan:DEFAULT_NAMESPACE};module.exports=SVGAttributeNamespace;function SVGAttributeNamespace(value){if(SVG_PROPERTIES.hasOwnProperty(value)){return SVG_PROPERTIES[value]}}},{}],120:[function(require,module,exports){"use strict";var isArray=require("x-is-array");var h=require("./index.js");var SVGAttributeNamespace=require("./svg-attribute-namespace");var attributeHook=require("./hooks/attribute-hook");var SVG_NAMESPACE="http://www.w3.org/2000/svg";module.exports=svg;function svg(tagName,properties,children){if(!children&&isChildren(properties)){children=properties;properties={}}properties=properties||{};properties.namespace=SVG_NAMESPACE;var attributes=properties.attributes||(properties.attributes={});for(var key in properties){if(!properties.hasOwnProperty(key)){continue}var namespace=SVGAttributeNamespace(key);if(namespace===undefined){continue}var value=properties[key];if(typeof value!=="string"&&typeof value!=="number"&&typeof value!=="boolean"){continue}if(namespace!==null){properties[key]=attributeHook(namespace,value);continue}attributes[key]=value;properties[key]=undefined}return h(tagName,properties,children)}function isChildren(x){return typeof x==="string"||isArray(x)}},{"./hooks/attribute-hook":114,"./index.js":117,"./svg-attribute-namespace":119,"x-is-array":106}],121:[function(require,module,exports){var isVNode=require("./is-vnode");var isVText=require("./is-vtext");var isWidget=require("./is-widget");var isThunk=require("./is-thunk");module.exports=handleThunk;function handleThunk(a,b){var renderedA=a;var renderedB=b;if(isThunk(b)){renderedB=renderThunk(b,a)}if(isThunk(a)){renderedA=renderThunk(a,null)}return{a:renderedA,b:renderedB}}function renderThunk(thunk,previous){var renderedThunk=thunk.vnode;if(!renderedThunk){renderedThunk=thunk.vnode=thunk.render(previous)}if(!(isVNode(renderedThunk)||isVText(renderedThunk)||isWidget(renderedThunk))){throw new Error("thunk did not return a valid node")}return renderedThunk}},{"./is-thunk":122,"./is-vnode":124,"./is-vtext":125,"./is-widget":126}],122:[function(require,module,exports){module.exports=isThunk;function isThunk(t){return t&&t.type==="Thunk"}},{}],123:[function(require,module,exports){module.exports=isHook;function isHook(hook){return hook&&(typeof hook.hook==="function"&&!hook.hasOwnProperty("hook")||typeof hook.unhook==="function"&&!hook.hasOwnProperty("unhook"))}},{}],124:[function(require,module,exports){var version=require("./version");module.exports=isVirtualNode;function isVirtualNode(x){return x&&x.type==="VirtualNode"&&x.version===version}},{"./version":127}],125:[function(require,module,exports){var version=require("./version");module.exports=isVirtualText;function isVirtualText(x){return x&&x.type==="VirtualText"&&x.version===version}},{"./version":127}],126:[function(require,module,exports){module.exports=isWidget;function isWidget(w){return w&&w.type==="Widget"}},{}],127:[function(require,module,exports){module.exports="2"},{}],128:[function(require,module,exports){var version=require("./version");var isVNode=require("./is-vnode");var isWidget=require("./is-widget");var isThunk=require("./is-thunk");var isVHook=require("./is-vhook");module.exports=VirtualNode;var noProperties={};var noChildren=[];function VirtualNode(tagName,properties,children,key,namespace){this.tagName=tagName;this.properties=properties||noProperties;this.children=children||noChildren;this.key=key!=null?String(key):undefined;this.namespace=typeof namespace==="string"?namespace:null;var count=children&&children.length||0;var descendants=0;var hasWidgets=false;var hasThunks=false;var descendantHooks=false;var hooks;for(var propName in properties){if(properties.hasOwnProperty(propName)){var property=properties[propName];if(isVHook(property)&&property.unhook){if(!hooks){hooks={}}hooks[propName]=property}}}for(var i=0;i<count;i++){var child=children[i];if(isVNode(child)){descendants+=child.count||0;if(!hasWidgets&&child.hasWidgets){hasWidgets=true}if(!hasThunks&&child.hasThunks){hasThunks=true}if(!descendantHooks&&(child.hooks||child.descendantHooks)){descendantHooks=true}}else if(!hasWidgets&&isWidget(child)){if(typeof child.destroy==="function"){hasWidgets=true}}else if(!hasThunks&&isThunk(child)){hasThunks=true}}this.count=count+descendants;this.hasWidgets=hasWidgets;this.hasThunks=hasThunks;this.hooks=hooks;this.descendantHooks=descendantHooks}VirtualNode.prototype.version=version;VirtualNode.prototype.type="VirtualNode"},{"./is-thunk":122,"./is-vhook":123,"./is-vnode":124,"./is-widget":126,"./version":127}],129:[function(require,module,exports){var version=require("./version");VirtualPatch.NONE=0;VirtualPatch.VTEXT=1;VirtualPatch.VNODE=2;VirtualPatch.WIDGET=3;VirtualPatch.PROPS=4;VirtualPatch.ORDER=5;VirtualPatch.INSERT=6;VirtualPatch.REMOVE=7;VirtualPatch.THUNK=8;module.exports=VirtualPatch;function VirtualPatch(type,vNode,patch){this.type=Number(type);this.vNode=vNode;this.patch=patch}VirtualPatch.prototype.version=version;VirtualPatch.prototype.type="VirtualPatch"},{"./version":127}],130:[function(require,module,exports){var version=require("./version");module.exports=VirtualText;function VirtualText(text){this.text=String(text)}VirtualText.prototype.version=version;VirtualText.prototype.type="VirtualText"},{"./version":127}],131:[function(require,module,exports){var isObject=require("is-object");var isHook=require("../vnode/is-vhook");module.exports=diffProps;function diffProps(a,b){var diff;for(var aKey in a){if(!(aKey in b)){diff=diff||{};diff[aKey]=undefined}var aValue=a[aKey];var bValue=b[aKey];if(aValue===bValue){continue}else if(isObject(aValue)&&isObject(bValue)){if(getPrototype(bValue)!==getPrototype(aValue)){diff=diff||{};diff[aKey]=bValue}else if(isHook(bValue)){diff=diff||{};diff[aKey]=bValue}else{var objectDiff=diffProps(aValue,bValue);if(objectDiff){diff=diff||{};diff[aKey]=objectDiff}}}else{diff=diff||{};diff[aKey]=bValue}}for(var bKey in b){if(!(bKey in a)){diff=diff||{};diff[bKey]=b[bKey]}}return diff}function getPrototype(value){if(Object.getPrototypeOf){return Object.getPrototypeOf(value)}else if(value.__proto__){return value.__proto__}else if(value.constructor){return value.constructor.prototype}}},{"../vnode/is-vhook":123,"is-object":105}],132:[function(require,module,exports){var isArray=require("x-is-array");var VPatch=require("../vnode/vpatch");var isVNode=require("../vnode/is-vnode");var isVText=require("../vnode/is-vtext");var isWidget=require("../vnode/is-widget");var isThunk=require("../vnode/is-thunk");var handleThunk=require("../vnode/handle-thunk");var diffProps=require("./diff-props");module.exports=diff;function diff(a,b){var patch={a:a};walk(a,b,patch,0);return patch}function walk(a,b,patch,index){if(a===b){return}var apply=patch[index];var applyClear=false;if(isThunk(a)||isThunk(b)){thunks(a,b,patch,index)}else if(b==null){if(!isWidget(a)){clearState(a,patch,index);apply=patch[index]}apply=appendPatch(apply,new VPatch(VPatch.REMOVE,a,b))}else if(isVNode(b)){if(isVNode(a)){if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var propsPatch=diffProps(a.properties,b.properties);if(propsPatch){apply=appendPatch(apply,new VPatch(VPatch.PROPS,a,propsPatch))}apply=diffChildren(a,b,patch,apply,index)}else{apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b));applyClear=true}}else{apply=appendPatch(apply,new VPatch(VPatch.VNODE,a,b));applyClear=true}}else if(isVText(b)){if(!isVText(a)){apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b));applyClear=true}else if(a.text!==b.text){apply=appendPatch(apply,new VPatch(VPatch.VTEXT,a,b))}}else if(isWidget(b)){if(!isWidget(a)){applyClear=true}apply=appendPatch(apply,new VPatch(VPatch.WIDGET,a,b))}if(apply){patch[index]=apply}if(applyClear){clearState(a,patch,index)}}function diffChildren(a,b,patch,apply,index){var aChildren=a.children;var orderedSet=reorder(aChildren,b.children);var bChildren=orderedSet.children;var aLen=aChildren.length;var bLen=bChildren.length;var len=aLen>bLen?aLen:bLen;for(var i=0;i<len;i++){var leftNode=aChildren[i];var rightNode=bChildren[i];index+=1;if(!leftNode){if(rightNode){apply=appendPatch(apply,new VPatch(VPatch.INSERT,null,rightNode))}}else{walk(leftNode,rightNode,patch,index)}if(isVNode(leftNode)&&leftNode.count){index+=leftNode.count}}if(orderedSet.moves){apply=appendPatch(apply,new VPatch(VPatch.ORDER,a,orderedSet.moves))}return apply}function clearState(vNode,patch,index){unhook(vNode,patch,index);destroyWidgets(vNode,patch,index)}function destroyWidgets(vNode,patch,index){if(isWidget(vNode)){if(typeof vNode.destroy==="function"){patch[index]=appendPatch(patch[index],new VPatch(VPatch.REMOVE,vNode,null))}}else if(isVNode(vNode)&&(vNode.hasWidgets||vNode.hasThunks)){var children=vNode.children;var len=children.length;for(var i=0;i<len;i++){var child=children[i];index+=1;destroyWidgets(child,patch,index);if(isVNode(child)&&child.count){index+=child.count}}}else if(isThunk(vNode)){thunks(vNode,null,patch,index)}}function thunks(a,b,patch,index){var nodes=handleThunk(a,b);var thunkPatch=diff(nodes.a,nodes.b);if(hasPatches(thunkPatch)){patch[index]=new VPatch(VPatch.THUNK,null,thunkPatch)}}function hasPatches(patch){for(var index in patch){if(index!=="a"){return true}}return false}function unhook(vNode,patch,index){if(isVNode(vNode)){if(vNode.hooks){patch[index]=appendPatch(patch[index],new VPatch(VPatch.PROPS,vNode,undefinedKeys(vNode.hooks)))}if(vNode.descendantHooks||vNode.hasThunks){var children=vNode.children;var len=children.length;for(var i=0;i<len;i++){var child=children[i];index+=1;unhook(child,patch,index);if(isVNode(child)&&child.count){index+=child.count}}}}else if(isThunk(vNode)){thunks(vNode,null,patch,index)}}function undefinedKeys(obj){var result={};for(var key in obj){result[key]=undefined}return result}function reorder(aChildren,bChildren){var bChildIndex=keyIndex(bChildren);var bKeys=bChildIndex.keys;var bFree=bChildIndex.free;if(bFree.length===bChildren.length){return{children:bChildren,moves:null}}var aChildIndex=keyIndex(aChildren);var aKeys=aChildIndex.keys;var aFree=aChildIndex.free;if(aFree.length===aChildren.length){return{children:bChildren,moves:null}}var newChildren=[];var freeIndex=0;var freeCount=bFree.length;var deletedItems=0;for(var i=0;i<aChildren.length;i++){var aItem=aChildren[i];var itemIndex;if(aItem.key){if(bKeys.hasOwnProperty(aItem.key)){itemIndex=bKeys[aItem.key];newChildren.push(bChildren[itemIndex])}else{itemIndex=i-deletedItems++;newChildren.push(null)}}else{if(freeIndex<freeCount){itemIndex=bFree[freeIndex++];newChildren.push(bChildren[itemIndex])}else{itemIndex=i-deletedItems++;newChildren.push(null)}}}var lastFreeIndex=freeIndex>=bFree.length?bChildren.length:bFree[freeIndex];for(var j=0;j<bChildren.length;j++){var newItem=bChildren[j];if(newItem.key){if(!aKeys.hasOwnProperty(newItem.key)){newChildren.push(newItem)}}else if(j>=lastFreeIndex){newChildren.push(newItem)}}var simulate=newChildren.slice();var simulateIndex=0;var removes=[];var inserts=[];var simulateItem;for(var k=0;k<bChildren.length;){var wantedItem=bChildren[k];simulateItem=simulate[simulateIndex];while(simulateItem===null&&simulate.length){removes.push(remove(simulate,simulateIndex,null));simulateItem=simulate[simulateIndex]}if(!simulateItem||simulateItem.key!==wantedItem.key){if(wantedItem.key){if(simulateItem&&simulateItem.key){if(bKeys[simulateItem.key]!==k+1){removes.push(remove(simulate,simulateIndex,simulateItem.key));simulateItem=simulate[simulateIndex];if(!simulateItem||simulateItem.key!==wantedItem.key){inserts.push({key:wantedItem.key,to:k})}else{simulateIndex++}}else{inserts.push({key:wantedItem.key,to:k})}}else{inserts.push({key:wantedItem.key,to:k})}k++}else if(simulateItem&&simulateItem.key){removes.push(remove(simulate,simulateIndex,simulateItem.key))}}else{simulateIndex++;k++}}while(simulateIndex<simulate.length){simulateItem=simulate[simulateIndex];removes.push(remove(simulate,simulateIndex,simulateItem&&simulateItem.key))}if(removes.length===deletedItems&&!inserts.length){return{children:newChildren,moves:null}}return{children:newChildren,moves:{removes:removes,inserts:inserts}}}function remove(arr,index,key){arr.splice(index,1);return{from:index,key:key}}function keyIndex(children){var keys={};var free=[];var length=children.length;for(var i=0;i<length;i++){var child=children[i];if(child.key){keys[child.key]=i}else{free.push(i)}}return{keys:keys,free:free}}function appendPatch(apply,patch){if(apply){if(isArray(apply)){apply.push(patch)}else{apply=[apply,patch]}return apply}else{return patch}}},{"../vnode/handle-thunk":121,"../vnode/is-thunk":122,"../vnode/is-vnode":124,"../vnode/is-vtext":125,"../vnode/is-widget":126,"../vnode/vpatch":129,"./diff-props":131,"x-is-array":106}],133:[function(require,module,exports){(function(){"use strict";if(self.fetch){return}function normalizeName(name){
if(typeof name!=="string"){name=name.toString()}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=value.toString()}return value}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var list=this.map[name];if(!list){list=[];this.map[name]=list}list.push(value)};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){var values=this.map[normalizeName(name)];return values?values[0]:null};Headers.prototype.getAll=function(name){return this.map[normalizeName(name)]||[]};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=[normalizeValue(value)]};Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this.map).forEach(function(name){this.map[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)};function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;reader.readAsArrayBuffer(blob);return fileReaderReady(reader)}function readBlobAsText(blob){var reader=new FileReader;reader.readAsText(blob);return fileReaderReady(reader)}var support={blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self};function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(!body){this._bodyText=""}else{throw new Error("unsupported BodyInit type")}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){return this.blob().then(readBlobAsArrayBuffer)};this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}}}else{this.text=function(){var rejected=consumed(this);return rejected?rejected:Promise.resolve(this._bodyText)}}if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(url,options){options=options||{};this.url=url;this.credentials=options.credentials||"omit";this.headers=new Headers(options.headers);this.method=normalizeMethod(options.method||"GET");this.mode=options.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&options.body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(options.body)}function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function headers(xhr){var head=new Headers;var pairs=xhr.getAllResponseHeaders().trim().split("\n");pairs.forEach(function(header){var split=header.trim().split(":");var key=split.shift().trim();var value=split.join(":").trim();head.append(key,value)});return head}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this._initBody(bodyInit);this.type="default";this.url=null;this.status=options.status;this.ok=this.status>=200&&this.status<300;this.statusText=options.statusText;this.headers=options.headers instanceof Headers?options.headers:new Headers(options.headers);this.url=options.url||""}Body.call(Response.prototype);self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){var request;if(Request.prototype.isPrototypeOf(input)&&!init){request=input}else{request=new Request(input,init)}return new Promise(function(resolve,reject){var xhr=new XMLHttpRequest;function responseURL(){if("responseURL"in xhr){return xhr.responseURL}if(/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())){return xhr.getResponseHeader("X-Request-URL")}return}xhr.onload=function(){var status=xhr.status===1223?204:xhr.status;if(status<100||status>599){reject(new TypeError("Network request failed"));return}var options={status:status,statusText:xhr.statusText,headers:headers(xhr),url:responseURL()};var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})()},{}],134:[function(require,module,exports){module.exports=extend;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(source.hasOwnProperty(key)){target[key]=source[key]}}}return target}},{}]},{},[23])(23)});